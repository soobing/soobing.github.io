{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/nextjs-cache-miss-reason/",
    "result": {"data":{"cur":{"id":"b7a335ab-0d0e-508c-a4d7-558c453a45c1","html":"<p>서버사이드 렌더링을 지원하는 Next.js와 같은 프레임워크에서는 캐싱이 필수적입니다. 캐싱을 하지 않으면 동일한 요청이 반복 실행되어 비효율적인 네트워크 사용과 과도한 서버 부하가 발생하기 때문입니다.</p>\n<p>Next.js는 기본적으로 fetch 요청을 캐싱하지만, 특정 조건에서는 자동으로 캐싱이 해제될 수 있습니다. 특히 <code>cookies()</code> 함수를 사용하면 fetch 요청이 <code>no-store</code>로 설정되는 문제가 발생하여 의도치 않게 캐싱이 비활성화(Opt-out)되고, 이로 인해 서버 부하가 증가할 수 있습니다.</p>\n<p>또한, Next.js 14와 15 버전에서는 캐싱 기본 정책이 완전히 달라졌습니다. 이 글을 통해 두 버전에서 캐싱 방식이 어떻게 달라졌는지 함께 살펴보겠습니다.</p>\n<h2 id=\"nextjs-14의-기본-fetch-캐싱-동작\" style=\"position:relative;\"><a href=\"#nextjs-14%EC%9D%98-%EA%B8%B0%EB%B3%B8-fetch-%EC%BA%90%EC%8B%B1-%EB%8F%99%EC%9E%91\" aria-label=\"nextjs 14의 기본 fetch 캐싱 동작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js 14의 기본 fetch 캐싱 동작</h2>\n<p>Next.js 14에서는 <code>fetch</code> 요청 시 기본적으로 <code>force-cache</code>가 적용됩니다. 즉, 명시적으로 캐싱을 비활성화하지 않으면 Next.js가 요청을 캐싱하여 응답 속도를 최적화합니다.</p>\n<p>그러나 특정 조건에서는 <code>fetch</code> 요청이 자동으로 캐싱되지 않으며, 그중 하나가 <code>cookies()</code> 함수를 사용하는 경우입니다.</p>\n<p><a href=\"https://nextjs.org/docs/14/app/api-reference/functions/fetch#optionscache\">v14의 공식문서 참고</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACm0lEQVQ4y6VUyW7bMBTU//9EAGc59A8CNG1yKVC0aI5J6kSRvMmUVy02KVLkFPNkuYaLHooKGM1bqMfhI6nILr+iUfcw6gEm+wydfYKe3WE/u+t4+hFm/iA2ufPvEcofQPWI0KP8jqBTRK6p0egC1pRH9rY+wQ7e7Trb7X6j1Qj+HBZRls0RxwmUyvH+nmKzKfAvTzjzozzPMZvNsFjkoK3UHEopLBYLidFeLpeHWI75do9Z4TAvLUIIUlL4YEdN06CxBs46gTFGYK2F5EwDd7QNGudhHGCcl0LniLz10FuLcl+jNBXa4NG2LcqyhNYatd2j0BVqs+viukKlKzjb/KWg9wgOaL1HG9quLyHAOQfmfPBwvpWJ+JAZ65Z71k8W5IcqV9I/9i1XOdbrNYqiEGasLApsNhuxGWNPmV+tVoe+K2mJbAqrMjmZTCSRZZmAH9M/BTePuVN/t+ta0SuO+OImcKbioIQzs4dUQpuqemasH9OvZLvdSo1jwbqukaYpptOpgDPTH41Gonw8Hh+ZYI6cJIkUNdqISilIg7P2CrnU3qcK+uReWd9r+ixGdVVVCaQgm0klnJHKqKRXQ7W02bfpZCrKOKZXzDi/pdI4jkVlxAPMQavlUnaKu85YD3eAHHRj/sgLmu7gy7FhYLffQxuDgP97pCB7ME1TZGmCcr1GSxVaw+73HWst3OOYp83rWNcwRQ2rTVeQqmZfviG++oDk+hrJ5SWSwQDTmxu80766En4bDBAPBngnLgcYMX5xgdntLfLHJ2zjsaww8iFgnSksXmPkw59YDIeYPz8je3rC8vUV6uUF+XCI5dub5BaHWJEkcEohHM7fccm8r65t4byHbVtYsvdoXGc3JzHChSDj3OFm8C133nc/h1/A5qklXbiDggAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"v14의 공식문서\"\n        title=\"v14의 공식문서\"\n        src=\"/static/27ef54e2ee0b7a1497b428c69b2328c6/37523/1.png\"\n        srcset=\"/static/27ef54e2ee0b7a1497b428c69b2328c6/e9ff0/1.png 180w,\n/static/27ef54e2ee0b7a1497b428c69b2328c6/f21e7/1.png 360w,\n/static/27ef54e2ee0b7a1497b428c69b2328c6/37523/1.png 720w,\n/static/27ef54e2ee0b7a1497b428c69b2328c6/302a4/1.png 1080w,\n/static/27ef54e2ee0b7a1497b428c69b2328c6/78958/1.png 1320w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>즉, <code>cookies()</code>를 호출하는 순간 해당 요청은 캐싱되지 않으며, 이후에 실행되는 <code>fetch</code> 요청도 캐싱되지 않는 영향을 받게 됩니다.</p>\n<h3 id=\"nextjs-14에서-fetch가-캐싱되지-않는-조건\" style=\"position:relative;\"><a href=\"#nextjs-14%EC%97%90%EC%84%9C-fetch%EA%B0%80-%EC%BA%90%EC%8B%B1%EB%90%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EC%A1%B0%EA%B1%B4\" aria-label=\"nextjs 14에서 fetch가 캐싱되지 않는 조건 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://nextjs.org/docs/14/app/building-your-application/data-fetching/fetching-caching-and-revalidating#opting-out-of-data-caching\">Next.js 14에서 <code>fetch</code>가 캐싱되지 않는 조건</a></h3>\n<p>이외에도 fetch가 캐싱되지 않는 여러 조건이 존재합니다.</p>\n<ul>\n<li><code>cache: 'no-store'</code> 옵션이 포함된 경우</li>\n<li><code>revalidate: 0</code> 옵션이 적용된 경우</li>\n<li><code>POST</code> 메서드를 사용하는 API Route 핸들러 내에서 호출된 경우</li>\n<li><code>headers()</code> 또는 <code>cookies()</code>를 사용한 후 실행된 경우 ✔️</li>\n<li><code>dynamic = 'force-dynamic'</code>을 사용한 경우</li>\n<li><code>fetchCache</code> 옵션이 캐시를 건너뛰도록 설정된 경우</li>\n<li><code>Authorization</code> 또는 <code>Cookie</code> 헤더가 포함된 <code>fetch</code> 요청이고, 컴포넌트 트리 상단에서 이미 캐싱되지 않은 요청이 있는 경우</li>\n</ul>\n<h2 id=\"nextjs-15에서-완전히-변경된-캐싱-방식\" style=\"position:relative;\"><a href=\"#nextjs-15%EC%97%90%EC%84%9C-%EC%99%84%EC%A0%84%ED%9E%88-%EB%B3%80%EA%B2%BD%EB%90%9C-%EC%BA%90%EC%8B%B1-%EB%B0%A9%EC%8B%9D\" aria-label=\"nextjs 15에서 완전히 변경된 캐싱 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js 15에서 완전히 변경된 캐싱 방식</h2>\n<p>Next.js 15에서는 <code>fetch</code> 요청이 <strong>기본적으로 캐싱되지 않는 방식</strong>으로 변경되었습니다. 즉, 별도의 설정 없이도 <code>no-store</code>가 기본 적용되며, 명시적으로 캐싱을 활성화해야 합니다.</p>\n<ol>\n<li><strong>기본 캐싱 방식 변경</strong>\n<ul>\n<li>Next.js 14에서는 <code>fetch</code>의 기본 <code>cache</code> 값이 <code>force-cache</code>였지만, Next.js 15부터는 기본값이 <code>no-store</code>로 변경되었습니다.</li>\n</ul>\n</li>\n<li><strong>세부적인 캐싱 설정 추가</strong>\n<ul>\n<li><code>fetch</code> 요청에서 <code>cache: 'force-cache'</code> 또는 <code>next: { revalidate: X }</code> 옵션을 명시적으로 설정해야만 캐싱이 유지됩니다.</li>\n</ul>\n</li>\n<li><strong>서버 컴포넌트에서의 캐싱 개선</strong>\n<ul>\n<li>Next.js 15에서는 서버 컴포넌트에서 <code>fetch</code> 요청을 보다 세밀하게 제어할 수 있도록 최적화되었습니다.</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"예시\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C\" aria-label=\"예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시</h2>\n<p>먼저 next.config.js에서 다음과 같이 설정하면 fetch 된 url과 캐싱 hit/miss 까지 모두 확인 할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">/** </span><span class=\"mtk4\">@type</span><span class=\"mtk3\"> </span><span class=\"mtk10\">{import(&#39;next&#39;).NextConfig}</span><span class=\"mtk3\"> */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">nextConfig</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">logging:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">fetches:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">fullUrl:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk12\">nextConfig</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>임의로 Cookie 값을 조회하여 fetch에 실어보내야 하는 상황을 연출해보았습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">cookies</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;next/headers&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">styles</span><span class=\"mtk1\"> </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;./page.module.css&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getData</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">cookieStore</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">cookies</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">authToken</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">cookieStore</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;authToken&#39;</span><span class=\"mtk1\">)?.</span><span class=\"mtk12\">value</span><span class=\"mtk1\"> || </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;https://api.vercel.app/blog&#39;</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">method:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;GET&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">headers:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&#39;Authorization&#39;</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">`Bearer </span><span class=\"mtk4\">${</span><span class=\"mtk12\">authToken</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&#39;Content-Type&#39;</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;application/json&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk12\">ok</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;Failed to fetch data&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Home</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">result</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getData</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;fetched data result length &gt;&gt;&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">result</span><span class=\"mtk1\">.</span><span class=\"mtk12\">length</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">className</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk12\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk12\">page</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>다음 예시는 Next.js 14에서 위의 코드를 요청을 할때마다 캐싱되지 않고 새로 API를 호출하는 것을 볼 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABN0lEQVQY002QW46jMBQFs4cEzCvdIEKSARpszGNMHEg0+19TjexWS/1xdaT7cVR1DrfbjefDUs+KxoxMemTbNq7XK23bkucFVZWQZRFRFCOE4Hw+kyQJaSpIEuEzjgVCRBzSNKXverpBIkfNPM+s60rXdb5wHEes3ZnnBWstwzCg1MD9XtF1J5pG0HUhRSEIw4iDI1yWhce68rSW9a+hnzSV1azG8Hq90bqhLD+pqitVVREEgSd1BY7qJ6NIfBdu9sl9lPxZFINUPOyDy+VCXdd8fHxSFAFJEnA6BRyPR7IsI45jr+tUf9Iruy0GpdDLxLwaT7rtO3rUXs8Yw/v9D2NW9n1jmiaapvXKUp5oW0Hf/1J2O7m9lJRot4+U3L5qMl3Tu79SlGVJnuee2l0Yhl7ZEf0+p/wfBlavbwA76W8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"캐싱되지 않는 예시\"\n        title=\"캐싱되지 않는 예시\"\n        src=\"/static/e355b88afe39c237fb6d73c9cd417559/37523/2.png\"\n        srcset=\"/static/e355b88afe39c237fb6d73c9cd417559/e9ff0/2.png 180w,\n/static/e355b88afe39c237fb6d73c9cd417559/f21e7/2.png 360w,\n/static/e355b88afe39c237fb6d73c9cd417559/37523/2.png 720w,\n/static/e355b88afe39c237fb6d73c9cd417559/dc333/2.png 938w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그러나 다음과 같이 코드를 수정하여 Cookie를 실어보내지 않는 경우 캐시가 hit 되어 매번 API를 요청하지 않는다는 것을 알 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">styles</span><span class=\"mtk1\"> </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;./page.module.css&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getData</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;https://api.vercel.app/blog&#39;</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">method:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;GET&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">headers:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk8\">&#39;Content-Type&#39;</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;application/json&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk12\">ok</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;Failed to fetch data&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Home</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">result</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getData</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;fetched data result length &gt;&gt;&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">result</span><span class=\"mtk1\">.</span><span class=\"mtk12\">length</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">className</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk12\">styles</span><span class=\"mtk1\">.</span><span class=\"mtk12\">page</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACV0lEQVQ4y3WT2XKjMBBF/Q0ZGyFWg0GYYOOVHe8z+f8/OlNS1kolD7ckSvRR31b3xHUd5klGWNbI3Yg8XHEOF4JFSlRaxJlNFNgolbFcLimKAiEEtm3/qInnebT9wPpQsao7irqnbEfSLEN4f3A9gbQtXNdD/6tlWZYJ1uDv8ImUkiic021rum3F80KRRykrVRCHMVI6+L5v5LouYRgSBMGvWU7MRgiyNGO9WuM6LsIShEFIWZYopXh+fmaz2ZDnOYfDwXzPZrOfgfomdx5wrCq22y3lpiRJEpOFtqbP9fouDXqH/WhZWBZREvN4PBiGgf1+T1VVpvhfQZalgz8Df7UsbYnKl7y8vPD38aDvewPruo7T6WQs1nXNMNTU9Z44XiCE9Qn+ponjOLRta4KrpuZYHQ1EA9frNdfrlaLYsN26KPWHp6cZlvVq27z27E16LwQTfaAt9m1Hdq7YjQ3n8WRAKlWsVoXpwdUqJ8sS0lQRRRFxFOHPQ6w4QGhFPsKRrzUMojnjaWToe9qmNRa7oefQVKam2sHj8Y+m6bhczub8NI6sNiXThY9YvEENUAi6vmccRy7Xi7HeNg3HoSXut2Z/u91pmhLf168r0dOle9KREns6+7StLes6mMIfK6K6pDjuaKqaoetJwsj0XBjOUSokSQJ8PzDT4ns+jusi/Hc5CGm/1nC325mW6U8j1/vNwLrLSH6ujb37/cbxWFOWG9PgeqbL9ZqFSpnmESKLEGqOcB0meqR0FraUBH5gGtr3PKTnMvWdj3GbTqcf0kno1Zp9eeU3y/8BQq6Nk6q7hnMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"캐싱되는 예시\"\n        title=\"캐싱되는 예시\"\n        src=\"/static/184966823e758c82f2b07d87d3d2197d/37523/3.png\"\n        srcset=\"/static/184966823e758c82f2b07d87d3d2197d/e9ff0/3.png 180w,\n/static/184966823e758c82f2b07d87d3d2197d/f21e7/3.png 360w,\n/static/184966823e758c82f2b07d87d3d2197d/37523/3.png 720w,\n/static/184966823e758c82f2b07d87d3d2197d/94829/3.png 878w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>Next.js에서의 캐싱 전략은 성능 최적화와 서버 부하 감소에 중요한 역할을 합니다. Next.js 14에서는 <code>fetch</code> 요청이 기본적으로 <code>force-cache</code>를 사용하여 캐싱되지만, <code>cookies()</code> 등의 특정 함수가 포함되면 자동으로 캐싱이 해제될 수 있습니다. 반면, Next.js 15에서는 기본 <code>fetch</code> 캐싱 방식이 <code>no-store</code>로 변경되어, 캐싱을 원할 경우 명시적으로 설정해야 합니다.</p>\n<p>이러한 변화는 데이터 무결성과 실시간성을 보장하는 데 유리하지만, 불필요한 API 호출을 방지하기 위해 개발자가 직접 캐싱 설정을 조정해야 합니다. 따라서, 프로젝트의 요구 사항에 맞춰 적절한 <code>cache</code> 옵션과 <code>revalidate</code> 값을 설정하는 것이 중요합니다. 캐싱 정책을 제대로 이해하고 적용하면 서버 리소스를 절약하고 응답 속도를 향상시킬 수 있습니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","excerpt":"서버사이드 렌더링을 지원하는 Next.js와 같은 프레임워크에서는 캐싱이 필수적입니다. 캐싱을 하지 않으면 동일한 요청이 반복 실행되어 비효율적인 네트워크 사용과 과도한 서버 부하가 발생하기 때문입니다. Next.js는 기본적으로 fetch 요청을 캐싱하지만, 특정 조건에서는 자동으로 캐싱이 해제될 수 있습니다. 특히 cookies() 함수를 사용하면 fetch 요청이 no-store로 설정되는 문제가 발생하여 의도치 않게 캐싱이 비활성화(Opt-out)되고, 이로 인해 서버 부하가 증가할 수 있습니다. 또한, Next.js 14와 15 버전에서는 캐싱 기본 정책이 완전히 달라졌습니다. 이 글을 통해 두 버전에서 캐싱 방식이 어떻게 달라졌는지 함께 살펴보겠습니다. Next.js 14의 기본 fetch 캐싱 동작 Next.js 14에서는 fetch 요청 시 기본적으로 force-cache가 적용됩니다. 즉, 명시적으로 캐싱을 비활성화하지 않으면 Next.js가 요청을 캐싱하여 응답 …","frontmatter":{"date":"February 16, 2025","title":"Next.js에서 fetch 캐싱이 안 되는 이유","categories":"framework","author":"soobing"},"fields":{"slug":"/nextjs-cache-miss-reason/"}},"next":{"id":"925c3cec-0793-56ea-804e-77a806d00da0","html":"<p>기존의 SPA(Single Page Application) 방식에서는 클라이언트가 API를 호출하여 데이터를 가져오는 반면, Next.js는 서버에서 미리 데이터를 가져와 렌더링할 수 있습니다. 캐싱을 제대로 활용하지 않으면, 사용자가 페이지를 방문할 때마다 서버가 동일한 요청을 반복해서 처리해야 합니다. 이로 인해 서버 부하가 증가하고, 특히 트래픽이 많은 서비스라면 서버 리소스 사용량이 급격히 증가할 수 있습니다.</p>\n<p>Next.js에서는 강력한 캐싱 기능을 제공하여 성능을 더욱더 극대화할 수 있습니다. 이번 글에서는 Next.js의 캐싱 방식과 활용법을 좀 더 이해하기 쉽게 간략히 설명해보도록 하겠습니다.</p>\n<h2 id=\"1-캐싱이란\" style=\"position:relative;\"><a href=\"#1-%EC%BA%90%EC%8B%B1%EC%9D%B4%EB%9E%80\" aria-label=\"1 캐싱이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 캐싱이란?</h2>\n<p>캐싱(Caching)은 자주 사용하는 데이터를 미리 저장해 두었다가, 다음에 같은 요청이 들어오면 다시 계산하거나 가져오지 않고 빠르게 제공하는 기술입니다.</p>\n<h2 id=\"2-nextjs에서-제공하는-캐싱-방식\" style=\"position:relative;\"><a href=\"#2-nextjs%EC%97%90%EC%84%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EC%BA%90%EC%8B%B1-%EB%B0%A9%EC%8B%9D\" aria-label=\"2 nextjs에서 제공하는 캐싱 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Next.js에서 제공하는 캐싱 방식</h2>\n<table>\n<thead>\n<tr>\n<th><strong>Mechanism</strong></th>\n<th><strong>What</strong></th>\n<th><strong>Where</strong></th>\n<th><strong>Purpose</strong></th>\n<th><strong>Duration</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://nextjs-ko.org/docs/app/building-your-application/caching#request-memoization\">Request Memoization</a></td>\n<td>함수의 반환 값</td>\n<td>Server</td>\n<td>React Component 트리에서 데이터를 재사용</td>\n<td>요청 라이프사이클 동안</td>\n</tr>\n<tr>\n<td><a href=\"https://nextjs-ko.org/docs/app/building-your-application/caching#data-cache\">Data Cache</a></td>\n<td>데이터</td>\n<td>Server</td>\n<td>사용자 요청 및 배포 간 데이터 저장</td>\n<td>지속적 (재검증 가능)</td>\n</tr>\n<tr>\n<td><a href=\"https://nextjs-ko.org/docs/app/building-your-application/caching#full-route-cache\">Full Route Cache</a></td>\n<td>HTML 및 RSC 페이로드</td>\n<td>Server</td>\n<td>렌더링 비용 절감 및 성능 향상</td>\n<td>지속적 (재검증 가능)</td>\n</tr>\n<tr>\n<td><a href=\"https://nextjs-ko.org/docs/app/building-your-application/caching#client-side-router-cache\">Router Cache</a></td>\n<td>RSC 페이로드</td>\n<td>Client</td>\n<td>네비게이션 시 서버 요청 감소</td>\n<td>사용자 세션 또는 시간 기반</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"21-요청-메모이제이션-request-memoization\" style=\"position:relative;\"><a href=\"#21-%EC%9A%94%EC%B2%AD-%EB%A9%94%EB%AA%A8%EC%9D%B4%EC%A0%9C%EC%9D%B4%EC%85%98-request-memoization\" aria-label=\"21 요청 메모이제이션 request memoization permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. 요청 메모이제이션 (Request Memoization)</h3>\n<p>요청 메모이제이션 (Request Memoization)은 <strong>React에서 제공하는 기능으로,</strong> 하나의 렌더링 사이클에서 동일한 <code>fetch</code> 요청이 여러 번 발생할 경우, 첫 번째 요청의 결과를 캐시하여 이후 동일한 요청 시 재사용하는 기능입니다.</p>\n<p>이를 통해 <strong>컴포넌트 트리의 여러 곳에서 동일한 데이터를 가져와야 할 때</strong>, 데이터를 전역적으로 가져와서 props로 전달할 필요 없이, 필요한 컴포넌트 내에서 데이터를 가져올 수 있습니다. 이러한 메모이제이션은 R<strong>eact의 렌더링 패스 동안에만 유지</strong>되며, 렌더링이 완료되면 캐시는 사라집니다.</p>\n<p>메모이제이션은 기본적으로 <code>GET</code> 메서드의 <code>fetch</code> 요청에만 적용되며, React 컴포넌트 트리 내부에서만 동작합니다. 따라서, <code>generateMetadata</code>, <code>generateStaticParams</code>, Layout, Page와 같은 <strong>서버 컴포넌트 내에서 실행되는</strong> <code>fetch</code> <strong>요청에 적용</strong>됩니다. (클라이언트 컴포넌트에서는 적용 안됨)</p>\n<p>그러나 React 컴포넌트 트리와는 별개로 동작하는 <a href=\"https://nextjs.org/docs/app/building-your-application/routing/route-handlers\">라우트 핸들러(Route Handlers)</a> 내에서 수행되는 <code>fetch</code> 요청은 React의 요청 메모이제이션 기능의 대상이 되지 않습니다.</p>\n<p>메모이제이션은 <strong>각 렌더링 중에만 적용되며, 서버 요청 간에 공유되지 않습니다.</strong> 따라서 별도의 <strong>재검증(revalidation)을 수행할 필요가 없습니다.</strong> 데이터가 캐시되었든 캐시되지 않았든, 모든 요청은 렌더링 중 중복 요청을 방지하기 위해 메모이제이션 됩니다.</p>\n<p>요약하면, React의 요청 메모이제이션은 동일한 <code>fetch</code> 요청의 중복 실행을 방지하여 성능을 최적화하는 데 도움이 됩니다. 이 기능은 React의 렌더링 패스 동안에만 적용되며, 서버 요청 간에는 공유되지 않습니다.</p>\n<p><strong>✔️ 예시</strong></p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetchData</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/api/data&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Page</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">data1</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetchData</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">data2</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetchData</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// 캐싱된 응답이 재사용됨</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk10\">JSON</span><span class=\"mtk1\">.</span><span class=\"mtk11\">stringify</span><span class=\"mtk1\">(</span><span class=\"mtk12\">data1</span><span class=\"mtk1\">)</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<h3 id=\"22-데이터-캐시-data-cache\" style=\"position:relative;\"><a href=\"#22-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%BA%90%EC%8B%9C-data-cache\" aria-label=\"22 데이터 캐시 data cache permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. 데이터 캐시 (Data Cache)</h3>\n<p>데이터 캐시(Data Cache)는 <strong>Next.js에서 제공하는 기능</strong>으로, 데이터 요청 결과를 <strong>서버 요청 및 배포 간에도 지속적으로 저장하여 재사용</strong>할 수 있습니다. 이를 통해 동일한 데이터를 반복적으로 요청하는 것을 방지하고, 성능을 최적화할 수 있습니다.</p>\n<p>✔️ <strong>캐싱 과정</strong></p>\n<ol>\n<li><strong>초기 요청:</strong> <code>fetch</code> 요청이 렌더링 중 처음 호출되면, Next.js는 데이터 캐시에서 해당 요청의 캐시된 응답이 있는지 확인합니다.</li>\n<li><strong>캐시 HIT:</strong> 캐시된 응답이 있으면 즉시 반환되며, 메모이제이션됩니다.</li>\n<li><strong>캐시 MISS:</strong> 캐시된 응답이 없으면 데이터를 외부 소스에서 가져와 데이터 캐시에 저장하고, 메모이제이션합니다.</li>\n</ol>\n<p><strong>✔️ 캐싱 제어</strong></p>\n<p>개발자는 <code>fetch</code> 함수의 옵션을 통해 캐싱 방식을 세밀하게 조정할 수 있습니다.</p>\n<ul>\n<li><strong><code>{ cache: 'force-cache' }</code>:</strong> 서버가 한 번 데이터를 가져오면 동일한 요청이 들어올 때마다 캐시된 데이터를 반환합니다. 이는 데이터가 자주 변경되지 않는 경우에 유용합니다.</li>\n<li><strong><code>{ cache: 'no-store' }</code>:</strong> 캐시를 사용하지 않고, 매번 새로운 데이터를 가져옵니다. 실시간 데이터가 필요한 경우에 적합합니다.</li>\n</ul>\n<p>또한, <code>fetch</code> 함수의 <code>next</code> 옵션을 사용하여 데이터의 재검증 주기를 설정할 수 있습니다.</p>\n<ul>\n<li><strong><code>{ next: { revalidate: 3600 } }</code>:</strong> 데이터를 가져온 후 최대 3600초(1시간) 동안 캐시된 데이터를 사용하고, 그 이후에는 백그라운드에서 데이터를 재검증합니다.</li>\n</ul>\n<p><strong>✔️ 버전별 기본값</strong></p>\n<ul>\n<li><a href=\"https://nextjs.org/docs/14/app/api-reference/functions/fetch#optionscache\">Next.js v14</a> 에서는 기본적으로 <code>'force-cache'</code>로 설정되어 있어 별도로 설정하지 않으면 요청한 데이터는 서버의 데이터 캐시에 저장되며, 동일한 요청 시 캐시된 데이터가 반환됩니다.</li>\n<li><a href=\"https://nextjs.org/docs/app/api-reference/functions/fetch#optionscache\">Next.js v15</a> 부터 fetch 함수의 cache 옵션 기본값이 <code>'no-store'</code>로 변경되었습니다. 따라서, 별도로 설정하지 않으면 매 요청마다 새로운 데이터를 가져오게 됩니다.</li>\n</ul>\n<p><strong>✔️ 예제</strong></p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 캐시를 사용하여 데이터를 가져오기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/api/data&#39;</span><span class=\"mtk1\">, { </span><span class=\"mtk12\">cache:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;force-cache&#39;</span><span class=\"mtk1\"> });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 항상 최신 데이터를 가져오기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/api/data&#39;</span><span class=\"mtk1\">, { </span><span class=\"mtk12\">cache:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;no-store&#39;</span><span class=\"mtk1\"> });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 최대 한 시간마다 재검증</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;https://...&#39;</span><span class=\"mtk1\">, { </span><span class=\"mtk12\">next:</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">revalidate:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">3600</span><span class=\"mtk1\"> } })</span></span></span></code></pre>\n<h3 id=\"23-전체-페이지-캐싱-full-route-cache\" style=\"position:relative;\"><a href=\"#23-%EC%A0%84%EC%B2%B4-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%BA%90%EC%8B%B1-full-route-cache\" aria-label=\"23 전체 페이지 캐싱 full route cache permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.3. 전체 페이지 캐싱 (Full Route Cache)</h3>\n<p>전체 페이지 캐싱 <strong>서버 측에서 페이지의 렌더링 결과를 캐시</strong>하여, 동일한 요청에 대해 서버의 렌더링 작업을 반복하지 않고 빠르게 응답할 수 있도록 합니다. 이는 서버 리소스 사용을 최적화하고, 사용자에게 빠른 페이지 로딩 경험을 제공합니다.</p>\n<p>빌드 시 Next.js는 각 경로를 정적으로 렌더링하고, 그 결과를 <strong>React Server Component Payload(RSC Payload)와 HTML 형태로 서버에 저장</strong>합니다. 사용자가 해당 경로를 요청하면, 서버는 미리 저장된 RSC 페이로드와 HTML을 사용하여 빠르게 응답합니다.</p>\n<p><strong>✔️ 캐시 무효화 및 갱신</strong></p>\n<ul>\n<li><strong>데이터 재검증</strong>: 데이터 캐시가 재검증되면, 서버는 컴포넌트를 다시 렌더링하고 새로운 결과를 캐시하여 최신 데이터를 제공합니다.</li>\n<li><strong>재배포</strong>: 새로운 배포 시, 전체 경로 캐시는 초기화되어 최신 빌드 결과를 반영합니다.</li>\n</ul>\n<p><strong>✔️ 옵트아웃(Opt-out) 방법</strong></p>\n<p>특정 경로를 전체 경로 캐시에서 제외하고 <strong>매 요청 시 동적으로 렌더링하려면,</strong> 다음과 같은 설정을 사용할 수 있습니다.</p>\n<ul>\n<li><strong>동적 함수 사용</strong>: 해당 경로를 전체 경로 캐시에서 제외하고, 요청 시마다 동적으로 렌더링합니다. 데이터 캐시는 여전히 사용할 수 있습니다.</li>\n<li><strong>경로 세그먼트 구성 옵션 설정</strong>: <code>dynamic = 'force-dynamic'</code> 또는 <code>revalidate = 0</code> 옵션을 사용하여 전체 경로 캐시와 데이터 캐시를 건너뜁니다. 이 경우, 모든 요청에 대해 컴포넌트가 다시 렌더링되고 데이터가 가져와집니다. 클라이언트 측 라우터 캐시는 계속 적용됩니다.</li>\n</ul>\n<p>아래 예시에서는 <code>dynamic = 'force-dynamic'</code> 설정을 통해 해당 페이지를 전체 경로 캐시에서 제외하고, 매 요청 시마다 데이터를 가져와 동적으로 렌더링합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">dynamic</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&#39;force-dynamic&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Page</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">data</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetchData</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk10\">JSON</span><span class=\"mtk1\">.</span><span class=\"mtk11\">stringify</span><span class=\"mtk1\">(</span><span class=\"mtk12\">data</span><span class=\"mtk1\">)</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><strong>✔️ 예제</strong></p>\n<p>정적 사이트 생성(SSG)을 활용하여 블로그 게시물을 정적으로 생성하고, 이를 전체 경로 캐시에 저장하는 예시입니다.  <code>getStaticPaths</code> 함수에서 모든 블로그 게시물의 경로를 미리 생성합니다. <code>getStaticProps</code>에서 각 게시물의 데이터를 가져와 정적으로 렌더링하고, 결과를 전체 경로 캐시에 저장합니다. 페이지를 생성한 후 최대 1시간(3600초) 동안 캐시된 데이터를 사용하고, 그 이후에는 백그라운드에서 데이터를 재검증(revalidate)하여 최신 상태를 유지합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// pages/posts/[id].tsx</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">GetStaticPaths</span><span class=\"mtk1\">, </span><span class=\"mtk12\">GetStaticProps</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;next&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">useRouter</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;next/router&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">PostProps</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">post</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">id</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">title</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">content</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Post</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">post</span><span class=\"mtk1\"> }: </span><span class=\"mtk10\">PostProps</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">router</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useRouter</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 페이지가 아직 생성되지 않았을 때 로딩 상태를 표시</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">router</span><span class=\"mtk1\">.</span><span class=\"mtk12\">isFallback</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">Loading...</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk12\">post</span><span class=\"mtk1\">.</span><span class=\"mtk12\">title</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">p</span><span class=\"mtk17\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk12\">post</span><span class=\"mtk1\">.</span><span class=\"mtk12\">content</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">p</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 정적 경로를 정의</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getStaticPaths</span><span class=\"mtk1\">: </span><span class=\"mtk10\">GetStaticPaths</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;https://api.example.com/posts&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">posts</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">paths</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">posts</span><span class=\"mtk1\">.</span><span class=\"mtk11\">map</span><span class=\"mtk1\">((</span><span class=\"mtk12\">post</span><span class=\"mtk1\">: { </span><span class=\"mtk12\">id</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\"> }) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> ({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">params:</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">id:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">post</span><span class=\"mtk1\">.</span><span class=\"mtk12\">id</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">paths</span><span class=\"mtk1\">, </span><span class=\"mtk12\">fallback:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\"> };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 각 게시물에 대한 정적 데이터를 가져옴</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getStaticProps</span><span class=\"mtk1\">: </span><span class=\"mtk10\">GetStaticProps</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> ({ </span><span class=\"mtk12\">params</span><span class=\"mtk1\"> }) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`https://api.example.com/posts/</span><span class=\"mtk4\">${</span><span class=\"mtk12\">params</span><span class=\"mtk1\">?.</span><span class=\"mtk12\">id</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">post</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">props:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">post</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// 1시간마다 캐시를 재검증하여 최신 데이터를 반영</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">revalidate:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">3600</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<h3 id=\"24-클라이언트-사이드-라우터-캐시-client-side-router-cache\" style=\"position:relative;\"><a href=\"#24-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EC%82%AC%EC%9D%B4%EB%93%9C-%EB%9D%BC%EC%9A%B0%ED%84%B0-%EC%BA%90%EC%8B%9C-client-side-router-cache\" aria-label=\"24 클라이언트 사이드 라우터 캐시 client side router cache permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.4. 클라이언트 사이드 라우터 캐시 (Client-side Router Cache)</h3>\n<p>클라이언트 사이드 라우터 캐시 (Client-side Router ****Cache)는 <strong>클라이언트 측에서 경로 세그먼트의 RSC Payload를 인메모리 캐시에 저장</strong>하여, 사용자가 애플리케이션 내에서 페이지 간을 이동할 때 발생하는 서버 요청을 줄이고 탐색 경험을 향상시키는 기능입니다.</p>\n<p>사용자가 경로 간에 탐색할 때, Next.js는 방문한 경로 세그먼트를 캐시하고, 사용자가 탐색할 가능성이 있는 경로를 사전 로드(prefetch)합니다.</p>\n<p>이러한 캐시는 사용자가 애플리케이션을 탐색하는 동안 유지되지만, 페이지를 새로 고침하면 초기화됩니다. 또한, 레이아웃과 로딩 상태의 캐시는 자동으로 무효화되며, 그 기간은 리소스의 사전 로드 여부와 정적 생성 여부에 따라 최소 30초에서 최대 5분까지 다양합니다.</p>\n<p><strong>✔️ 주의사항</strong></p>\n<ul>\n<li><strong>옵트아웃 불가</strong>: 라우터 캐시는 클라이언트 측에서 자동으로 관리되며, 개발자가 이를 직접 비활성화할 수 없습니다.</li>\n<li><strong>클라이언트 컴포넌트 제외</strong>: 라우터 캐시는 서버 컴포넌트의 RSC Payload를 저장하므로, 클라이언트 컴포넌트에서 실행되는 코드는 캐시되지 않습니다.</li>\n</ul>\n<p><strong>✔️ 예제</strong></p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Link</span><span class=\"mtk1\"> </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;next/link&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Home</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">Link</span><span class=\"mtk1\"> </span><span class=\"mtk12\">href</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;/about&quot;</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">소개 페이지로 이동</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk10\">Link</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<h2 id=\"3-캐시를-갱신하는-방법-revalidation\" style=\"position:relative;\"><a href=\"#3-%EC%BA%90%EC%8B%9C%EB%A5%BC-%EA%B0%B1%EC%8B%A0%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-revalidation\" aria-label=\"3 캐시를 갱신하는 방법 revalidation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 캐시를 갱신하는 방법 (Revalidation)</h2>\n<p>캐싱을 사용하면 속도는 빨라지지만, 데이터가 오래된 상태로 남아있을 수도 있습니다. Next.js에서는 <code>revalidate</code> 옵션을 통해 일정 시간마다 데이터를 새로고침 할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 60초마다 데이터 새로 가져오도록 설정</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/api/data&#39;</span><span class=\"mtk1\">, { </span><span class=\"mtk12\">next:</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">revalidate:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">60</span><span class=\"mtk1\"> } });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>또한 특정 데이터를 업데이트하고 싶다면 <code>revalidateTag()</code>나 <code>revalidatePath()</code>를 사용할 수도 있습니다.</p>\n<h2 id=\"4-언제-캐싱을-사용할까\" style=\"position:relative;\"><a href=\"#4-%EC%96%B8%EC%A0%9C-%EC%BA%90%EC%8B%B1%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C\" aria-label=\"4 언제 캐싱을 사용할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 언제 캐싱을 사용할까?</h2>\n<ul>\n<li><strong>빠른 응답이 필요한 경우</strong> → <code>force-cache</code></li>\n<li><strong>실시간 데이터가 필요한 경우</strong> → <code>no-store</code></li>\n<li><strong>주기적으로 데이터가 업데이트되어야 하는 경우</strong> → <code>revalidate</code></li>\n</ul>\n<h2 id=\"5-정리\" style=\"position:relative;\"><a href=\"#5-%EC%A0%95%EB%A6%AC\" aria-label=\"5 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 정리</h2>\n<p>Next.js에서 캐싱은 성능 최적화에 중요한 역할을 합니다. 기본적으로 Next.js는 최적의 성능을 위해 캐싱을 자동으로 관리하지만, 필요에 따라 직접 설정을 변경할 수도 있습니다.</p>\n<ul>\n<li>자주 변경되지 않는 데이터는 <strong>캐싱</strong>을 활용하고,</li>\n<li>실시간 업데이트가 필요한 데이터는 <strong>캐싱을 끄고(no-store)</strong>,</li>\n<li>일정 주기로 갱신해야 하는 데이터는 <strong>revalidate</strong>를 설정하면 됩니다.</li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"February 02, 2025","title":"Next.js 캐싱 이해하기","categories":"framework","author":"soobing"},"fields":{"slug":"/nextjs-cache/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://soobing.github.io","comments":{"utterances":{"repo":"soobing/soobing.github.io"}}}}},"pageContext":{"slug":"/nextjs-cache-miss-reason/","nextSlug":"/nextjs-cache/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","2938748437"]}