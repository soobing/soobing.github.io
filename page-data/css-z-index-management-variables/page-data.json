{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/css-z-index-management-variables/",
    "result": {"data":{"cur":{"id":"c903c970-6699-5f9f-b24a-0623404c8686","html":"<p>프론트엔드 개발을 하다 보면 z-index 때문에 겪는 문제를 피하기 어렵습니다. 특히 프로젝트 규모가 커질수록 z-index는 예상치 못한 충돌을 일으키며, 가독성을 떨어뜨리곤 합니다. 예를 들어, 특정 UI 요소가 다른 요소에 의해 가려지거나, 의도한 대로 화면에 표시되지 않는 문제를 종종 경험하게 됩니다. 이 글에서는 CSS 변수를 활용하여 이러한 z-index 문제를 체계적으로 관리하는 방법을 공유해 보고자 합니다.</p>\n<h2 id=\"floating-ui\" style=\"position:relative;\"><a href=\"#floating-ui\" aria-label=\"floating ui permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Floating UI</h2>\n<p>대부분의 프로젝트에는 여러 개의 floating UI가 존재합니다. 예를 들어, Header, <a href=\"https://ui.shadcn.com/docs/components/drawer\">Drawer</a>, <a href=\"https://ui.shadcn.com/docs/components/dialog\">Dialog(Modal)</a>, <a href=\"https://ui.shadcn.com/docs/components/tooltip\">Tooltip</a>, <a href=\"https://ui.shadcn.com/docs/components/dropdown-menu\">Dropdown Menu</a> 등을 생각해볼 수 있습니다. 이러한 UI들은 동시에 여러 개가 겹칠 수 있으며, 이들의 레이어 순서를 명확히 정의하지 않으면 화면에서 엉뚱한 위치에 겹쳐 보이거나 클릭이 되지 않는 문제가 발생할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 178.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE1klEQVRIx51W244TRxD1HyAR5QeIkg8kT4S8RRApEisIsIvYRCJPeYIIaSOBMHkBBeUBWMOuvevxfX332B7P/dIzJzpl96zXCbtKWir1dE/VqerTVTVTSJ4/R1ytQpXLiA8PoSoVJOWySHyBpEdH8EslsVW1GrJiEQXr7VsMkwQpgJHjojmeYGi78AGEAIJzRAF49fYdrChCy7aRGQYK2evXyLpdpPU6YsNAeHyMqGogqdUulLTRgKrXkXFud5C9eoVCNp8jm0yQmSYwnS7FNGWtBZ+QbHOez1HgUfXI8OmRnSPro+A4DkqlEoyqgdJ+Cfv7+6jX6zg4OMD++/c4+PgR7VYLlmUtgdMUyLKlaGerNeeC53kYjUbwfR+z2QxBEIhSkiRIEiUzFTnrkaZpruN5fg4qgIeHZdy8+T1u3LiJ69e/xd7eHra3d3Dr1haePn2KYrGIu3fv4f79+6Jz586PuH37DnZ2drC1tYW9vd8FUCm1BFwsFqhUKuj1ephMJjDNKTqdDtrttqwZdavVkuejoyPZ7/f7GA6HGAwGp1ToCI+Pj3Ht2jfY3f0JDx/u4tGjR2L0X0e24rRg27ZcgGEYODg4RKVyhF6vL5ySXwovjty6rpvv8ZlCe827RMiNRqOBdrsD0zRxctLFeDwW4FqtJo4ajSZGozGqVQPNZkuyoNVqC03U59FzwDAMZWM6nco8mRD0RLjrdrsYDkfCIXmjo37/VJc6zWZT+M2PPJ9b4nUwGAoADRkBn2nElOIJqMOL4HvuUTQgHeQRkgd6pZfFwhYl8letVlGvNwRMg3ImBYZRE57phHTQJgckd9vbD/DgwUPs7v4sOffmzRtRIB06sbUwqTefdaIL4OPHT3D58ue4cuVLfPHFV7h06TNcvfq1KH348DFPoWyj1NbXZ9JmOp3hxYsiisWXePnyDzx79lw43FS+SPLmcF6i/h8p8GjLRpAgjpeiVPpJgzS9AHCTn01Oznv/bzoCyIbAFGFdszoYdRRF6HS6EjnXrJTBYCQzeedgyXW7PTiOe3rLur8RgGnCmWtNhR5nKVE5QBzHeevKOeTGuuj8WjZQT5ys80QQ7nPWwOSddgWSzJD7g+GyYsypdGoq+X6AwXAEa2EjimMRDttxMJ6YYue4HsIwWoEqFHRU7Do8chCGsBYLMWTzJWeO64oOHdCQEetjzy1LuFwDTCV04WjFky4l1jQNPD+Q9wSmIQE83/9HGQogHxiZ4zrIUnXmA8l9l83U885cBCN0XQ9qBajUksMcMAhjWE4EL0hF3CBFojKJkFyRV3LleL4Ykpa5tRBOgzBa/ZRkwn2Bi3IrwQ+/+rj3m4d7Txx894uNd1UqpgIUBKFQQcA4URspleHPwxDtYSz6+ZHZaBe2I+EnaskhL4odm7ep00iTvw74VznCySg5BSTpE3Mu6REywaNIVNk42clnc0suTt8y02Y0nsgRlxEv/8VWHCr4oYLtRrBsX4zN6QyJUvINISAdMSJymmYp/DCCObNgO65QEUaxnCq/FD+I4PqReOTNESxdpQfp0KWl6zpiqrFDKSWniVapdnrLQSDfXvKx3kWYHuSRQATW+4yUX0ceXa34RpaeVgoNdFNYr1m1ahpSdmvVQaBub4DpbI4wDGBasaQa8/hvZbevnkbWrNMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Header UI\"\n        title=\"Header UI\"\n        src=\"/static/d8aebc0e58c681f0025b39deb28420ad/37523/1_header.png\"\n        srcset=\"/static/d8aebc0e58c681f0025b39deb28420ad/e9ff0/1_header.png 180w,\n/static/d8aebc0e58c681f0025b39deb28420ad/f21e7/1_header.png 360w,\n/static/d8aebc0e58c681f0025b39deb28420ad/37523/1_header.png 720w,\n/static/d8aebc0e58c681f0025b39deb28420ad/0f2bc/1_header.png 742w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Header UI</em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZUlEQVRIx61UWU8aURTmxfhkE5WkiVpZDCYqu6DxpRof+sPaH+CvcHvoS9Ok20Pfa1wTbARUVGAEZBCGRRlnvuYc59IZWSK2k3w5C+d+9zvnXq5tcHAQdrsdIyMjjNHRUYaIe0HUCgwMDMA2NjaGSCSC+fl5RjgcZpBP+V4IBoMMql9cXORNmJASoVCIf/T7/QzyKdcNtEbUEkhAi3BhYcGizKy0F8y10WgUw8PDVkJR0A2ixmwFLITUwtzcHLxeL1tqgXwBMYJeatsIA4EALyIrisS8hEJaZD6Uji2Pj49jamoKDocDRO52uxkUU97j8cDpdDImJiY4TxC+OCCLQmppZmaG2/P5fNw2gXwRkxU1ApRra5kUTk9Pg6zL5WIltJAOSrQmWiVr9kXbbQppbrOzsy1ltLuYp5itiDvlrQrpYodC8Hm9CPj9Lfh9PnipVcr7fByT7zd8gsjT+sVoFCNE+PrNG/gjEczR1TEwGwya/Md4xpQjeMPhx3wgwOvDS0t4ZbfD5h0awqrLjbeTk1hxOhnkLzscWHE42C5TbPwu8sInrLrdeOfxwEWPw+e1NXz/+BFf1tfxbWvLgq+bmy3L/uYWvm5s4vuTuh/b2/j56RM23n+ADYqC//aVbmFT02kojQaUchl3jQYeHh7woKp/QXE3qIZtNqEBuL+8hE2XJKQyGfw+PoYsy22b6rresgLmmH1NY0vibJokodZssrparYZKpYJqtQpFUXh3M2m37y9h5lHheTqN02QSZ2dniMcTSCaTODk5QbVa659Qy2ZRvb+HUqmwQgIpfNpyX4TZQgHJRAKJRBLxeJzVEfHTWT275WKlgpIst0g6HUhfhKlMlmeYzWahaVrbafbXsiThtlaDXCzyyT4letEMr4tFXKRSKBQKz55bz5ZvymXkcznkcnnc3d09W1lHQlxfc8vpqytcXFxYTvdFhNQynfK1JEFRql3/Zn21nC+VkDo/t8zwxRebCDvdvX8iPIjFsPNrB4eHR9jb20csFsPu7i4kY7O+W66rKhr1Oh9IvV430ICqqi97HEpKFTnp8drk8wXIRdlaTIQ9oBvPHL+Hej4P0qFqGpoMnWPdAEy2q0LDqpIEm358jEIiiezhETIHR0jvH6J8egbc3IA2wzOg53KALEONxfAHhypG4giRK3IAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Drawer UI\"\n        title=\"Drawer UI\"\n        src=\"/static/4952e62eb80bdb4808bac12203619a5a/37523/2_drawer.png\"\n        srcset=\"/static/4952e62eb80bdb4808bac12203619a5a/e9ff0/2_drawer.png 180w,\n/static/4952e62eb80bdb4808bac12203619a5a/f21e7/2_drawer.png 360w,\n/static/4952e62eb80bdb4808bac12203619a5a/37523/2_drawer.png 720w,\n/static/4952e62eb80bdb4808bac12203619a5a/1d69c/2_drawer.png 750w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Drawer UI</em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 179.44444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAADa0lEQVRIx61WW08TQRSeBEPiT4Dw0ssWa0tvlEcRTZTwAhITogH9J77p7zCA3H8DWoNUa0BKKRA0vID2wkWBSLvd7u5nzqGzrNByn+TrOeebOd+emc7ujIhEIrgOwuGw5be2tkKEQiEEAgEmAoEgWlpaOKaB54FyPJ5mkIbf7+dYXLfCkxBU5lmQU6nVZ58uC1LpcorBYBA+n4+nLe3JhGoi9odYFUajUcbJ5Fp8zSlTVQ6HA263m9Hc3Myxy+XiWFEU5i4ixhWSoMfjYQGyNFUZkyBZp9PJVV5kvUUrKRPCEURoK4TCbCVHluJwKFQToWCQx0VJsCUahS8cZtwNHVvpH/MRK/ZHIgzpkw22tSHQ1gbRqSi453DivrMCl4ttu8NxzFVii7ONaXc40eFy4aHHgy5FgchNTWFjaQmbc3PYnJ/Hr2QSvxYW8LMCGbOVfd8W2GaSSc6hXNLIT05CYH0d9lbUdegATAAGANUwUWZroGSa0Cp9xBXK5f9ySUsYqRQnGprG3GIyifhsHIkvCXxNJDD76RPeT09jZmYGsQ8xjufn5plbW1vjHMpljVQKAum09YBCoQhd16GqJZRKGsrlMjRNY594ilVVZY58QrGoAqbJ+WY6DUE/Kk2pUMSfP3vIZnPIZvPY2trG9vaOZaWfz29hZ2eXkcvlsbv7G6WierQUUnD37yHyLHKUuLe3j42NTWQyWX6AFMpkcmwpJkES4wflt7BHlUrBao1moevGKV7TyqjVuEKsrOBD/DMG3w5ibGwcIyNjGB0dw/j4BCYmJtkfHn7HGBkZZY765DjKoVzSIC2B5WV0PO6CEAL19bdRV1dvQYhbaGhogtfrh6LcQWNjE3P2MZRDuaRBWlzhq9dv0PmoE729T9HT02uhu/sJ+vqeYWDgJfr7X6Cv7zlz9jGUQ7mkcVRhjTWUzTAMFAoFHB4esn9mozXUF1O862lz0l4zKtDpLTBNHBwcIL2UZhzs7zNHfdY4srQvAZDWqVfvWo1eve9DQ1iJx7Eai2H148erIRZjjR+DQxAPFIU/Pw/cbnRcEZxLnzD6fNGH8SZxfATcEES1c/eiJ1w1X1Q7tO3ceTeKcwXtPt0m6CJkh7wkXbhCu09XFDrkvV4vg3x5U7uS4Fn3wUuvYa21utYa3ti/fBmcFPwHuNFzwmC+gTMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dialog UI\"\n        title=\"Dialog UI\"\n        src=\"/static/70427c04af662fd439cb73f12e4fcf81/37523/3_dialog.png\"\n        srcset=\"/static/70427c04af662fd439cb73f12e4fcf81/e9ff0/3_dialog.png 180w,\n/static/70427c04af662fd439cb73f12e4fcf81/f21e7/3_dialog.png 360w,\n/static/70427c04af662fd439cb73f12e4fcf81/37523/3_dialog.png 720w,\n/static/70427c04af662fd439cb73f12e4fcf81/0f2bc/3_dialog.png 742w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Dialog UI</em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 127.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAACI0lEQVRIx91U23abMBDk//8tGALGpIAJGDvBNjebq4SYnhWloalvyUMfuufM2UVaDaNdSYpYLiF0Hdw0wQ3jIfSmKSHMJeR6gmVBLDQo7OkJQ1kCfQ9wPoLiCdP3bG5oW4imwUBoWwx1jWEY0C+XUHrLAmcMP1wPlm3DcV3pdcOAtbLhrtfy2/N9rF5eJHohMNkw89zzoBAraxoEYYhos5EIwxDbaAvP9eD7Pna73Ti23SIIAhyPR6RpijzLgGHAIMRI6DijQgiBNC+wPxxwOB4R7/dIsgxv77GM0ywb55JExjS2iSLE+wPmJhVyVQUrCgiqC9Wj6wDGPuKuG+tEfhZTDnlWVWDnEoxzMJNqaNtoVBWtYaAzDNSahlJVUes6Gl1HtVigVC9Blb5aaDKn0jTw52coJDVJEriuC8dxcDqdpPw0zfD29g7GOL5iCmMMcRzD89ZYrWzZAM456rpBlheSkApOx+IRKG3bSoV5Xkh1FNd1/XEsxAAhxE30/egl4S3580W3VOHXDihPmRaQQkJDZzIIEEUROuoidXx2kC8Z5ZZlNdZwImyaVm6VapZlGfI8l7UkTIR/Kxv9+XyWP5ZbnrbziF3Km4/93vKjHfxMNK/fHzX8PHGP7JLCq4Rftf+A8JF6Xsu/qnCu9FpzLq25q/DSDbmXf5OwKE5wHA9huMHrayBfJLqeQnyTkBbTk0ZEnufDslbynfw24bWr9k+b8hOnRemJ3x855QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Toast UI\"\n        title=\"Toast UI\"\n        src=\"/static/8fed338c0b8db518d9fd433dc9835c77/37523/4_toast.png\"\n        srcset=\"/static/8fed338c0b8db518d9fd433dc9835c77/e9ff0/4_toast.png 180w,\n/static/8fed338c0b8db518d9fd433dc9835c77/f21e7/4_toast.png 360w,\n/static/8fed338c0b8db518d9fd433dc9835c77/37523/4_toast.png 720w,\n/static/8fed338c0b8db518d9fd433dc9835c77/0f2bc/4_toast.png 742w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Toast UI</em></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 648px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABK0lEQVQ4y9WU0WrCQBBF/f+faWmf2hcfWgTb1KpRrEWMohYrgkUlMbO7c4qxEZWksdAXA5dJNpezM7uzW+Kfn9IFAVV3OnwvUurNA2oSdgYtUOrPB57AEEEztB3H2mNobskptNlEa7Uk0tiqsZf6PlqpwGJRkGE6WxSh9TrWOcQY4jhGxBCLICIYwPV6MBodLVE+cLNJsjAivHe7tFstBkHAW6dDp91mOp+jQYBOJmcCtxn6PrEqyzBiFW0IjSEU4Wu1ZqWK6fdhPC4GJsE5qFZRz0M8j+ndPf2ra4Y3tywfHrGvdbRcRmezP+yytUnpsl7zEQxoPHk0n19YfM5wYbjrgLSqc/owtVhV3IHfOLf/pxkt8+tJOZxZM76LT0pW6T+gU5GxGZdz23wDs1g5aFwRaTQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Tooltip UI\"\n        title=\"Tooltip UI\"\n        src=\"/static/fd8b70338041f078414123b4c86d168f/3996e/5_tooltip.png\"\n        srcset=\"/static/fd8b70338041f078414123b4c86d168f/e9ff0/5_tooltip.png 180w,\n/static/fd8b70338041f078414123b4c86d168f/f21e7/5_tooltip.png 360w,\n/static/fd8b70338041f078414123b4c86d168f/3996e/5_tooltip.png 648w\"\n        sizes=\"(max-width: 648px) 100vw, 648px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Tooltip UI</em></p>\n<h2 id=\"레이어-정의\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EC%9D%B4%EC%96%B4-%EC%A0%95%EC%9D%98\" aria-label=\"레이어 정의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레이어 정의</h2>\n<p>z-index 값을 무작위로 부여하는 대신 레이어의 목적에 따라 층위를 나누어 설계하면 더욱 체계적인 관리가 가능합니다. 예를 들어, 다음과 같이 레이어를 나눌 수 있습니다.</p>\n<ol>\n<li><strong>기본 레이어</strong>: 페이지의 주요 콘텐츠 (– <code>-z-index-base</code>)</li>\n<li><strong>UI 레이어</strong>: 드롭다운, 메뉴 (– <code>-z-index-dropdown</code>)</li>\n<li><strong>알림 레이어</strong>: 툴팁, 팝업 (– <code>-z-index-tooltip</code>)</li>\n<li><strong>상호작용 레이어</strong>: 모달, 다이얼로그 (– <code>-z-index-modal</code>)</li>\n<li><strong>오버레이 레이어</strong>: 전체 화면을 덮는 요소 (– <code>-z-index-overlay</code>)</li>\n</ol>\n<p>아래와 같이 미리 레이어의 종류를 정의하고 CSS 변수로 관리하면 새로운 요소를 추가할 때도 쉽게 일관된 구조를 유지할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">:root {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  --z-index-base: 0;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  --z-index-dropdown: 10;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  --z-index-tooltip: 20;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  --z-index-modal: 30;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  --z-index-overlay: 40;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span></code></pre>\n<h2 id=\"z-index-변수-사용\" style=\"position:relative;\"><a href=\"#z-index-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9\" aria-label=\"z index 변수 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>z-index 변수 사용</h2>\n<p>CSS 변수(<code>var()</code>)를 사용하면 z-index 값을 중앙에서 관리할 수 있어 레이아웃의 레이어를 쉽게 예측하고 수정할 수 있습니다. 이 방법을 활용할 경우 아래와 같은 장점이 있습니다.</p>\n<ol>\n<li><strong>가독성 향상</strong>: <code>var(--z-index-tooltip)</code>과 같이 명확한 이름의 변수를 사용하면, 각 요소의 z-index가 무슨 목적으로 정의되었는지 쉽게 알 수 있습니다. 단순히 숫자만 있는 코드보다 가독성이 높아집니다.</li>\n<li><strong>일관성 유지</strong>: 프로젝트가 커질수록 각 컴포넌트마다 임의의 z-index를 설정하다 보면 예기치 않은 레이어 충돌이 발생할 수 있습니다. CSS 변수로 일관되게 z-index 값을 관리하면 이러한 문제를 예방할 수 있습니다.</li>\n<li><strong>유지보수 용이성</strong>: 만약 모달과 관련된 모든 z-index를 조정해야 하는 경우, 변수 하나만 변경하면 전체가 반영됩니다. 수십 개의 CSS 파일을 수정할 필요가 없으며, 실수를 줄일 수 있습니다.</li>\n</ol>\n<p>위에서 정의한 변수들을 사용해 스타일을 적용하면 다음과 같이 작성할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">.header {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  z-index: var(--z-index-base);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.dropdown-menu {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  z-index: var(--z-index-dropdown);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.tooltip {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  z-index: var(--z-index-tooltip);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.modal {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  z-index: var(--z-index-modal);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.modal-close-button {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  z-index: calc(var(--z-index-modal) + 1);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">.overlay {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  z-index: var(--z-index-overlay);</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>모달 안의 닫기 버튼과 같은 특정 요소에 대해서는 <code>calc()</code>를 사용하여 모달보다 높은 z-index 값을 부여할 수 있습니다. 예를 들어, <code>.modal-close-button</code>에 <code>z-index: calc(var(--z-index-modal) + 1)</code>을 적용하면 모달 내부의 다른 요소들 위에 자연스럽게 배치할 수 있습니다.</p>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>CSS 변수를 사용하여 겹치는 UI들의 z-index를 효과적으로 관리할 수 있는 방법을 고민해보았습니다. 프로젝트 내에서 사용되는 floating UI들을 기준으로 정리를 시작해보면, 복잡했던 레이어 관리가 훨씬 단순해질 것입니다. 이 전략이 여러분의 프로젝트에 도움이 되었길 바라면서 이번 글을 마치겠습니다.</p>\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<ul>\n<li><a href=\"https://web.dev/learn/css/z-index?hl=ko\">Z-색인 및 스택 컨텍스트</a></li>\n<li><a href=\"https://ishadeed.com/article/understanding-z-index/\">Understanding Z-Index in CSS</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","excerpt":"프론트엔드 개발을 하다 보면 z-index 때문에 겪는 문제를 피하기 어렵습니다. 특히 프로젝트 규모가 커질수록 z-index는 예상치 못한 충돌을 일으키며, 가독성을 떨어뜨리곤 합니다. 예를 들어, 특정 UI 요소가 다른 요소에 의해 가려지거나, 의도한 대로 화면에 표시되지 않는 문제를 종종 경험하게 됩니다. 이 글에서는 CSS 변수를 활용하여 이러한 z-index 문제를 체계적으로 관리하는 방법을 공유해 보고자 합니다. Floating UI 대부분의 프로젝트에는 여러 개의 floating UI가 존재합니다. 예를 들어, Header, Drawer, Dialog(Modal), Tooltip, Dropdown Menu 등을 생각해볼 수 있습니다. 이러한 UI들은 동시에 여러 개가 겹칠 수 있으며, 이들의 레이어 순서를 명확히 정의하지 않으면 화면에서 엉뚱한 위치에 겹쳐 보이거나 클릭이 되지 않는 문제가 발생할 수 있습니다. \nHeader UI \nDrawer UI \nDialog UI…","frontmatter":{"date":"November 24, 2024","title":"CSS 변수로 Z-Index 관리하기","categories":"framework","author":"soobing"},"fields":{"slug":"/css-z-index-management-variables/"}},"next":{"id":"c7c3d0a3-b722-541d-af79-dfa5fd9d9425","html":"<h2 id=\"tldr\" style=\"position:relative;\"><a href=\"#tldr\" aria-label=\"tldr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TL;DR;</h2>\n<p>Next.js에서 React 18 라이브러리를 사용하면서 <code>'use client'</code> 디렉티브 문제를 해결하기 위해 <a href=\"https://www.npmjs.com/package/rollup-plugin-preserve-use-client\"><strong>rollup-plugin-preserve-use-client</strong></a> 플러그인을 개발한 과정을 공유합니다.  <a href=\"https://github.com/Ephem/rollup-plugin-preserve-directives\">rollup-plugin-preserve-directives</a> 을 사용할 수 없었던 이유와, <code>preserveModules</code> 옵션을 <code>false</code>로 사용하면서 <em>클라이언트 컴포넌트</em>에만 <code>'use client'</code> 디렉티브를 유지할 수 있는 방법을 찾는 과정을 설명합니다.</p>\n<h2 id=\"1-개발하게-된-배경\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B2%8C-%EB%90%9C-%EB%B0%B0%EA%B2%BD\" aria-label=\"1 개발하게 된 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 개발하게 된 배경</h2>\n<p>저는 React 18을 활용한 UI 라이브러리를 개발하여 npm 모듈을 만들었습니다. 이 UI 라이브러리를 활용하여 Next.js 프로젝트에서 사용하려던 중 아래와 같은 문제를 마주치게 되었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSUlEQVQoz21S246CUAw8n2CiEgVFUAwXEQgXN+Emifro/3/ObKab7rKbfWimFDpMpzVJHGMcR7Rti2EY8Hg80DQNsixDnue4XC6IoghpmiJJEsRxLO+YHw4H7HY77Pd7uK4Lx3Fg4igSoufzib7vhZgE+hFRm+ahNaLmtm3DVGWJru+/yaiuqirUdY2yLEUl1RVFIcqu16vUicfjUX7qeZ4ESY3tOOi6Dvf7XUjf7zfCMMRiscBqtcJyufyF83y9XsOyLMGvsGA+mkaIpmkShVRDJaqIz/SNSD/pnXoYBIEoo9LT6SRqzfl8FoUkJb5eL2nwfV8+ItJ8NrF5nm+3W2w2GwnNTZ5l4iGJSEj/ODKJ1BuSKGqu3tE3rXM5Zn42VMmzud1usgyOrSNzCTqynpMSkpyEDgnpA5XxbIj0kjUa/2P2/8GF/I1PUIwFwgf1bI0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"에러발생\"\n        title=\"에러발생\"\n        src=\"/static/5361149a6fd5a2d4037a692aa242033a/37523/1_error.png\"\n        srcset=\"/static/5361149a6fd5a2d4037a692aa242033a/e9ff0/1_error.png 180w,\n/static/5361149a6fd5a2d4037a692aa242033a/f21e7/1_error.png 360w,\n/static/5361149a6fd5a2d4037a692aa242033a/37523/1_error.png 720w,\n/static/5361149a6fd5a2d4037a692aa242033a/940c5/1_error.png 772w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>useState only works in Client Components… 에러 발생</em></p>\n<p>문제의 원인을 파악하다가, 처음에는 UI 라이브러리에 클라이언트 컴포넌트와 서버 컴포넌트를 분리하여 번들링하지 않아서 발생하는 문제라고 생각했습니다. 관련해서 아래와 같은 글을 참고했었습니다.</p>\n<ul>\n<li><a href=\"https://www.bekk.christmas/post/2023/19/keep-up-with-react-server-components-how-to-support-it-in-your-library\">How to support React Server Components in your library</a></li>\n</ul>\n<p>그러나 UI 라이브러리는 파일마다 청크를 생성하고 있었기 때문에 이는 잘못된 접근임을 알 수 있었습니다. 다시한번 에러 로그에 집중해서 문제의 원인을 찾기 위한 삽질을 하다보니, 아래와 같은 이슈를 확인할 수 있었습니다.</p>\n<ul>\n<li><a href=\"https://github.com/rollup/rollup/issues/4699\">‘use client’ directive for Client Components #4699</a></li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVQ4y32SW48cNRCF5///HxQtQogovIB4IAglmiCyMz19m56++m53uz9k78yyeYAjHZVtWaeqTtVBKIMSmmmcWaRmnEWO0yKZhXo9p/d0T+fHm9QW6wPGeZR1OR7CuvLpdKSsStr2SlU3tNeOum5o2itN09J1N279iHWOhBh3YoyZCTY4vj9+YLGSg/GGd3/+RNHViFTBvCCERCqFkBJrLd4HUuJti+z7Ttx3dl6w7xD3iAk2x4MUgtOXZ5QydwGH84GYP75wiztbjFlw3SJh3XDO4ZRMkrzFIaVwwXOpa/4+V1wnjdSaRSYPEwWLEEzSMCub734NqBD5dNP0JrCGkCtPPGRPnKc5Hmm+nugvFWNZMl7e8kKfYllxOxeYumIYBe+Lha+DQmt1b/8uuBlD8/EPrscvuKYmdB3hemXtujtvxL5nH3riMBDbK+s8s6/+tdVvKkzeyGVhmabsy2YUXmusUhgpcVqnT/8yxuzzImR28EXs4eF9DZwzeQ30Bq2J6LCxxS1P9DHV/c0IvPdM05yH86jutcKknnZQLjPPs+XpLHnuF4xW+BBY1/WbthLSpFOF8yJQ2qCNzZ0eHp+SYFrkeRwx85jbn+YZbQzGWtbU6h3ql99wZY2PMe+pti4nyC1LsfDX589Mi2AYZ8YUZ4EyNmfVxmGsz575sOazGmeGYeTn9z/y9N07Pjz9wMfff8UE91Jh8qG4lBRFwbm4UBQXqqqmLKv8nmK6X8qK87ngNowY5zidztRVza1t6W8dIYT7UJKo1QRv2Lbtf7ne43/hH5mLNX7MorYcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"이슈\"\n        title=\"이슈\"\n        src=\"/static/42ca8f13087fc5264b04b12e26e9ed90/37523/2_issue.png\"\n        srcset=\"/static/42ca8f13087fc5264b04b12e26e9ed90/e9ff0/2_issue.png 180w,\n/static/42ca8f13087fc5264b04b12e26e9ed90/f21e7/2_issue.png 360w,\n/static/42ca8f13087fc5264b04b12e26e9ed90/37523/2_issue.png 720w,\n/static/42ca8f13087fc5264b04b12e26e9ed90/302a4/2_issue.png 1080w,\n/static/42ca8f13087fc5264b04b12e26e9ed90/07a9c/2_issue.png 1440w,\n/static/42ca8f13087fc5264b04b12e26e9ed90/081ff/2_issue.png 2182w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>‘use client’ directive for Client Components issue #4699</em></p>\n<p><a href=\"https://github.com/0xcadams\"><strong>@0xcadams</strong></a>가 제기한 이슈 내용을 살펴보면,</p>\n<ul>\n<li><a href=\"https://nextjs.org/blog/next-13\">Next.js 13</a>의 클라이언트 컴포넌트는 React의 <a href=\"https://github.com/reactjs/rfcs/blob/main/text/0227-server-module-conventions.md#basic-example\">RFC 227</a>을 기반으로 클라이언트 전용 컴포넌트임을 표시하기 위해 <code>use client</code> 디렉티브가 필요합니다. 그러나 현재, Rollup을 사용한 빌드에서 모듈 수준의 디렉티브가 지원되지 않아 빌드 오류가 발생하고 있음을 이슈 제기하고 있습니다.</li>\n</ul>\n<p>이에 대해 <a href=\"https://github.com/lukastaegert\"><strong>@lukastaegert</strong></a>는,</p>\n<ul>\n<li><strong>번들링 시 여러 모듈이 경계 없이 하나의 청크로 합쳐지기 때문</strong>에 모듈 수준 디렉티브를 금지하고 있다고 설명합니다. <strong>모듈 수준 디렉티브를 허용할 경우, 청크 내 모든 모듈에 해당 디렉티브가 적용</strong>되어 문제가 발생할 수 있다는 점도 지적했습니다. 만약 이러한 디렉티브가 출력에 꼭 필요하다면, <strong>배너 옵션</strong>이나 <strong>플러그인 훅</strong>을 통해 추가할 것을 권장합니다.</li>\n</ul>\n<p>이 쓰레드를 쭉 읽다보면 <a href=\"https://github.com/Ephem\"><strong>@Ephem</strong></a>는 <a href=\"https://github.com/Ephem/rollup-plugin-preserve-directives\">ollup-plugin-preserve-directives</a> 플러그인을 만들어서 소개했고, 저도 이 플러그인을 통해 문제를 해결될 것이라는 부푼 기대감으로 시도를 해보았습니다.</p>\n<p>그러나, 위 플러그인은 Rollup의  <code>preserveModules: true</code> 설정을 필수로 요구하고 있습니다. 해당 옵션을 <code>true</code>로 설정하는 경우 directive는 정상적으로 보존되지만, <a href=\"https://www.npmjs.com/package/vite-plugin-lib-inject-css\">vite-plugin-lib-inject-css</a> 플러그인과 충돌이 일어나 모든 module.css의 링크가 끊기고 스타일이 제대로 적용되지 않는 새로운 이슈를 발생시켰습니다.</p>\n<p><a href=\"https://www.npmjs.com/package/vite-plugin-lib-inject-css\">vite-plugin-lib-inject-css</a>의 공식문서를 살펴보면 <code>preserveModules</code>가 <code>true</code>인 경우, <strong>청크와 참조된 CSS 간의 연관성이 어떤 이유로 인해 손실되며, 이 경우에도 스타일 주입이 생략</strong>된다고 설명하고 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAADYElEQVRIx41V2Y7aQBDc//+sPERRVqsERcTGNrAGfB/j8QkGXFE1jJfNbanU7WPKfdT0PEVRhOXyOyzLhm07sFcOXNeD43pwvbX4vr9DEMaIohhhGIFriJsfI7q/I5622y1s24ZuGgyRjzJNUGmNoihQ1zXSNEWeFwiyHEkSQ9c1yrJEWZTwCh9hEqHUBZIsRppmeLper8iyDJZtw7FtfF8u0fc9zDVN0w2YwG8vl8uM8XLG+XwWn5Z44iJGwkiDMMThcJD74/EoxMQwDOi6DqfTCf+6hLCqKqzXa+x2OwF9/oDWsix4nidlYfq8GOkc+U8QwnEcobWWyEhufH7wv9c7QqailBIiErLotEzT/MTYx/eEaR6jnlPmTdM0Qti2rdSNjQqCQORBf7/fC9HfIpwJmXKe57KQBHEcv0MYhvKeYB3ZOP6AoM8of4nQLGL6TJWdNR021vjMhN+SyKwxUQoh9cPomBJTZk0I+vyYGVBG9A3+lPbclK5t0TS1EBNJksjfSWzqS99YrjFiNuKeU75czlB1h1K3EgkjIriI97+DET3xKPp7DS8oVA0/quDHGllZC5S6yaIslYAyUZSNUsiLUvY8Lb9jAO8Ic1XjNeuwy1qUdYv+OOA4jhjGEwaxI4bTaW7Oz3gjnIDLNKFXCvsPzzh8fEH86QvUywL581fUXxbQLy/Qn59RWxZ0c2uakh1VS5SMmGm/1fB6Ra1K6EOAKkpRBgl0mKAKYzRRgiaK0IQh2jRF23XSfTbqZm8/6IfhgfB8Rtf1GK9XnA2mK66YxOfz/08ZkK5Rg0aw9PP71ivyHKosRRbcAH/DTFhrDcdx8Pr6Knaz2cB1XSwWC7ieJ8/Pd51N/5g4N2GPoxS5UupW5KKAolwYLfdwmiJLkhlJGIqNggAJz5fDAcf7lL8Rti10lknqXd+jJpllQa1WKCwLhW2jtO35njZbLpF8+wbtukhp9/sHwqGHLop5uMr2altU3Grcdo+Wc5Gy4Xd3+TRtK0qZCSmBzXYro561o1173nwvdV2vxbqOI8dDyFkZhjKlOOLIMRNST77vyxlCsCnenZBniQHPl9VqNTeO73lP0nfClgg3m/lw4gIOTk6cx4FLn8+MTyJac1K+1fB0mpXPP7GGnCJ/mjS/gxH2D8BXDPtW0MikAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vite-plugin-lib-inject-css\"\n        title=\"vite-plugin-lib-inject-css\"\n        src=\"/static/b8a3c70b09d8dffc8559f24da5f5d09a/37523/3_injectcss.png\"\n        srcset=\"/static/b8a3c70b09d8dffc8559f24da5f5d09a/e9ff0/3_injectcss.png 180w,\n/static/b8a3c70b09d8dffc8559f24da5f5d09a/f21e7/3_injectcss.png 360w,\n/static/b8a3c70b09d8dffc8559f24da5f5d09a/37523/3_injectcss.png 720w,\n/static/b8a3c70b09d8dffc8559f24da5f5d09a/302a4/3_injectcss.png 1080w,\n/static/b8a3c70b09d8dffc8559f24da5f5d09a/d4b10/3_injectcss.png 1394w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>vite-plugin-lib-inject-css 플러그인 옵션</em></p>\n<p>결국 모든 파일을 entry로 설정하여 preserveModules를 우회하는 방법을 설명하며, 해당 옵션은 필수적으로 <code>false</code>로 설정해야 정상적으로 css가 연결됨을 확인 할 수 있었습니다.</p>\n<p>이에 <code>preserveModules</code> 옵션을 <code>false</code>로 사용하면서 클라이언트 컴포넌트에 한해 <code>\"use client\"</code> 디렉티브를 주입하는 플러그인을 직접 개발하기로 결심했습니다.</p>\n<h2 id=\"2-rollup-플러그인-개발을-위한-지식\" style=\"position:relative;\"><a href=\"#2-rollup-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EA%B0%9C%EB%B0%9C%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%A7%80%EC%8B%9D\" aria-label=\"2 rollup 플러그인 개발을 위한 지식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Rollup 플러그인 개발을 위한 지식</h2>\n<h3 id=\"플러그인-개념과-컨벤션\" style=\"position:relative;\"><a href=\"#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EA%B0%9C%EB%85%90%EA%B3%BC-%EC%BB%A8%EB%B2%A4%EC%85%98\" aria-label=\"플러그인 개념과 컨벤션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://rollupjs.org/plugin-development/#plugins-overview\"><strong>플러그인 개념과 컨벤션</strong></a></h3>\n<p>Rollup 플러그인은 properties, build hooks, output generation hooks 중 하나 이상을 포함하는 <strong>객체</strong>입니다. 그래서 작성한 코드를 살펴보면 Plugin 객체를 리턴하는 간단한 함수임을 확인할 수 있습니다.</p>\n<p>또한, 작성한 플러그인은 공식문서에서 제공하는 <a href=\"https://rollupjs.org/plugin-development/#conventions\">컨벤션</a>을 따라야 합니다. 간략하게 소개하면 아래와 같습니다.</p>\n<ul>\n<li>플러그인 이름은 <code>rollup-plugin-</code> 접두사를 사용하여 명확하게 지어야 합니다.</li>\n<li><code>package.json</code>에 <code>rollup-plugin</code> 키워드를 포함해야 합니다.</li>\n<li>플러그인은 테스트되어야 하며 mocha 또는 ava 사용을 권장합니다.</li>\n<li>문서는 영어로 작성해야 합니다.</li>\n</ul>\n<h3 id=\"build-hooks\" style=\"position:relative;\"><a href=\"#build-hooks\" aria-label=\"build hooks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://rollupjs.org/plugin-development/#build-hooks\"><strong>Build Hooks</strong></a></h3>\n<p>Rollup은 번들링 과정에서 여러 단계에 걸쳐 다양한 빌드 훅을 제공합니다. 빌드 훅은 Rollup이 번들링을 시작하고 종료하는 과정의 특정 지점에서 호출되며, 플러그인을 통해 이 단계들을 커스터마이징할 수 있습니다. 주요 빌드 훅은 다음과 같습니다.</p>\n<ul>\n<li><code>buildStart</code>: 번들링이 시작될 때 호출되며, 초기화 작업을 수행할 수 있습니다.</li>\n<li><code>resolveId</code>: 모듈 ID를 해결할 때 호출되며, 사용자 정의 모듈 로딩을 구현할 수 있습니다.</li>\n<li><code>transform</code>: 각 모듈을 번들에 포함하기 전에 호출되어 코드를 수정할 수 있습니다.</li>\n<li><code>moduleParsed</code>: 모듈이 파싱된 후 호출되며, 모듈의 메타데이터를 사용할 수 있습니다.</li>\n<li><code>buildEnd</code>: 번들링이 완료된 후 호출되며, 정리 작업을 수행할 수 있습니다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 136.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAADQ0lEQVRIx41VaW/bOBD1//8XXRRt2qIH9ltaIMAWaIugKJI0CFo3cR3JtmSdpg5SpETpLYY2uT7ibAmMRWrIpzdvhuNRWxaIfB9hFKOVEkkUoaoq0Bj6HsMwHJjxbZ77Y6R4hoV3h2zFoLVGIyVarfHYOAZmAIehX8+0hmYMPWMYlIImy3NjvVToOwVd5ei79nGG1sHnc9y/eoXps2dgkwlEGGJ6coLp8+eo/RnKyMPv0yfgWfhngH3fo1PKGM2H/TWAUggbM44FPfo/TezgQQDvyxfINP0zhg9l01i/1ji/vIT38gXK8dhVwEPAjwKa95ah6jCLcyjdP0pgtO18qDwsE5be4cfFGxS5d8Bs+/xo30G12LatM6UU2k6jXE2x9P7Brx9fkSQZmkZACIGu63bOO4b2MG0gUL1X3LSczSNEcYqmacA5N3vpSeYY0g85tr+0FbQrIalaeLfvEc6ujK68rv+rgA24AyR228mhNecCXAgwViBJUqxYgVV6j7l/CyEapEniQLZDPwCkcMj05oolSYQoCh0bKdfaMsZMEyFpHgSk0OI4xmw2R9c2CKanmP16A+/na/jjt/h98xJL7wxKSfi+j+vrayyXS6P7UYbErCwKDL1GwxOk8RSrzEeW3KMqAvAqRlEUyLIcaZq6aEhDAnaANqP9MEDpdehlWaMo1sKrVptEULgXF5fwPM8BELvFYmHYOkD6aiMVGpZi/v0TFuMrSCndPanrGlVVOo3JR6zofZZlKMtyN+QkjlFWNZoshPfpbyTjbzvFQx+kJBhAIaAIsK6R5zmCIDA+G+XIti47aCYa6XRRm/ZFoRFf4iG6DnITMulPjHcY2kPU56zRmjZa4ZMsw93ZGZYfPiA4PUVbVaAuKTg/XjaOZd+760cbzZXUGsVkgvD8HNOPH8ELBmqzRtOmOQ5IDlrbO73fiWiWMIZ7f4YoSlHVAmXFofVwCEgZC8MQR3ukuddr8dPgHLdXf2F++w7+zxNky6+7SaGwiD5dp+3wj41WMlTMx8K/QVX4Zn3wJ0UhEjDfCE0fMJnmHJIxKBJ/0y87PUAqjRWrsGniu/1wv1NbLYVS8D5/xuTpUyxvboyGVtvtNmf74b9heTMJIBFiZAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Build Hooks\"\n        title=\"Build Hooks\"\n        src=\"/static/5e4d92bd1bd610220f9f984938491116/37523/4_build_hooks.png\"\n        srcset=\"/static/5e4d92bd1bd610220f9f984938491116/e9ff0/4_build_hooks.png 180w,\n/static/5e4d92bd1bd610220f9f984938491116/f21e7/4_build_hooks.png 360w,\n/static/5e4d92bd1bd610220f9f984938491116/37523/4_build_hooks.png 720w,\n/static/5e4d92bd1bd610220f9f984938491116/302a4/4_build_hooks.png 1080w,\n/static/5e4d92bd1bd610220f9f984938491116/f213e/4_build_hooks.png 1192w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Build Hooks 과정</em></p>\n<h3 id=\"output-generation-hooks\" style=\"position:relative;\"><a href=\"#output-generation-hooks\" aria-label=\"output generation hooks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://rollupjs.org/plugin-development/#output-generation-hooks\">Output Generation Hooks</a></h3>\n<p>출력 생성 단계는 번들을 생성하고 최종 출력을 준비하는 중요한 과정으로, 이 단계에서도 다양한 훅이 호출됩니다. 출력 생성 훅을 통해 번들이 만들어지는 방식과 최종 결과물을 커스터마이징할 수 있습니다. 주요 출력 생성 훅은 다음과 같습니다.</p>\n<ul>\n<li><code>renderStart</code>: 출력 생성이 시작되기 전에 호출됩니다.</li>\n<li><code>banner</code>: 번들의 맨 앞부분에 배너를 추가할 때 사용됩니다.</li>\n<li><code>renderChunk</code>: 각 청크가 렌더링될 때 호출되며, 청크의 내용을 수정할 수 있습니다.</li>\n<li><code>generateBundle</code>: 번들이 생성된 후 호출되며, 최종 번들에 대한 추가 작업을 수행할 수 있습니다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 193.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAnCAYAAAAPZ2gOAAAACXBIWXMAABYlAAAWJQFJUiTwAAADu0lEQVRIx6VWa2/bNhT1//8b7Yd2GNoNw7AN27KsC5A2zbp2aOMhSWVHthbJelOkKD6kM5B6QHasuMkIEJJN3sNz7z33UrNGaZRZjoJSaK3BOQdjDE3TwAz73J3tAvaNmRYc66s53JUHYoCjCFEUD2BN/2zqbo4O2gfY1BJx6IFShrqu0dS1fVqjCcMpMAs4tdCyag35zRzJ+99ALk7RCH6AYWe4O8dGIlgi+ecM3L1AI8X9gDgwekOSF6N8tLF9MGAPVlxdYfH0KaJXv6M+mJTRhinXS0pxPZ8jDoK9e8cHdDFsdTXesDvSLIPS+mACZ/t0pbWCEMIKPEkSxHGM5dIFLSiUUpBS2iIwc2xn3gdASkt4ax/+7QYkN0AZ8jxHVVVWl2XJbRWZYX4b4B7czBHDVsQyc+BdvID78RsEl99B5c6WW4axmfsSYpga0G2XRQZVLKCZC0kc1FXalW6XmLK0bPfFzswB8FAp2c1KIktz+LcBlGpdNO5u7bnDcKsBtGEwRpRSy26z2WCxWMB1XeRZG1uz1sdvi+GUoE2W+0ZR1xpJnKIoii01GND+8HsBDaZhRhnHrR9htfZRVcKWXJwQkIIPh6ZpivV6bZMzzbBpwMoKinrYOL8iWhwBmkORhf29WRyBRx9Rdl70CZvtls94lryCZgGS1RvEN6eAriCJi3R9huzfc5TRJRhlrez2JWW3rWdZNrxLZdwrIVUNygQI4aiERtVpc69szNNQF1Vlyy0IQoRhiKIgkFJYo1pr0KJAmmY2ZpOyKTlHkqZ2YROGQ0zMuqnnPCe29LKc7BX3Hdm4r39A8Ok1dMXgHD2DpOlgFHw6RXT1FzSncI6/huR06+bbZtjXapGgSDaoeAmy8VAyOoRClQSCESgpUIS3aGpt5dM3CRuKTq+zcTJ03UAICcYrqy0TP9NxPM+38aSMQSjTCNr2ZsDGLcy2r0NXozG0iSHEXqxT+3Y6djPd2gFsohhxmh28KrYYTrV0Fq5w/epbrP40lSL/30VvRlWkiK4/wJu/A6PF4U+R+8BsK5MCJE0RBT58bz10lQcD2u2CI3nzPW6Pn8M/fobK+TAc9DCXe4adtrRUUFa4zSNdHhmU4QrB/AzR5TvIsriTtF3gg1mOP/+N9fnP8M5/Ac+iOyBfBLi7WdSAaPBF34kHZVOuV/j81XOsfvoRylxWf5xg9fIl2I37MIZDY2AMZLkE8/1Wl1GEzHGgusvpUS7b7h2GSJZLJB3wo13upRO9fQvnyRMEJydb/+8y/A/LPO71AyuImQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Output Generation Hooks\"\n        title=\"Output Generation Hooks\"\n        src=\"/static/03046906712457e720c5efd07ac6f185/37523/5_output_generation_hooks.png\"\n        srcset=\"/static/03046906712457e720c5efd07ac6f185/e9ff0/5_output_generation_hooks.png 180w,\n/static/03046906712457e720c5efd07ac6f185/f21e7/5_output_generation_hooks.png 360w,\n/static/03046906712457e720c5efd07ac6f185/37523/5_output_generation_hooks.png 720w,\n/static/03046906712457e720c5efd07ac6f185/774b6/5_output_generation_hooks.png 738w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Output Generation Hooks 과정</em></p>\n<h2 id=\"3-플러그인-개발\" style=\"position:relative;\"><a href=\"#3-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EA%B0%9C%EB%B0%9C\" aria-label=\"3 플러그인 개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 플러그인 개발</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACPklEQVQ4y3WU2ZLbIBBF54fnIb+Wt/mGvGcmS5WTuGxJ1oaExCq4qds2jjxTwXWr20Af6Ab01LUdjFkxz7NYa62I/rr+X8uyIISAt9dXfHp+xueXFwxmxVNKCdY5qElD6xXLukAvK1YbAGSknME5OWfwRx/0b338T3CMUfwnALDrhPr0DUN3xNBe0PcdQspAAlK8BoawIfgNGYCPmyyUYxTtmwC9URiqr1DtAcP5jK46QfU9qkOFsR6QfMYyBSwqwNiI0XisYUNk2tOEtF0X4sIC7IcBr2/f8ev3HwzDgHEcoZQSy3ruG9ML3sM5B+c9vPfXMuyBDLpcGqhxfCi61loOa5omsSll6acIZJx3TkAPQGOM7Kzv+/vu9iKYEDaOc15ZiGMfgJx0PB4lyN/SkJScu//nbpgaAeznXEJZgg9ADpxOJ1RVhfP5fLfso+hzQWZCcYFt2wRWQB9SbpoGXddJOhR9lqFtWxF9QqRuN2DZdYHdgTyEuq4lkGAC9wdCn2Kwu51q2eF+dw8pHw4HCS6TaYvKZDY9z1Lz0vZjd6CzVmAsdLkixfKUy+Ew4MvPHzDO/buYGQ91FOAwjqib5v4uqVKb963VCiZaLEZjdQt88kj53cWO3mORlzGIlBpheblXg3m5Wr0YhMB3mxDtiuXSwM4Km7fIaXsEemPRnRt0dYu+Uxj7CWqYoKYZ06wxa41pmiXt26PdpZyvX5+bL8AQI4zjBY7wLoic84ghYItRPk3l81TKVg4jlzLe/L8+NidMRAromgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rollup-plugin-preserve-use-client\"\n        title=\"rollup-plugin-preserve-use-client\"\n        src=\"/static/d0c95547c5236d2c39cee927df0989e1/37523/6_rollup_plugin_preserve_use_client.png\"\n        srcset=\"/static/d0c95547c5236d2c39cee927df0989e1/e9ff0/6_rollup_plugin_preserve_use_client.png 180w,\n/static/d0c95547c5236d2c39cee927df0989e1/f21e7/6_rollup_plugin_preserve_use_client.png 360w,\n/static/d0c95547c5236d2c39cee927df0989e1/37523/6_rollup_plugin_preserve_use_client.png 720w,\n/static/d0c95547c5236d2c39cee927df0989e1/302a4/6_rollup_plugin_preserve_use_client.png 1080w,\n/static/d0c95547c5236d2c39cee927df0989e1/07a9c/6_rollup_plugin_preserve_use_client.png 1440w,\n/static/d0c95547c5236d2c39cee927df0989e1/f291a/6_rollup_plugin_preserve_use_client.png 2258w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>rollup-plugin-preserve-use-client 플러그인 완성✨</em></p>\n<p>플러그인을 개발하기 전, <code>preserveModules</code> 옵션을 <code>false</code>로 사용하면서 클라이언트 컴포넌트에만 <code>'use client'</code> 디렉티브를 유지하는 것이 목표로 삼았습니다. 이를 위해 Rollup의 훅을 어떻게 활용할지, 그리고 디렉티브를 탐지하고 유지하는 방법과 위에서 살펴본 <a href=\"https://github.com/rollup/rollup/issues/4699\">#4699</a> 이슈의 <a href=\"https://github.com/lukastaegert\"><strong>@lukastaegert</strong></a> <strong>우려를 최소화 할 수 있는 방법</strong>이 무엇일지 고민했습니다.</p>\n<p>이에 적용한 방법은 아래와 같습니다.</p>\n<p><strong>1. <code>moduleParsed</code> 훅을 통한 초기 모듈 식별</strong></p>\n<ul>\n<li><code>moduleParsed</code> 훅을 통해 Rollup이 각 모듈을 파싱할 때 <code>'use client'</code> 디렉티브가 포함된 모듈을 식별하고, 해당 모듈의 ID를 <code>useClientFiles</code>라는 집합(Set)에 저장합니다.</li>\n<li>이렇게 하면 <code>'use client'</code> 디렉티브가 필요한 모듈들을 미리 식별하여 저장합니다.</li>\n</ul>\n<p><strong>2. <code>generateBundle</code> 훅을 통한 청크별 모듈 검사</strong></p>\n<ul>\n<li><code>generateBundle</code> 훅에서는 최종 생성된 각 청크를 순회하며, 청크에 포함된 모든 모듈의 ID를 검사합니다. 여기서 청크에 포함된 모듈 ID 중 하나라도 <code>useClientFiles</code>에 포함된 ID가 있다면, 그 청크 상단에만 <code>'use client';</code> 지시문을 추가합니다.</li>\n<li>이 방식은 <strong>필요한 청크에만</strong> <code>'use client'</code>를 삽입하므로, 불필요하게 모든 청크에 일괄적으로 지시문이 추가되는 일을 방지합니다.</li>\n</ul>\n<p>제가 작성한 플러그인 코드는 아래와 같으며, <a href=\"https://tsup.egoist.dev/\"><code>tsup</code></a>을 사용해 빠르게 번들링하고 npm에 배포해 보았습니다.</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/package/rollup-plugin-preserve-use-client\"><strong>rollup-plugin-preserve-use-client</strong></a></li>\n<li><a href=\"https://github.com/soobing/rollup-plugin-preserve-use-client#readme\"><strong>github repo</strong></a></li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">type</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">Plugin</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;rollup&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">preserveUseClientDirective</span><span class=\"mtk1\">(): </span><span class=\"mtk10\">Plugin</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">useClientFiles</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Set</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">string</span><span class=\"mtk1\">&gt;();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;preserve-use-client-directive&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">moduleParsed</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">ast</span><span class=\"mtk1\">, </span><span class=\"mtk12\">id</span><span class=\"mtk1\"> }) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">ast</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">ast</span><span class=\"mtk1\">.</span><span class=\"mtk12\">body</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk12\">ast</span><span class=\"mtk1\">.</span><span class=\"mtk12\">body</span><span class=\"mtk1\">[</span><span class=\"mtk7\">0</span><span class=\"mtk1\">]?.</span><span class=\"mtk12\">type</span><span class=\"mtk1\"> === </span><span class=\"mtk8\">&#39;ExpressionStatement&#39;</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">expression</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">ast</span><span class=\"mtk1\">.</span><span class=\"mtk12\">body</span><span class=\"mtk1\">[</span><span class=\"mtk7\">0</span><span class=\"mtk1\">].</span><span class=\"mtk12\">expression</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">expression</span><span class=\"mtk1\">.</span><span class=\"mtk12\">type</span><span class=\"mtk1\"> === </span><span class=\"mtk8\">&#39;Literal&#39;</span><span class=\"mtk1\"> &amp;&amp;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">expression</span><span class=\"mtk1\">.</span><span class=\"mtk12\">value</span><span class=\"mtk1\"> === </span><span class=\"mtk8\">&#39;use client&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">useClientFiles</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk12\">id</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">generateBundle</span><span class=\"mtk1\">(</span><span class=\"mtk12\">options</span><span class=\"mtk1\">, </span><span class=\"mtk12\">bundle</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">for</span><span class=\"mtk1\"> (</span><span class=\"mtk4\">const</span><span class=\"mtk1\"> [, </span><span class=\"mtk12\">fileData</span><span class=\"mtk1\">] </span><span class=\"mtk4\">of</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">.</span><span class=\"mtk11\">entries</span><span class=\"mtk1\">(</span><span class=\"mtk12\">bundle</span><span class=\"mtk1\">)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">fileData</span><span class=\"mtk1\">.</span><span class=\"mtk12\">type</span><span class=\"mtk1\"> === </span><span class=\"mtk8\">&#39;chunk&#39;</span><span class=\"mtk1\"> &amp;&amp;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">fileData</span><span class=\"mtk1\">.</span><span class=\"mtk12\">moduleIds</span><span class=\"mtk1\">.</span><span class=\"mtk11\">some</span><span class=\"mtk1\">((</span><span class=\"mtk12\">id</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">useClientFiles</span><span class=\"mtk1\">.</span><span class=\"mtk11\">has</span><span class=\"mtk1\">(</span><span class=\"mtk12\">id</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">fileData</span><span class=\"mtk1\">.</span><span class=\"mtk12\">code</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">`&#39;use client&#39;;</span><span class=\"mtk6\">\\n</span><span class=\"mtk4\">${</span><span class=\"mtk12\">fileData</span><span class=\"mtk1\">.</span><span class=\"mtk12\">code</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"4-마무리\" style=\"position:relative;\"><a href=\"#4-%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"4 마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 마무리</h3>\n<p>Rollup 플러그인을 직접 개발해보니, 번들링 과정에 대해 깊이 이해할 수 있었습니다. 플러그인 개발이 매우 어렵고 특별한 지식이 필요할 거라 생각했지만, 실제로 플러그인은 간단한 함수이며 Rollup에서 제공하는 다양한 훅을 활용하면 원하는 기능을 쉽게 구현할 수 있음을 경험할 수 있었습니다. 오랜만에 오픈소스에 기여하게 되어 기쁘고, 이 코드가 많은 사람에게 유용하게 쓰이길 바라는 기대감과 테스트 코드도 하루빨리 추가해야겠다는 숙제를 남겨두며 이 글을 마칩니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .mtk6 { color: #D7BA7D; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"November 10, 2024","title":"Rollup Plugin 개발기","categories":"bundler","author":"soobing"},"fields":{"slug":"/rollup-plugin-development/"}},"prev":{"id":"c2200ba0-35a9-5a2d-a361-7fba440a96d7","html":"<p>개발자들이 <code>package.json</code> 파일을 접하는 순간은 주로 웹 애플리케이션을 개발할 때입니다. 대체로 의존성 관리를 위해서 사용하고, 특정 스크립트를 추가하거나 버전을 관리하는 정도로 활용되곤 하죠. 하지만 <strong>라이브러리를 개발하다 보면 우리가 잘 사용하지 않던 설정</strong>들이 있다는 것을 알게 됩니다. 이번 글에서는 공식문서를 기반으로 여러분이 잘 모르고 있을 수 있는 <code>package.json</code>의 설정을 자세히 알아보도록 하겠습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAADEElEQVQozy3S228bRRQH4P57oL5VFUhQ8QCqUEkQlF6cXmhDQ0laO8Hb2t2NL7Gb5uLg2Mbe3dnZmb3Ozt68DsKuHHvt0tA6pMSRCgXe0caWjubt0zlnzu8MNRUrKhy9RHWoETSdTmdvMNj/7eVwMOx12r94rmXqWFehioGCREUWsCwgyJ+xTNWaetWxjb2WF4bd4/Gbf/779+9378Yn49ejV91ux3VMQ0OqIilYnPopNiJJLT3w7TDsvv3r7Z/Hx67rIoT8ph8OwnanHQQeJZoWYaDIIpbFqDMxcISJ5thm+9fW+OT46M3R0/Wnt+/czeRyM7Nfbm6XemEfyhLGkmkoCpYUBBCc4mhmSjTftcKwOz45CQKfecTk8nlKaSw299HHFxzP9Tz3MZMEoKEggBGY7kxOt7Wp3vTowcGL0eHI9dxCsZhkmLkbc4uLi+knbEMUf3/96u6tmyuJh6JQR1BAsoCkSWei2tRo+vbLg+HocOT7fqFYYB6nEssraZblsjkA4eHRH7ErX1+evbS1uS7yNQQFDIXJ2Cq1DN+j+9326HDU6XRWM9mleOJBPMGk0okkgxQ1HPQ/+fD8VzOfF/KZWvUnCBoRtgzVIholmkvNVsvrh/u9fg9IMJ5Y4VazbCab4lb7wwGTeHDu7Hu3rl/NZ7lKuSTyNVmanIpokbd01yFB4AaBRywS7LW6/V44HD5/3mGW4+fOvv/FxU/jS/eLa9lKeVtoVCFoTEIyLdchTY82PUpMtbS1waVTSwv3Zi5+duGD85dnLz1c+j6XebK1UaxVdgS+BsE0YSoxFNvSoSTwfN11LF3DJtGr1TLHppnkyo/L8VU2tV7M75Q2q7s7fL0CxDqMfvtUmjp2bXNtLf/t/MKd76KaX/hh/t79a7Gby8lHsRu3v7l67cr12PZOCUq8wP8MxLo8OZWpY1PHRMeKAmUEnz1br1R3y7tlluNYji0UCizLrhXyW5sbQORliYcSD0EjwhNpaLKuIlNHpqE4lk6j2BiObTq2QUzV0LCmyqoiISjI0qkHDRnw/wO2+3tVMY34hwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"썸네일\"\n        title=\"썸네일\"\n        src=\"/static/b0fba8ea7814faa5c7e8eedb63dccd48/37523/thumbnail.png\"\n        srcset=\"/static/b0fba8ea7814faa5c7e8eedb63dccd48/e9ff0/thumbnail.png 180w,\n/static/b0fba8ea7814faa5c7e8eedb63dccd48/f21e7/thumbnail.png 360w,\n/static/b0fba8ea7814faa5c7e8eedb63dccd48/37523/thumbnail.png 720w,\n/static/b0fba8ea7814faa5c7e8eedb63dccd48/b12f7/thumbnail.png 1020w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"1-name-version-description-keywords-homepage\" style=\"position:relative;\"><a href=\"#1-name-version-description-keywords-homepage\" aria-label=\"1 name version description keywords homepage permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. <code>name</code>, <code>version</code>, <code>description</code>, <code>keywords</code>, <code>homepage</code></h3>\n<p>웹 앱이 아닌 라이브러리를 만들 예정이라면(패키지를 npm 레지스트리에 배포할 계획이라면), <code>name</code>과 <code>version</code> 필드가 가장 중요하며 반드시 포함되어야 합니다. 이 두 필드는 함께 고유 식별자를 형성합니다. 패키지를 배포하지 않을 계획이라면, <code>name</code>과 <code>version</code> 필드는 선택 사항입니다.</p>\n<ul>\n<li><code>name</code>: 패키지의 이름을 정의합니다.</li>\n<li><code>version</code>: 패키지의 버전을 정의합니다.\n<ul>\n<li><a href=\"https://github.com/npm/node-semver\">semver</a>을 따르며, <a href=\"https://docs.npmjs.com/cli/v8/commands/npm-version\"><code>npm-version</code></a> cli를 통해 버전을 업데이트 할 수 있습니다.</li>\n</ul>\n</li>\n<li><code>description</code>: 패키지에 대한 간단한 설명을 추가합니다.</li>\n<li><code>keywords</code>: npm 패키지 검색에 잘 노출되도록 도와주는 키워드 리스트를 정의합니다.</li>\n<li><code>homepage</code>: 패키지의 공식 문서나 더 많은 정보를 얻을 수 있는 홈페이지 URL을 정의합니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;your-library&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;version&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;description&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;This is a sample library.&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;keywords&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;node&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;library&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;example&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;homepage&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;https://your-library-homepage.com&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"2-bugs\" style=\"position:relative;\"><a href=\"#2-bugs\" aria-label=\"2 bugs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. <code>bugs</code></h3>\n<p><code>bugs</code> 속성에는 프로젝트 문제를 보고할 수 있는 버그 리포트 URL이나 이메일을 명시합니다. 이를 통해 사용자는 버그를 발견했을 때 어디로 보고해야 할지 알 수 있습니다. <a href=\"https://docs.npmjs.com/cli/v8/commands/npm-bugs\"><code>npm bugs &#x3C;package-name></code></a> 명령어를 사용하면 해당 패키지의 명시된 버그 리포트 URL이 반환되어 어디로 리포팅 해야하는지 알 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;bugs&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;url&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;https://github.com/username/repository/issues&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;email&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;support@example.com&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"3-license\" style=\"position:relative;\"><a href=\"#3-license\" aria-label=\"3 license permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. <code>license</code></h3>\n<p><code>license</code> 속성은 패키지의 라이선스 유형을 명시합니다. 이는 패키지를 사용할 수 있는 조건을 정의하며, 오픈 소스 커뮤니티에서는 매우 중요한 정보입니다.</p>\n<ul>\n<li>\n<p>단일 라이선스</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;license&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;MIT&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p>다중 라이선스</p>\n<ul>\n<li>다중 라이선스는 패키지가 여러 개의 라이선스를 제공하는 것을 의미하며, <strong>사용자의 상황에 맞는 라이선스를 선택할 수 있도록</strong> 유연성을 제공합니다.</li>\n<li>예를 들면, 오픈 소스 사용자는 무료로 사용할 수 있도록 MIT를 제공하고, 기업은 더 안전한 법적 보호를 위해 Apache-2.0을 선택할 수 있습니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;license&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;(MIT OR Apache-2.0)&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p>커스텀 라이선스</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;license&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;SEE LICENSE IN &lt;filename&gt;&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p>비공개 패키지</p>\n<p><code>license</code>를 <code>UNLICENSED</code>로 설정하고, <code>private: true</code>를 추가하여 <strong>의도치 않은 배포를 방지</strong>할 수 있습니다.</p>\n<ul>\n<li>회사 내부 전용, 개발 중인 경우, 외부에 배포되지 않는 저작권 보호를 받는 비공개 소스 코드인 경우에 다음과 같은 설정으로 의도치 않게 npm 레지스트리에 배포되는 경우를 방지할 수 있습니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;license&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;UNLICENSED&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;private&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk4\">true</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"4-author와-contributors\" style=\"position:relative;\"><a href=\"#4-author%EC%99%80-contributors\" aria-label=\"4 author와 contributors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. <code>author</code>와 <code>contributors</code></h3>\n<p><code>author</code>와 <code>contributors</code> 속성은 패키지의 저자와 기여자에 대한 정보를 제공합니다. 이를 통해 누가 패키지를 만들었고, 누가 기여했는지를 명확히 할 수 있습니다.</p>\n<p>단일 작성자의 경우 <code>author</code>를, 다중 작성자가 존재하는 경우 <code>contributors</code>를 사용하면 됩니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;author&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;John Doe &lt;john.doe@example.com&gt; (https://johndoe.com)&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;contributors&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;Jane Smith &lt;jane.smith@example.com&gt; (https://janesmith.com)&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;Bob Johnson &lt;bob.johnson@example.com&gt; (https://bobjohnson.com)&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>아래와 같이 작성해도 됩니다.  <code>name</code>, <code>email</code>, <code>url</code>은 모두 포함하지 않아도 되며, 선택 사항 입니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;author&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;Barney Rubble&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;email&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;b@rubble.com&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;url&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;http://barnyrubble.tumblr.com/&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;contributors&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;Barney Rubble&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;email&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;b@rubble.com&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;url&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;http://barnyrubble.tumblr.com/&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;Fred Flintstone&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;email&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;f@flintstone.com&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>이를 통해 누가 패키지를 만들었고, 누가 기여했는지 명확히 할 수 있습니다.</p>\n<h3 id=\"5-funding\" style=\"position:relative;\"><a href=\"#5-funding\" aria-label=\"5 funding permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. <code>funding</code></h3>\n<p><code>funding</code> 속성은 패키지 개발을 위한 후원 정보를 제공합니다. <code>npm fund</code> 명령을 실행하면 <code>funding</code> 속성에 명시된 URL이 출력되어 후원 정보를 쉽게 확인할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;funding&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;individual&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;url&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;http://example.com/donate&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;http://example.com/donateAlso&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;patreon&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;url&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;https://www.patreon.com/my-account&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"6-files\" style=\"position:relative;\"><a href=\"#6-files\" aria-label=\"6 files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. <code>files</code></h3>\n<p>패키지를 배포할 때 어떤 파일들을 포함할지 지정합니다. 이를 통해 불필요한 파일이 배포되지 않도록 제어할 수 있어, 최종 패키지의 크기를 줄이고 보안을 강화할 수 있습니다.</p>\n<p>기본값은 <code>[\"*\"]</code> 으로 모든 파일을 포함하며,  <code>.gitignore</code>와 유사한 파일 패턴으로 작성하면 됩니다. <code>.gitignore</code>에 의해 형상 관리에서 제외 되더라도, <code>files</code> 필드에 명시하면 배포됩니다. 또한, <code>files</code>는 항상 <strong>포함할 파일</strong>만 정의합니다. (제외할 파일은 여기서 정의하지 않음)</p>\n<ul>\n<li><strong>항상 포함되는 파일</strong>:\n<ul>\n<li><code>package.json</code></li>\n<li><code>README</code></li>\n<li><code>LICENSE</code> / <code>LICENCE</code></li>\n<li><code>\"main\"</code> 필드의 파일</li>\n<li><code>\"bin\"</code> 필드의 파일</li>\n</ul>\n</li>\n<li><strong>항상 제외되는 파일</strong>:\n<ul>\n<li><code>.orig</code>, <code>.DS_Store</code>, <code>.git</code>, <code>node_modules</code>, <code>package-lock.json</code>, 등.</li>\n</ul>\n</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;files&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;dist/**/*&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;README.md&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"7-exports와-main-browser\" style=\"position:relative;\"><a href=\"#7-exports%EC%99%80-main-browser\" aria-label=\"7 exports와 main browser permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. <code>exports</code>와 <code>main</code>, <code>browser</code></h3>\n<p><code>exports</code>, <code>main</code>, <code>browser</code>는 패키지를 import 할 때, 어떤 파일을 로드할지 정의하는 핵심 필드입니다. <code>main</code>은 Node.js 환경에서 기본 진입점을 지정하고, <code>browser</code>는 브라우저 환경에서 사용할 별도의 진입점을 정의합니다. 최신 방식인 <code>exports</code>는 환경별로 세부적인 진입점 제어를 가능하게 하고, 모듈의 공개 인터페이스를 캡슐화합니다.</p>\n<ul>\n<li><code>exports</code>: <code>main</code>의 모던한 방식의 대안으로, 여러 진입점을 정의하고 환경에 따라 조건부로 진입점을 해석하며, <code>exports</code>에 정의된 것 이외의 진입점을 차단합니다. 이러한 캡슐화를 통해 모듈 작성자는 패키지의 공개 인터페이스를 명확하게 정의할 수 있습니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;my-package&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;version&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;exports&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;.&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;./dist/index.js&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;./utils&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;./dist/utils.js&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li><code>main</code>: 해당 패키지를 불러올 때 (<code>require('패키지이름')</code> 또는 <code>import '패키지이름'</code>) 기본적으로 로드되는 파일을 지정합니다.  대부분의 모듈은 <code>main</code> 스크립트 하나만을 가지는 것이 가장 합리적입니다. <code>main</code>이 설정되지 않으면 기본적으로 패키지 루트 폴더의 <code>index.js</code>로 설정됩니다.</li>\n<li><code>browser</code>: 모듈이 클라이언트 측에서 사용되도록 설계되었다면, <code>main</code> 필드 대신 <code>browser</code> 필드를 사용해야 합니다. 이는 해당 모듈이 Node.js 모듈에서 사용할 수 없는 <code>window</code>와 같은 브라우저 전용 기능에 의존할 수 있음을 사용자에게 알려주는 데 도움이 됩니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;my-package&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;version&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;main&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;lib/index.js&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;browser&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;lib/browser.js&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<h3 id=\"8--bin\" style=\"position:relative;\"><a href=\"#8--bin\" aria-label=\"8  bin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>8.  <code>bin</code></h3>\n<p>패키지 설치 시 실행 가능한 명령어를 시스템의 <code>PATH</code>에 추가하여, 터미널에서 해당 명령어를 직접 실행할 수 있도록 설정하는 데 사용됩니다. 이를 통해 패키지 개발자는 CLI(Command Line Interface) 도구를 사용자에게 제공할 수 있습니다. 패키지 사용자가 명령줄에서 직접 실행할 수 있는 도구를 손쉽게 배포할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;my-package&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;version&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;bin&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;myapp&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;bin/cli.js&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<h3 id=\"9-man\" style=\"position:relative;\"><a href=\"#9-man\" aria-label=\"9 man permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>9. <code>man</code></h3>\n<p>패키지의 매뉴얼(manual) 페이지를 지정하는 데 사용됩니다. 이 필드를 통해 패키지를 설치한 사용자가 터미널에서 <code>man &#x3C;패키지명></code> 명령어를 입력하면, 해당 패키지의 사용 설명서를 확인할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;man&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;./man/doc.1&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"10-directories\" style=\"position:relative;\"><a href=\"#10-directories\" aria-label=\"10 directories permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10. <code>directories</code></h3>\n<p><code>directories</code> 필드는 패키지의 주요 디렉터리 구조를 정의하여, 패키지 사용자가 중요한 파일 위치를 쉽게 파악할 수 있도록 돕습니다. CommonJS 패키지 사양에 따라 설계된 이 필드는 <code>lib</code>, <code>bin</code>, <code>man</code> 등 다양한 디렉터리를 지정하여 패키지의 구조와 목적을 명확히 설명합니다.</p>\n<ul>\n<li><code>directories.lib</code>: 모듈의 라이브러리 파일들이 위치한 디렉터리</li>\n<li><code>directories.bin</code>: 실행 파일들이 위치한 디렉터리</li>\n<li><code>directories.man</code>: 매뉴얼 파일들이 위치한 디렉터리</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;directories&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;lib&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;./lib&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;bin&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;./bin&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;man&quot;</span><span class=\"mtk14\">:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;./man&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"11-repository\" style=\"position:relative;\"><a href=\"#11-repository\" aria-label=\"11 repository permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>11. <code>repository</code></h3>\n<p><code>repository</code> 속성은 패키지의 소스 코드가 어디에 있는지를 명시합니다. 프로젝트에 기여하고자 하는 사람들에게 코드의 위치를 알려주는 데 유용하며, 특히 npm 레지스트리에서 패키지를 검색할 때 해당 정보를 통해 소스 코드 저장소를 쉽게 찾을 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;repository&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;git&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;url&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;https://github.com/username/repository.git&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li><code>repository.directory</code> 속성: 모노레포(Monorepo)에서 사용\n<ul>\n<li>하나의 저장소에 여러 패키지나 프로젝트를 포함하는 모노레포에서 <code>repository.url</code>만으로는 특정 패키지가 저장소의 어디에 위치하는지 알기 어렵기 때문에 해당 속성을 사용하여 정확한 경로를 명시할 수 있습니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;repository&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;git&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;url&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;git+https://github.com/사용자명/저장소명.git&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;directory&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;패키지/경로&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"12-scripts\" style=\"position:relative;\"><a href=\"#12-scripts\" aria-label=\"12 scripts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>12. <code>scripts</code></h3>\n<p><code>scripts</code> 속성은 프로젝트에서 자주 사용하는 명령어들을 정의하는 데 사용됩니다. 빌드, 테스트, 시작 등 여러 작업을 쉽게 실행할 수 있도록 명령어를 작성 할 수 있습니다.</p>\n<p><code>start</code>와 <code>test</code> 스크립트는 <code>npm start</code>, <code>npm test</code>로 바로 실행할 수 있지만, 그 외의 스크립트는 <code>npm run 스크립트명</code> 형식으로 실행해야 한다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"17\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;scripts&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;build&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;webpack --config webpack.config.js&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;test&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;jest&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;start&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;node server.js&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li>\n<p><strong>스크립트 이름 앞에 <code>pre</code>나 <code>post</code>를 붙여</strong> 특정 스크립트 전후에 실행될 명령어를 정의할 수 있습니다. 예를 들어, <code>prebuild</code>는 <code>build</code> 스크립트 전에, <code>postbuild</code>는 <code>build</code> 스크립트 후에 실행됩니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"18\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;scripts&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;prebuild&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;npm run clean&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;build&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;webpack --config webpack.config.js&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;postbuild&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;npm run deploy&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"13-config\" style=\"position:relative;\"><a href=\"#13-config\" aria-label=\"13 config permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>13. <code>config</code></h3>\n<p><code>config</code>는 위에서 알아 본 **<code>scripts</code>**에서 사용할 설정 매개변수를 정의하는 데 사용됩니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"19\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;foo&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;config&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;port&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;8080&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;scripts&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;start&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;node server.js&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>위와 같이 설정하면, <code>npm_package_config_port</code> 환경 변수를 통해 <code>port</code> 값에 접근할 수 있습니다. 이를 활용하여 <code>scripts</code> 섹션에서 해당 값을 참조할 수 있습니다. <code>server.js</code> 파일에서 <code>process.env.npm_package_config_port</code>를 통해 포트 번호를 가져올 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"20\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// server.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">port</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">npm_package_config_port</span><span class=\"mtk1\"> || </span><span class=\"mtk7\">3000</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">app</span><span class=\"mtk1\">.</span><span class=\"mtk11\">listen</span><span class=\"mtk1\">(</span><span class=\"mtk12\">port</span><span class=\"mtk1\">, () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`Server is running on port </span><span class=\"mtk4\">${</span><span class=\"mtk12\">port</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span></code></pre>\n<p>사용자는 <code>npm config set foo:port 8001</code> 명령어를 통해 <code>port</code> 값을 재정의할 수 있습니다. 이렇게 하면 <code>npm_package_config_port</code>의 값이 <code>8001</code>로 설정되어, 패키지 스크립트나 코드에서 이를 참조할 때 변경된 값이 사용됩니다.</p>\n<h3 id=\"14-dependencies-devdependencies-peerdependencies-optionaldependencies-bundledependencies\" style=\"position:relative;\"><a href=\"#14-dependencies-devdependencies-peerdependencies-optionaldependencies-bundledependencies\" aria-label=\"14 dependencies devdependencies peerdependencies optionaldependencies bundledependencies permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>14. <code>dependencies</code>, <code>devDependencies</code>, <code>peerDependencies</code>, <code>optionalDependencies</code>, <code>bundleDependencies</code></h3>\n<p>다음 속성들은 프로젝트의 다양한 <strong>의존성을 관리</strong>하는 데 사용되는 필드들로, 패키지 설치와 배포에 영향을 미칩니다. 이 필드들은 프로젝트에서 <strong>필요한 패키지의 범위와 목적</strong>을 명확히 구분하며, 개발 환경과 실행 환경의 요구사항을 효과적으로 관리할 수 있도록 도와줍니다. 또한, 선택적 설치나 배포 시 번들링 등의 고급 기능을 통해 의존성 관리의 유연성과 효율성을 제공합니다. 이러한 구조는 프로젝트의 일관성과 유지보수를 용이하게 만듭니다.</p>\n<ul>\n<li><code>dependencies</code>: 프로젝트 실행 시 필요한 패키지</li>\n<li><code>devDependencies</code>: 개발 및 테스트 환경에서만 필요한 패키지</li>\n<li><code>peerDependencies</code>: 라이브러리를 사용하는 프로젝트에서 <strong>반드시 설치</strong>해야 하는 의존성</li>\n<li><code>peerDependenciesMeta</code> <code>peerDependencies</code> 필드의 확장된 설정으로, 기본적으로 <code>peerDependencies</code>에 명시된 패키지는 <strong>반드시 설치</strong>되어야 하지만, <code>peerDependenciesMeta</code>를 사용하면 일부 의존성을 선택적으로 설치하도록 설정할 수 있습니다.</li>\n<li><code>optionalDependencies</code>: 선택적으로 사용할 수 있는 의존성을 지정. <strong>여기에 명시된 패키지가 설치되지 않거나 설치 중 오류가 발생하더라도, 전체 설치 프로세스는 실패하지 않고 계속 진행 됩니다.</strong></li>\n<li><code>bundleDependencies</code>: 패키지를 배포(publish)할 때 함께 번들링할 의존 패키지들의 이름을 배열 형태로 정의</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"21\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;express&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^4.17.1&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;devDependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;webpack&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^5.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;peerDependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;react&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^18.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;peerDependenciesMeta&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;react&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;optional&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk4\">true</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;optionalDependencies&quot;</span><span class=\"mtk14\">:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;fsevents&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^2.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;bundleDependencies&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;express&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><strong>버전 범위 지정 방법</strong></p>\n<ul>\n<li>\n<p><strong>정확한 버전:</strong> 특정 버전과 정확히 일치하도록 지정합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"22\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>범위 지정:</strong> 비교 연산자를 사용하여 버전 범위를 설정합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"23\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;&gt;=1.0.0 &lt;2.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>틸드(~) 연산자:</strong> 지정된 버전의 패치 버전 범위 내에서 호환되는 최신 버전을 허용합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"24\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;~1.2.3&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// 1.2.x 버전 허용, 1.3.0 제외</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>캐럿(^) 연산자:</strong> 지정된 버전의 마이너 버전 범위 내에서 호환되는 최신 버전을 허용합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"25\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^1.2.3&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// 1.x.x 버전 허용, 2.0.0 제외</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>와일드카드(*):</strong> 모든 버전을 허용합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"26\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;*&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>빈 문자열(\"\"):</strong> 와일드카드와 동일하게 모든 버전을 허용합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"27\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<p><strong>의존성 지정 방법</strong></p>\n<ul>\n<li>\n<p><strong>타르볼 URL:</strong> 원격 서버에 있는 tar.gz 파일을 직접 지정하여 설치할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"28\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;http://example.com/패키지.tar.gz&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>Git URL:</strong> Git 저장소의 특정 커밋이나 브랜치를 지정하여 설치할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"29\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;git+https://github.com/사용자명/저장소명.git#브랜치명&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>GitHub 단축 표기:</strong> GitHub 저장소를 간단하게 지정할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"30\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;사용자명/저장소명&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>로컬 경로:</strong> 로컬 디렉터리에 있는 패키지를 의존성으로 추가할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"31\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;패키지명&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;file:../로컬_패키지_경로&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"15-overrides\" style=\"position:relative;\"><a href=\"#15-overrides\" aria-label=\"15 overrides permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>15. <code>overrides</code></h3>\n<p><code>overrides</code> 속성은 특정 의존성의 버전을 강제로 지정할 때 사용됩니다.</p>\n<ol>\n<li>\n<p><strong>모든 의존성에서 특정 패키지 버전 고정</strong></p>\n<p>모든 의존성 트리에서 <code>foo</code> 패키지를 버전 <code>1.0.0</code>으로 고정하려면 다음과 같이 설정합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"32\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;overrides&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n</li>\n<li>\n<p><strong>특정 패키지의 하위 의존성 버전 고정</strong></p>\n<p><code>foo</code> 패키지를 버전 <code>1.0.0</code>으로 고정하고, 그 하위 의존성인 <code>bar</code>도 버전 <code>1.0.0</code>으로 고정하려면 다음과 같이 설정합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"33\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;overrides&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;.&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;bar&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n</li>\n<li>\n<p><strong>특정 상위 패키지의 하위 의존성 버전 고정</strong></p>\n<p><code>bar</code>의 하위 의존성으로 존재하는 <code>foo</code>를 버전 <code>1.0.0</code>으로만 대체하려면 다음과 같이 설정합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"34\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;overrides&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;bar&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>다중 중첩된 의존성 버전 고정</strong></p>\n<p><code>baz</code>의 하위 의존성인 <code>bar</code>의 하위 의존성으로 존재하는 <code>foo</code>를 버전 <code>1.0.0</code>으로만 대체하려면 다음과 같이 설정합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"35\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;overrides&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;baz&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;bar&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>특정 버전의 상위 패키지에 대한 하위 의존성 버전 고정:</strong></p>\n<p>버전 <code>2.0.0</code>의 <code>bar</code> 패키지의 하위 의존성인 <code>foo</code>를 버전 <code>1.0.0</code>으로만 대체하려면 다음과 같이 설정합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"36\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;overrides&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;bar@2.0.0&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ol>\n<p><strong>주의사항:</strong></p>\n<ul>\n<li>\n<p>직접 의존하는 패키지에 대해 <code>overrides</code>를 설정하려면, <code>dependencies</code>와 <code>overrides</code>의 버전이 정확히 일치해야 합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"37\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;overrides&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^1.0.0&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// 버전이 일치해야 함</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p>또는, <code>$</code>를 사용하여 직접 의존성을 참조할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"38\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;^1.0.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;overrides&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;foo&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;$foo&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk3\">// dependencies의 foo 버전을 참조</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n</ul>\n<h3 id=\"16-engines-os-cpu-devengines\" style=\"position:relative;\"><a href=\"#16-engines-os-cpu-devengines\" aria-label=\"16 engines os cpu devengines permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>16. <code>engines</code>, <code>os</code>, <code>cpu</code>, <code>devEngines</code></h3>\n<p>해당 필드들은 프로젝트가 특정 환경에서만 동작하도록 제한하거나 권장하는 데 사용됩니다.</p>\n<ul>\n<li><code>engines</code>: 프로젝트가 지원하는 Node.js 및 npm의 버전을 명시\n<ul>\n<li>위 예시에서는 Node.js 버전 14.x를 지원하며, npm 버전 6.14.0을 권장하고 있습니다. 이 설정은 사용자가 해당 버전을 사용하지 않을 경우 경고를 표시하지만, <code>engine-strict</code> 설정이 활성화되지 않으면 설치를 막지는 않습니다.</li>\n</ul>\n</li>\n<li><code>os</code>: 프로젝트가 지원하거나 제외할 운영 체제를 지정합니다.\n<ul>\n<li>특정 운영 체제를 제외하려면 <code>!</code>를 사용합니다.</li>\n</ul>\n</li>\n<li><code>cpu</code>: 프로젝트가 지원하거나 제외할 CPU 아키텍처를 지정합니다.\n<ul>\n<li>특정 아키텍처를 제외하려면 <code>!</code>를 사용합니다.</li>\n</ul>\n</li>\n<li><code>devEngines</code>: 프로젝트를 개발하는 개발자들이 동일한 도구를 사용하도록 권장하는 데 사용됩니다. 이는 설치, CI, 실행 명령어 전에 실행되어 개발 환경을 통일하는 데 도움을 줍니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"39\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;engines&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;node&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;&gt;=14.0.0 &lt;16&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;npm&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;~6.14.0&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;os&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;darwin&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;linux&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;!win32&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;cpu&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;x64&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;arm&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;!mips&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;devEngines&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;runtime&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;node&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;onFail&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;error&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;packageManager&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;name&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;npm&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">&quot;onFail&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;error&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h3 id=\"17-private-publishconfig\" style=\"position:relative;\"><a href=\"#17-private-publishconfig\" aria-label=\"17 private publishconfig permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>17. <code>private</code>, <code>publishConfig</code></h3>\n<p><code>private</code>와 <code>publishConfig</code>는 패키지 배포와 관련된 중요한 설정입니다. 이 설정들을 통해 내부 레지스트리나 환경별 배포를 효율적으로 관리할 수 있습니다.</p>\n<ul>\n<li><strong><code>private</code></strong>: <code>true</code>는 해당 패키지가 레지스트리에 배포되지 않도록 보호\n<ul>\n<li>조직 내부에서만 사용하는 패키지나 비공개로 유지하고 싶은 프로젝트에 설정하여, 실수로 외부에 배포되지 않도록 막을 수 있습니다.</li>\n</ul>\n</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"40\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;private&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk4\">true</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li><strong><code>publishConfig</code></strong>: 특정 패키지를 특정 레지스트리에만 게시할 수 있도록 정의.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"41\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;publishConfig&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;registry&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;https://your-internal-registry.com&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><code>\"private\": true</code> 설정은 npm이 패키지를 게시하지 않도록 강제하지만, <code>publishConfig</code>는 패키지를 특정 레지스트리에 게시할 때 유용합니다.</p>\n<h3 id=\"18-workspaces\" style=\"position:relative;\"><a href=\"#18-workspaces\" aria-label=\"18 workspaces permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>18. <code>workspaces</code></h3>\n<p><code>workspaces</code> 속성은 모노레포(Monorepo) 환경에서 여러 패키지를 함께 관리하기 위해 사용됩니다. 이 필드는 설치 클라이언트가 심볼릭 링크를 생성하여 최상위 <code>node_modules</code> 폴더에 연결해야 하는 워크스페이스의 위치를 로컬 파일 시스템 내에서 찾을 수 있도록 파일 패턴의 배열을 정의합니다.</p>\n<p><code>workspaces</code> 필드는 워크스페이스로 사용할 폴더의 직접적인 경로를 지정하거나, 해당 폴더들을 포함하는 글로브 패턴을 정의할 수 있습니다.</p>\n<p>예를 들어, 다음과 같이 <code>./packages</code> 폴더 내의 모든 폴더를 워크스페이스로 지정할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"json\" data-index=\"42\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">&quot;workspaces&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&quot;packages/*&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>이렇게 설정하면, <code>./packages</code> 폴더 내에 있는 각 폴더가 유효한 <code>package.json</code> 파일을 포함하고 있는 한, 해당 폴더들은 워크스페이스로 처리됩니다.</p>\n<p>이러한 설정을 통해 프로젝트 내에서 여러 패키지를 효율적으로 관리하고, 의존성 설치 시 각 패키지를 최상위 <code>node_modules</code> 폴더에 심볼릭 링크하여 개발 편의성을 높일 수 있습니다.</p>\n<h3 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h3>\n<p><code>package.json</code>은 단순히 의존성을 관리를 넘어, 프로젝트의 구조와 동작 방식을 체계적으로 정의하는 중요한 파일입니다. 이번에 소개한 다양한 속성들을 적절히 활용하면, 더욱 안전하고 효율적인 라이브러리나 웹 애플리케이션 개발이 가능해질 것입니다. 목적에 맞는 명확한 설정을 통해 프로젝트 관리와 배포 과정도 한층 더 간편하고 안정적으로 이루어질 수 있기를 바랍니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk14 { color: #F44747; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"January 05, 2025","title":"package.json 설정 얼마나 알고있니?","categories":"config","author":"soobing"},"fields":{"slug":"/package.json-config/"}},"site":{"siteMetadata":{"siteUrl":"https://soobing.github.io","comments":{"utterances":{"repo":"soobing/soobing.github.io"}}}}},"pageContext":{"slug":"/css-z-index-management-variables/","nextSlug":"/rollup-plugin-development/","prevSlug":"/package.json-config/"}},
    "staticQueryHashes": ["1073350324","2938748437"]}