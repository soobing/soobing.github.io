{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/infra/docker-command/",
    "result": {"data":{"cur":{"id":"65fef9f4-a18e-5a33-81cf-b3d528c0e1c5","html":"<h2 id=\"docker-엔진-시작하기종료하기\" style=\"position:relative;\"><a href=\"#docker-%EC%97%94%EC%A7%84-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0%EC%A2%85%EB%A3%8C%ED%95%98%EA%B8%B0\" aria-label=\"docker 엔진 시작하기종료하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker 엔진 시작하기/종료하기</h2>\n<ul>\n<li>도커 엔진: 자동 실행 설정 활성화시, 컴퓨터를 켰을 때 함께 자동으로 실행\n<ul>\n<li>\n<p>Docker Desktop은 도커 엔진 자동으로 실행하도록 설정 되어있음.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 688px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+ElEQVQoz1WQTUtVURSG70+IRiI1alIEQbOmjfoH0u+JBiIRBBWEIFFEQQ2aa5hpaHjL7k0vKXrP99nn3Hvu+dhfR6V84hxTavDystbePO9aq3NzbovpJwMuPoq48DDm8uOY6/OCq88EN+YTZt5OuPtuwp1XY6Zn97gyO2Dq3g7X5gZcejBk5n3G7QWPqfsDbj09oLPulCx+9/nQD9jYz+hHhl6o6IW61Xak+REp+k0vkPQD2fqpmr5u3xptDnM6tZTYIsMUGceq4qQ2/LaaE6v5ZTW10hwZy7G1HGlDrRSHSv+Vauu2pzVWKjplZdjyDF1H0x0quo7iq2vYdAyD0FCqGjHK8MWYcaGQ9ojKHP6nUteUlaZhdarK8KareL6es7Ca8PJLyesty4tNw+JPSxmlDL7tcdDbJt7dZ+L4ZEOv9dwNWpdRgpSGqtJ0lLKMxzmeHxFGAiFGKGlQUqO1pejvsrPUI/28QbSyRriyhru0TLD8ifDjKvHKGrK/cwqUpgEasqwkikctzA9i0tGEJqhJlNoSCcEwEPjxCC9OSbICMS5aV80JdH36t5mwIee5JEkzRDImilOyrGgTpdRMCs3ALXC9AN+PcdyANM3aLRrAGeifCS0iydgf+rheiOOG5Hl1DixKgyfKNsgPBEGYtF4U8vxuZ2rqP07Gh6S1xSX+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/a74572c6178634b6357903e297793e42/ebf47/docker-desktop.png\"\n        srcset=\"/static/a74572c6178634b6357903e297793e42/e9ff0/docker-desktop.png 180w,\n/static/a74572c6178634b6357903e297793e42/f21e7/docker-desktop.png 360w,\n/static/a74572c6178634b6357903e297793e42/ebf47/docker-desktop.png 688w\"\n        sizes=\"(max-width: 688px) 100vw, 688px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n<li>\n<p>리눅스 명령어로 엔진 시작, 종료, 자동 실행 설정 방법</p>\n<ul>\n<li>systemctrl: 서비스 시작 및 중지 관련 리눅스 명령어 (system control)</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># 엔진 시작</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">sudo systemctl start docker</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># 엔진 종료</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">sudo systemctl stop docker</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># 자동 실행 설정</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">sudo systemctl </span><span class=\"mtk11\">enable</span><span class=\"mtk1\"> docker</span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>컨테이너: 실행시킬 스크립트가 따로 필요. 컴퓨터를 켰을 때 함께 자동으로 실행 되지 않음.</li>\n</ul>\n<h2 id=\"컨테이너의-기본적인-사용-방법\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%9D%98-%EA%B8%B0%EB%B3%B8%EC%A0%81%EC%9D%B8-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95\" aria-label=\"컨테이너의 기본적인 사용 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨테이너의 기본적인 사용 방법</h2>\n<ul>\n<li>\n<p>컨테이너를 다루는 모든 명령어는 <code>docker</code> 명령어로 시작</p>\n</li>\n<li>\n<p>도커 명령어 구성: <code>docker 커맨드(무엇을 어떻게) 대상</code></p>\n<ul>\n<li>+ 옵션, 인자: <code>docker 커맨드(무엇을 어떻게) 옵션 대상 인자</code></li>\n<li>상위 커맨드는 생략 가능하다?!  ex) docker run, docker start\n<ul>\n<li>커맨드(무엇을 어떻게)는 상위커맨드와 하위커맨드로 나뉘어짐.</li>\n<li>container 상위 커맨들를 생략하는 경우가 있음.</li>\n<li>도커 1.13부터 커맨드가 재편되면서 상위 커맨드와 하위 커맨드의 조합 형태로 일원화 되고 일부 커맨드는 커맨드 자체가 변경되기도 했음. 이전 커맨드와 호환성을 유지하기 위해 상위 커맨드가 없는 명령어로도 실행 가능하지만 언제 수정될지 모르니 이사실을 기억하고 있자!</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>리눅스 관련 깨알지식</p>\n<ul>\n<li>옵션\n<ul>\n<li>- or —로 시작하는 것이 일반적이지만, -를 붙이지 않는 경우도 있음. 커맨드 작성자 취향</li>\n<li>옵션 뒤에 옵션의 값을 지정: 커맨드에 어떤 값을 전달하고 싶은 경우. ex) —name penguin</li>\n<li>-를 하나만 사용하는 옵션은 한꺼번에 모아쓸 수 있음. ex) -dit = -d + -i + -t</li>\n</ul>\n</li>\n<li>인자\n<ul>\n<li>옵션이랑 다른점이 모야? → 인자는 “대상에 전달할 값을 지정” ex) 문자 코드, 포트 번호</li>\n<li>- or —로 시작하는 경우가 많다</li>\n<li>예) —mode=1, —style nankyoku</li>\n</ul>\n</li>\n<li>데몬\n<ul>\n<li>유닉스, 리눅스에서 동작하는 프로그램 중에서 백그라운드에서 항상 동작하는 프로그램을 관례적으로 데몬(daemon)이라고 부름. ex)메일러 데몬</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>명령어 정리</p>\n<table>\n<thead>\n<tr>\n<th>docker 명령</th>\n<th>상위 커맨드</th>\n<th>하위 커맨드</th>\n<th></th>\n<th>주요 옵션</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>docker</td>\n<td>container</td>\n<td>start</td>\n<td>컨테이너 실행</td>\n<td>-i</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>stop</td>\n<td>컨테이너 정지</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>create</td>\n<td>(이미지로 부터) 컨테이너 생성</td>\n<td>—name, -e, -p, -v</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>run</td>\n<td>세개의 명령을 하나로 합침(이미지 내려받기, 컨테이너 생성, 실행) <br/> docker image pull <br/>docker container create <br/>docker container start</td>\n<td>—name, -e, -p, -v, -d, -i, -t</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>rm</td>\n<td>정지 상태 컨테이너 삭제</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>exec</td>\n<td>실행중인 컨테이너 속에서 프로그램 실행</td>\n<td>-i -t</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>ps <br/>ls (상위커멘드 생략 X)</td>\n<td>(실행 중인)컨테이너 목록 출력</td>\n<td>-a (정지상태 컨테이너 포함)</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>cp</td>\n<td>도커 컨테이너 - 도커 호스트 간에 파일 복사</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>commit</td>\n<td>도커 컨테이너를 이미지로 변환</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>image</td>\n<td>pull</td>\n<td>도커 허브 리포지토리에서 이미지 다운</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>rm</td>\n<td>도커 이미지 삭제</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>ls</td>\n<td>내려받은 이미지 목록</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>build</td>\n<td>이미지 생성</td>\n<td>-t</td>\n</tr>\n<tr>\n<td></td>\n<td>volume</td>\n<td>create</td>\n<td>볼륨 생성</td>\n<td>—name</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>inspect</td>\n<td>볼륨 상세 정보</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>ls</td>\n<td>볼륨 목록</td>\n<td>-a</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>prune</td>\n<td>현재 마운트되지 않은 볼륨을 모든 삭제</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>rm</td>\n<td>볼륨 삭제</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>network</td>\n<td>connect</td>\n<td>네트워크 연결</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>disconnect</td>\n<td>네트워크 연결 해제</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>create</td>\n<td>네트워크 생성</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>inspect</td>\n<td>네트워크 상세 정보</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>ls</td>\n<td>네트워크 목록</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>prune</td>\n<td>현재 컨테이너가 접속하지 않은 네트워크 모두 삭제</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>rm</td>\n<td>네트워크 삭제</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>특수 커멘드 (상위 커맨드 없이 단독. 주로 도커 허브의 검색, 로그인)</p>\n<table>\n<thead>\n<tr>\n<th>단독 커맨드</th>\n<th>내용</th>\n<th>주요 옵션</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>login</td>\n<td>도커 레지스트리에 로그인</td>\n<td>-u, -p</td>\n</tr>\n<tr>\n<td>logout</td>\n<td>도커 레지스트리에 로그아웃</td>\n<td></td>\n</tr>\n<tr>\n<td>search</td>\n<td>도커 레지스트리 검색</td>\n<td></td>\n</tr>\n<tr>\n<td>version</td>\n<td>도커 엔진 및 명령행 도구의 버전 출력</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>주요 옵션</p>\n<ul>\n<li>컨테이너에 따라 지정 가능한 옵션/인자가 달라짐</li>\n<li>컨테이너는 ‘한 번만 실행되는 컨테이너’와 ‘데몬 형태로 동작하는 컨테이너’가 있음.</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>옵션 형식</th>\n<th>내용</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>—name 컨테이너_이름</td>\n<td>컨테이너 이름 지정</td>\n</tr>\n<tr>\n<td>-p 호스트_포트번호:컨테이너_포트번호</td>\n<td>포트번호 지정 <br/>(—publish 생략형)</td>\n</tr>\n<tr>\n<td>-v 호스트_디스크:컨테이너_디렉터리</td>\n<td>볼륨 마운트 <br/>(—volume 생략형)</td>\n</tr>\n<tr>\n<td>—net=네트워크_이름</td>\n<td>컨테이너 네트워크에 연결</td>\n</tr>\n<tr>\n<td>-e 환경변수_이름=값</td>\n<td>환경변수 설정 <br/>(—env 생략형)</td>\n</tr>\n<tr>\n<td>-d</td>\n<td>백그라운드로 실행 <br/>(—detach 생략형)</td>\n</tr>\n<tr>\n<td>-i</td>\n<td>컨테이너에 터미널(키보드)을 연결함  <br/>(—interactive 생략형)</td>\n</tr>\n<tr>\n<td>-t</td>\n<td>특수 키 사용 가능 <br/>(—tty 생략형)</td>\n</tr>\n<tr>\n<td>-help</td>\n<td>사용 방법 안내 메시지</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<h2 id=\"컨테이너-생성-삭제-실행-정지\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%83%9D%EC%84%B1-%EC%82%AD%EC%A0%9C-%EC%8B%A4%ED%96%89-%EC%A0%95%EC%A7%80\" aria-label=\"컨테이너 생성 삭제 실행 정지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>컨테이너 생성, 삭제, 실행, 정지</h2>\n<pre class=\"grvsc-container default-dark\" data-language=\"bash\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">docker run (옵션) 이미지 (인자)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">docker stop 컨테이너_이름</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">docker rm 컨테이너_이름</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">docker ps -a</span></span></span></code></pre>\n<p>예제</p>\n<ul>\n<li>아파치 이미지(httpd)\n<ul>\n<li><code>docker run --name apa000ex1 -d httpd</code></li>\n<li>-d: —detach 백그라운드로 실행</li>\n</ul>\n</li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","excerpt":"Docker 엔진 시작하기/종료하기 도커 엔진: 자동 실행 설정 활성화시, 컴퓨터를 켰을 때 함께 자동으로 실행 Docker Desktop은 도커 엔진 자동으로 실행하도록 설정 되어있음.  리눅스 명령어로 엔진 시작, 종료, 자동 실행 설정 방법 systemctrl: 서비스 시작 및 중지 관련 리눅스 명령어 (system control) 컨테이너: 실행시킬 스크립트가 따로 필요. 컴퓨터를 켰을 때 함께 자동으로 실행 되지 않음. 컨테이너의 기본적인 사용 방법 컨테이너를 다루는 모든 명령어는 docker 명령어로 시작 도커 명령어 구성: docker 커맨드(무엇을 어떻게) 대상 + 옵션, 인자: docker 커맨드(무엇을 어떻게) 옵션 대상 인자 상위 커맨드는 생략 가능하다?!  ex) docker run, docker start 커맨드(무엇을 어떻게)는 상위커맨드와 하위커맨드로 나뉘어짐. container 상위 커맨들를 생략하는 경우가 있음. 도커 1.13부터 커맨드가 재편되면서 …","frontmatter":{"date":"February 18, 2024","title":"docker에서 자주쓰는 명령어","categories":"infra","author":"soobing"},"fields":{"slug":"/infra/docker-command/"}},"next":{"id":"58264c91-e987-58ac-bdca-a1b62261eb7d","html":"<blockquote>\n<p>원문: <a href=\"https://storybook.js.org/blog/storybook-react-server-components/\">https://storybook.js.org/blog/storybook-react-server-components/</a></p>\n</blockquote>\n<blockquote>\n<p>스토리북 8.0 알파 업그레이드를 통한 스토리북에서 RSC 사용</p>\n</blockquote>\n<p><a href=\"https://nextjs.org/docs/app/building-your-application/rendering/server-components?ref=storybookblog.ghost.io\">리액트 서버 컴포넌트 (RSC)</a>는 리액트 기반 웹 UI의 새로운 프로그래밍 모델입니다.  기존의 전통적인 리액트 “클라이언트” 컴포넌트와 달리, 서버에서만 렌더링됩니다. 이는 다양한 성능 및 보안 이점을 가져오지만, 기존의 리액트 도구 및 라이브러리와는 크게 다릅니다.</p>\n<p>가장 크게 영향을 받는 부분 중 하나는 컴포넌트 기반 개발 및 테스트입니다. 스토리북, 테스팅 라이브러리 및 Playwright/Cypress와 같은 컴포넌트 테스팅과 같은 도구들은 사용자의 컴포넌트가 브라우저 (또는 JSDom)에서 렌더링되고 있다고 가정합니다. 그러나 서버 컴포넌트의 경우, 이러한 가정이 성립하지 않습니다.</p>\n<p>이로 인해, 서버를 위한 격리된 컴포넌트 개발 및 테스트를 수행하는 것이 무엇을 의미하는가? 라는 의문이 생깁니다.</p>\n<p>오늘은 이 질문에 대한 실험적인 답변으로 Next.js 프레임워크에서 스토리북의 RSC 지원을 공식적으로 발표하게 되어 기쁩니다. 이것은 완전히 클라이언트 측 구현이므로, 스토리북 애드온과 인테그레이션의 모든 생태계와 호환이 가능합니다.</p>\n<p>이것이 어떻게 작동하는지, 사용하는지, 그리고 지금 바로 사용해 볼 수 있는 방법에 대해 알아보고 싶다면 계속 읽어보세요!</p>\n<h2 id=\"화성에서-온-서버-금성에서-온-클라이언트\" style=\"position:relative;\"><a href=\"#%ED%99%94%EC%84%B1%EC%97%90%EC%84%9C-%EC%98%A8-%EC%84%9C%EB%B2%84-%EA%B8%88%EC%84%B1%EC%97%90%EC%84%9C-%EC%98%A8-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8\" aria-label=\"화성에서 온 서버 금성에서 온 클라이언트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>화성에서 온 서버, 금성에서 온 클라이언트</h2>\n<p>RSC는 기존의 클라이언트 컴포넌트와 두 가지 주요 차이점이 있으며, 다음 예제에서 이에 대해 보여주고 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ApiCard.tsx</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">ComponentProps</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;react&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">Card</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;./Card&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">findById</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;./db&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">DbCard</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">id</span><span class=\"mtk1\"> }: {</span><span class=\"mtk12\">id</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">}) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">props</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">try</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">contact</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk11\">findById</span><span class=\"mtk1\">(</span><span class=\"mtk12\">id</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">props</span><span class=\"mtk1\"> = { </span><span class=\"mtk12\">state:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;success&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">contact</span><span class=\"mtk1\"> };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  } </span><span class=\"mtk15\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">e</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">props</span><span class=\"mtk1\"> = { </span><span class=\"mtk12\">state:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;error&#39;</span><span class=\"mtk1\"> };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">Card</span><span class=\"mtk1\"> </span><span class=\"mtk4\">{</span><span class=\"mtk1\">...</span><span class=\"mtk12\">props</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ol>\n<li>첫 번째 차이점은 컴포넌트가 <code>async</code> 라는 점인데, 이것은 클라이언트에서는 지원되지 않는 기능입니다.</li>\n<li>두 번째 차이점은 컴포넌트가 Node 코드에 직접 액세스할 수 있다는 것인데, 위의 경우에서는 인증된 데이터베이스 연결을 래핑하는 <code>findById</code> 함수에 액세스하고 있습니다.</li>\n</ol>\n<p>RSC는 이러한 두 가지 차이점을 구현하기 위해 내부적으로 많은 작업을 수행합니다. 이 코드는 서버에서만 실행되며 클라이언트로 스트리밍되는 정적 JSON과 유사한 구조를 생성합니다.</p>\n<p>Storybook은 순수 클라이언트 애플리케이션입니다. Node가 전혀 없는 순수한 HTML/CSS/JS의 정적 빌드를 생성합니다! 따라서 RSC를 지원하려면 RSC를 클라이언트에서 렌더링하거나 Storybook을 서버용으로 다시 설계하는 방법을 찾아야 합니다.</p>\n<p>우리는 먼저 클라이언트 접근 방식에 중점을 두어 시작했습니다. 현재 아키텍처를 기반으로 수백 개의 애드온과 수백만 개의 스토리를 작성한 사용자에게 미치는 영향을 최소화하고 싶습니다.</p>\n<p>어떻게 클라이언트에서 동작하게 할 수 있었을까요?</p>\n<h2 id=\"비동기로-처리하기\" style=\"position:relative;\"><a href=\"#%EB%B9%84%EB%8F%99%EA%B8%B0%EB%A1%9C-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"비동기로 처리하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>비동기로 처리하기</h2>\n<p>RSC를 클라이언트에서 렌더링하는 데, 첫 번째 과제는 async 컴포넌트를 지원하는 방법을 알아내는 것입니다. 이미 Next.js의 canary 리액트 버전에서 <a href=\"https://github.com/acdlite/rfcs/blob/first-class-promises/text/0000-first-class-support-for-promises.md?ref=storybookblog.ghost.io#why-cant-client-components-be-async-functions\">비공식적으로</a> 지원되고 있습니다. 이 간단한 솔루션에 기여한  <a href=\"https://github.com/JamesManningR?ref=storybookblog.ghost.io\">JamesManningR</a> 및 <a href=\"https://github.com/julRuss?ref=storybookblog.ghost.io\">julRuss</a>에게 특별한 감사를 전합니다!</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">Suspense</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;react&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ClientContact</span><span class=\"mtk1\"> = ({ </span><span class=\"mtk12\">id</span><span class=\"mtk1\"> }) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">Suspense</span><span class=\"mtk17\">&gt;&lt;</span><span class=\"mtk10\">DbCard</span><span class=\"mtk1\"> </span><span class=\"mtk12\">id</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk12\">id</span><span class=\"mtk4\">}</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;&lt;/</span><span class=\"mtk10\">Suspense</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">);</span></span></span></code></pre>\n<p>Storybook 8에서부터 <code>@storybook/nextjs</code>는 <code>.storybook/main.js</code> 파일에서 <code>experimentalNextRSC</code> 기능 플래그를 사용하여 스토리를 <code>Suspense</code>로 감싸줄 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// .storybook/main.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">features:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">experimentalNextRSC:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<p>7.x 버전의 <code>@storybook/nextjs</code>에서도 RSC 스토리를 <a href=\"https://storybook.js.org/docs/writing-stories/decorators/?ref=storybookblog.ghost.io\">데코레이터</a>로 래핑하여 수동으로 이 작업을 수행할 수도 있습니다.</p>\n<p><strong>참고</strong>: 이 솔루션은 Next.js의 canary 버전 이외의 다른 Storybook React 프레임워크 (예: <code>react-vite</code>, <code>react-webpack5</code>)에서는 아직 작동하지 않습니다. 다음 버전에서는 이러한 제한이 해제되기를 바랍니다.</p>\n<h2 id=\"모킹-및-로딩\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%ED%82%B9-%EB%B0%8F-%EB%A1%9C%EB%94%A9\" aria-label=\"모킹 및 로딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모킹 및 로딩</h2>\n<p>비동기 문제를 해결하는 것은 절반의 성공에 불과합니다. <code>DbCard</code> 컴포넌트는 데이터를 가져와 컴포넌트를 채우는 Node 코드를 참조합니다. 이것은 브라우저에서 Node 코드를 실행할 수 없는 문제가 있습니다!</p>\n<p>차선책으로 이 문제를 해결하기 위해서는, 깔끔한 데이터 액세스 계층 구축이 필요합니다. 이것은 또한 <a href=\"https://nextjs.org/blog/security-nextjs-server-components-actions?ref=storybookblog.ghost.io\">RSC의 설계자가 추천하는 최상의 권장 방법</a>입니다.</p>\n<p>데이터 액세스 계층이 있으면, 브라우저에서 실행할 수 있도록 모킹할 수 있고 데이터를 정확하게 제어하여 다양한 UI 상태(로딩, 오류, 성공, 등)를 테스트할 수 있습니다.</p>\n<p>데이터 액세스 계층을 모킹하기 위해서는 Storybook에서 지원하는 <strong>모듈 모킹</strong> 또는 <strong>네트워크 모킹</strong>를 사용할 수 있습니다.</p>\n<p><strong>모듈:</strong> <code>jest.mock</code> 스타일의 목을 제공하는 <a href=\"https://storybook.js.org/addons/storybook-addon-module-mock?ref=storybookblog.ghost.io\">storybook-addon-module-mock</a> 커뮤니티 애드온이 있습니다(웹팩 프로젝트에서만 지원). 더 간단하지만 더 제한적인 해결책으로 <a href=\"https://webpack.js.org/configuration/resolve/?ref=storybookblog.ghost.io#resolvealias\">webpack</a>/<a href=\"https://vitejs.dev/config/shared-options?ref=storybookblog.ghost.io#resolve-alias\">vite</a> 별칭을 사용할 수도 있습니다. 향후 버전의 Storybook에서 모듈 모킹을 더 효율적으로 제공할 계획입니다.</p>\n<p><strong>네트워크 API:</strong> 네트워크 요청을 모킹하기 위해 <a href=\"https://storybook.js.org/addons/msw-storybook-addon?ref=storybookblog.ghost.io\">Mock Service Worker (msw)</a>를 추천합니다. Storybook은 다양한 <a href=\"https://storybook.js.org/integrations/tag/mocking/?ref=storybookblog.ghost.io\">네트워크</a>와 <a href=\"https://storybook.js.org/integrations/tag/graphql?ref=storybookblog.ghost.io\">GraphQL</a> 모킹 애드온을 지원합니다.</p>\n<p>우리의 예제로 돌아와서, <code>storybook-addon-module-mock</code>을 사용한 스토리는 다음과 같습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// DbCard.stories.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">StoryObj</span><span class=\"mtk1\">, </span><span class=\"mtk12\">Meta</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;@storybook/react&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">createMock</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;storybook-addon-module-mock&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">DbCard</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;./DbCard&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">*</span><span class=\"mtk1\"> </span><span class=\"mtk15\">as</span><span class=\"mtk1\"> </span><span class=\"mtk12\">db</span><span class=\"mtk1\"> </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;./db&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">component:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">DbCard</span><span class=\"mtk1\"> };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Success</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  args: { id: </span><span class=\"mtk7\">1</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  parameters: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    moduleMock: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      mock: () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">mock</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">createMock</span><span class=\"mtk1\">(</span><span class=\"mtk12\">db</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;findById&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">mock</span><span class=\"mtk1\">.</span><span class=\"mtk11\">mockReturnValue</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">.</span><span class=\"mtk11\">resolve</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Beyonce&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">img:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;https://blackhistorywall.files.wordpress.com/2010/02/picture-device-independent-bitmap-119.jpg&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">tel:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;+123 456 789&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">email:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;b@beyonce.com&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> [</span><span class=\"mtk12\">mock</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2 id=\"api--모듈-모킹의-전체-데모\" style=\"position:relative;\"><a href=\"#api--%EB%AA%A8%EB%93%88-%EB%AA%A8%ED%82%B9%EC%9D%98-%EC%A0%84%EC%B2%B4-%EB%8D%B0%EB%AA%A8\" aria-label=\"api  모듈 모킹의 전체 데모 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API + 모듈 모킹의 전체 데모</h2>\n<p>데이터베이스의 모듈 모킹 버전과 MSW2로 모킹된 API 버전을 포함한 위의 전체 예제에 대한 전체 내용은 <a href=\"https://6578430567214463f1df4629-htkembgskw.chromatic.com/?path=%2Fdocs%2Foverview--docs&#x26;ref=storybookblog.ghost.io\">우리의 전체 RSC 데모 Storybook</a> 또는 <a href=\"https://github.com/shilman/storybook-rsc-demo?ref=storybookblog.ghost.io\">GitHub 레포지토리</a>를 확인하십시오.</p>\n<p><img src=\"https://storybookblog.ghost.io/content/images/2023/12/CleanShot-2023-12-13-at-10.02.38@2x.png\" alt=\"\"></p>\n<h2 id=\"주의사항\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD\" aria-label=\"주의사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주의사항</h2>\n<p>이 글에서는, Storybook에서 첫 번째 RSC에 대한 스토리를 성공적으로 작성했으며 이 모든 것이 내부적으로 어떻게 구현되었는지 보여주었습니다.</p>\n<p>이 모든 것은 꽤 간단한 과정이었지만, 이 접근 방식에는 제한 사항이 있습니다.</p>\n<ol>\n<li><strong>일치성.</strong> 순수한 클라이언트 구현은 애플리케이션에서 실행되는 서버측 스트리밍 RSC 구현과 크게 다릅니다.</li>\n<li><strong>편의성.</strong> 여기서 제공하는 모킹 솔루션은 개선될 여지가 있습니다. 현재의 모듈 모킹 솔루션은 장황할 뿐만 아니라 Storybook의 <a href=\"https://storybook.js.org/docs/writing-stories/args?ref=storybookblog.ghost.io\">args</a>/<a href=\"https://storybook.js.org/docs/api/doc-block-controls?ref=storybookblog.ghost.io\">controls</a>와 잘 호환되지 않습니다.</li>\n</ol>\n<p>우리는 이러한 제한 사항을 향후에 해결할 계획이므로, 이 솔루션을 실험 단계로 표시했습니다.</p>\n<h2 id=\"오늘부터-rsc를-위한-storybook-사용하기-\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%8A%98%EB%B6%80%ED%84%B0-rsc%EB%A5%BC-%EC%9C%84%ED%95%9C-storybook-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-\" aria-label=\"오늘부터 rsc를 위한 storybook 사용하기  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>오늘부터 RSC를 위한 Storybook 사용하기 🎊</h2>\n<p>RSC를 위한 Storybook을 사용하려면 Storybook을 8.0-alpha로 업그레이드하십시오.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">npx storybook@next upgrade --prerelease</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>그런 다음 <code>.storybook/main.ts</code>에서 실험적 기능을 활성화하세요.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// .storybook/main.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">features:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">experimentalNextRSC:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>더 많은 정보를 원하시면, <code>@storybook/nextjs</code> <a href=\"https://github.com/storybookjs/storybook/blob/next/code/frameworks/nextjs/README.md?ref=storybookblog.ghost.io#experimental-react-server-components-rsc\">README</a>를 참조하세요.</p>\n<p>이것은 다음 메이져 버전인 Storybook 8.0의 내용을 자세히 설명하는 첫 번째 게시물이며, 앞으로 몇 달 안에 더 많은 내용이 추가될 예정입니다. 다음 릴리스에 대한 모든 소식을 확인하려면 <a href=\"https://twitter.com/storybookjs?ref=storybookblog.ghost.io\">소셜 미디어에서 팔로우</a>하거나 <a href=\"https://storybook.us18.list-manage.com/subscribe?u=06a6fce3ab1327784d4342396&#x26;id=18b5cea6e6&#x26;ref=storybookblog.ghost.io\">Storybook 뉴스레터에 가입</a>하세요!</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"February 02, 2024","title":"(번역) 리액트 서버 컴포넌트를 위한 스토리북","categories":"react","author":"soobing"},"fields":{"slug":"/react/storybook-react-server-components/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://soobing.github.io","comments":{"utterances":{"repo":"soobing/soobing.github.io"}}}}},"pageContext":{"slug":"/infra/docker-command/","nextSlug":"/react/storybook-react-server-components/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","2938748437"]}