{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/react/react-query-basic/",
    "result": {"data":{"cur":{"id":"424ff2fa-d2e0-58c0-b732-0e727f7c69b4","html":"<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>ì´ ê¸€ì„ ì½ê¸°ì „ <a href=\"https://soobing.github.io/react/react-state-management/\"><strong>Reactì˜ ìƒíƒœê´€ë¦¬ ì¢…ë¥˜ 4ê°€ì§€</strong></a>ë¥¼ ë¨¼ì € ì½ìœ¼ë©´ ì´í•´ê°€ ì‰¬ìš¸ ìˆ˜ ìˆë‹¤.</p>\n<p>ì–¼ë§ˆì „ íšŒì‚¬ í”„ë¡œì íŠ¸ì— react-queryë¥¼ ë„ì…í•˜ì—¬ ì‚¬ìš©ì¤‘ì¸ë° ì •ë§ ë„ˆë¬´ë„ˆë¬´ ì¢‹ë‹¤. react-queryë¥¼ ì´ìš©í•´ì„œ server stateë¥¼ ë¶„ë¦¬í•˜ë‹¤ë³´ë‹ˆ loading ì²˜ë¦¬ë‚˜, refetch ë“± ë¶ˆí•„ìš”í•œ ì½”ë“œê°€ ë§ì´ ì¤„ì—ˆë‹¤.</p>\n<p>ë­ë“ ì§€ ì²˜ìŒì´ ì–´ë µì§€ í° ê·¸ë¦¼ì„ ì•Œê³ ìˆìœ¼ë©´ ë„ì…í•˜ì—¬ ì ìš©í•˜ëŠ”ë°ì—ëŠ” í° ë¬¸ì œê°€ ì—†ê³ , ì‚¬ìš©í•˜ë©´ì„œ ìƒí™©ì— ë§ê²Œ ì˜µì…˜ê³¼ ì•„í‚¤í…ì³ë¥¼ ë³€ê²½í•˜ë©´ ëœë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì—, ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” react-queryë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì „ë°˜ì ì¸ ê°œë…ì„ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤.</p>\n<h2 id=\"ìš©ë„\" style=\"position:relative;\"><a href=\"#%EC%9A%A9%EB%8F%84\" aria-label=\"ìš©ë„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìš©ë„</h2>\n<p>react-queryëŠ” ì„œë²„ ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.  ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” API í˜¸ì¶œ, ìºì‹œ ë° ìƒíƒœ ê´€ë¦¬, ì˜¤ë¥˜ ì²˜ë¦¬ ë“±ì˜ ì‘ì—…ì„ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.</p>\n<p>ì„œë²„ ë°ì´í„° ê´€ë¦¬ëŠ” ì¤‘ìš”í•œ ë¶€ë¶„ ì¤‘ í•˜ë‚˜ë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì™€(Read) í™”ë©´ì— ê·¸ë ¤ì£¼ê³ , ë°ì´í„°ë¥¼ ìƒì„±(Create), ì‚­ì œ(Delete), ì—…ë°ì´íŠ¸(Update)í•˜ëŠ” í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</p>\n<p>ë§¤ë²ˆ API í˜¸ì¶œë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í™”ë©´ì„ ê·¸ë¦´ìˆ˜ë„ ìˆê² ì§€ë§Œ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ ìš”ì²­-ì‘ë‹µê³¼ì •ì´ ìˆìœ¼ë¯€ë¡œ ëŠë¦¬ê³  ì„œë²„ì˜ íŠ¸ë˜í”½ì„ ëŠ˜ë ¤ ë¶€í•˜ê°€ ì¦ê°€í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìµœì†Œí•œì˜ ìš”ì²­ìœ¼ë¡œ í™”ë©´ì„ ê·¸ë¦´ ìˆ˜ ìˆë„ë¡ ìµœì í™”í•´ì•¼ í•œë‹¤. ë°ì´í„°ë¥¼ ìºì‹œí•˜ê³ , ìš”ì²­ì„ ìµœì†Œí™”í•˜ê³ , ë°ì´í„°ë¥¼ ì´ì „ ìš”ì²­ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬ ì‹œê°„ì„ ì¤„ì´ëŠ” ë“±ì˜ ë°©ë²•ìœ¼ë¡œ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.</p>\n<p>react-queryëŠ” ì´ëŸ¬í•œ ë°ì´í„° ê´€ë¦¬ ì‘ì—…ì„ ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤. ë°ì´í„°ë¥¼ ìºì‹œí•˜ê³ , ìë™ìœ¼ë¡œ ì¬ì‹œë„í•˜ê³ , ë°ì´í„°ì— ëŒ€í•œ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ë©°, ë°ì´í„° ìƒíƒœì™€ íë¦„ì„ ì¶”ì í•  ìˆ˜ ìˆë‹¤. ë˜í•œ, React QueryëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ìì˜ ì…ë§›ì— ë§ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ ê°€ëŠ¥í•˜ë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œìëŠ” ë°ì´í„° ê´€ë¦¬ ì‘ì—…ì— ë” ë§ì€ ì‹œê°„ê³¼ ë…¸ë ¥ì„ íˆ¬ìí•˜ì§€ ì•Šì•„ë„, ë” ë‚˜ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p>\n<p>ì •ë¦¬í•˜ë©´ react-queryì—ì„œ í•´ì£¼ëŠ”ì¼ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<ol>\n<li>API í˜¸ì¶œ\n<ul>\n<li>useQuery, useMutationì„ í†µí•´ì„œ CRUD ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>ìºì‹œ ë° ìƒíƒœ ê´€ë¦¬\n<ul>\n<li>ë°ì´í„°ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬(ìºì‹±í•˜ê³  ìˆëŠ” ë°ì´í„°ì™€ ì„œë²„ë°ì´í„° ë™ê¸°í™”)\n<ul>\n<li>íŠ¹ì • state ë³€ê²½ì‹œ data refetch â†’ dependency variable</li>\n<li>ì´ë²¤íŠ¸ ë°œìƒ í›„ì— refetch â†’ Query Invalidation</li>\n<li>ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìºì‹œëœ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸</li>\n</ul>\n</li>\n<li>ë°ì´í„° íë¦„ì„ ì¶”ì  â†’ debugger ì œê³µ</li>\n</ul>\n</li>\n<li>ì˜¤ë¥˜ ì²˜ë¦¬ - ì„œë²„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ê²½ìš° ì¬ì‹œë„, ì‹¤íŒ¨ ì²˜ë¦¬ ë“±</li>\n</ol>\n<h2 id=\"í°-ê°œë…-3ê°€ì§€\" style=\"position:relative;\"><a href=\"#%ED%81%B0-%EA%B0%9C%EB%85%90-3%EA%B0%80%EC%A7%80\" aria-label=\"í° ê°œë… 3ê°€ì§€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í° ê°œë… 3ê°€ì§€</h2>\n<p><a href=\"https://tanstack.com/query/latest/docs/react/quick-start\">ê³µì‹ë¬¸ì„œ Quick Start ì„¹ì…˜</a>ì—ì„œë„ 3ê°€ì§€ core conceptë¥¼ ê°„ëµí•˜ê²Œ ì„¤ëª…í•˜ê³  ìˆë‹¤. ì´ 3ê°€ì§€ ê°œë…ë§Œ ì´í•´í•˜ë©´ ì²˜ìŒ ë„ì…í•˜ëŠ”ë° ë¬¸ì œê°€ ì—†ê³  ì™ ë§Œí•œ CRUD ì¼€ì´ìŠ¤ëŠ” ê±°ì˜ ì»¤ë²„ê°€ ê°€ëŠ¥í•˜ë‹¤.</p>\n<p>ê³µì‹ë¬¸ì„œì— ìˆëŠ” ì˜ˆì œë¥¼ ê°€ì ¸ì™”ë‹¤. ë¨¼ì €  <code>QueryClientProvider</code> ë¥¼ í†µí•´ì„œ <code>QueryClient</code> App ì „ì²´ì— ì£¼ì…í•œë‹¤. todosì™€ ê´€ë ¨ëœ get ìš”ì²­ì€ useQueryë¥¼ í†µí•´ì„œ fetching í•˜ê³ , todosë¥¼ createí•˜ëŠ” ìš”ì²­ì€ useMutationì„ í†µí•´ì„œ í•˜ë©°, ì„±ê³µì‹œ ì´ì „ì— getìš”ì²­ì„ í†µí•´ ê°€ì ¸ì™”ë˜ todosë¥¼ ë‹¤ì‹œ reffetching í•´ì•¼í•˜ë¯€ë¡œ invalidateQueriesë¥¼ í†µí•´ì„œ ì–´ë–¤ queryê°€ stale ë˜ì—ˆëŠ”ì§€ ì²´í¬ë¥¼ í•´ì¤€ë‹¤. ìƒíƒœê°’ì´ ë³€ê²½ë˜ë©´ ë¦¬ë Œë” ë˜ë“¯ì´, queryKeyë¥¼ í†µí•´ì„œ stale ìƒíƒœë¥¼ ë§Œë“¤ë©´ ë‹¤ì‹œ refetching í•˜ê³  ê´€ë ¨ dataë¥¼ rerendering í•˜ëŠ” ê²ƒì´ í° ì»¨ì…‰ì´ë‹¤.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">useQuery</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">useMutation</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">useQueryClient</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">QueryClient</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">QueryClientProvider</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">} </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;@tanstack/react-query&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">getTodos</span><span class=\"mtk1\">, </span><span class=\"mtk12\">postTodo</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;../my-api&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Create a client</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">queryClient</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">QueryClient</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">App</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// Provide the client to your App</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">QueryClientProvider</span><span class=\"mtk1\"> </span><span class=\"mtk12\">client</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk12\">queryClient</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">Todos</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk10\">QueryClientProvider</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Todos</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// Access the client</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">queryClient</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useQueryClient</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// Queries</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">query</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useQuery</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">queryKey:</span><span class=\"mtk1\"> [</span><span class=\"mtk8\">&#39;todos&#39;</span><span class=\"mtk1\">], </span><span class=\"mtk12\">queryFn:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">getTodos</span><span class=\"mtk1\"> })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// Mutations</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">mutation</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useMutation</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">mutationFn:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">postTodo</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">onSuccess</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\">// Invalidate and refetch</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">queryClient</span><span class=\"mtk1\">.</span><span class=\"mtk11\">invalidateQueries</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">queryKey:</span><span class=\"mtk1\"> [</span><span class=\"mtk8\">&#39;todos&#39;</span><span class=\"mtk1\">] })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">{</span><span class=\"mtk12\">query</span><span class=\"mtk1\">.</span><span class=\"mtk12\">data</span><span class=\"mtk1\">?.</span><span class=\"mtk11\">map</span><span class=\"mtk1\">((</span><span class=\"mtk12\">todo</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">li</span><span class=\"mtk1\"> </span><span class=\"mtk12\">key</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk12\">todo</span><span class=\"mtk1\">.</span><span class=\"mtk12\">id</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk12\">todo</span><span class=\"mtk1\">.</span><span class=\"mtk12\">title</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ))</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">button</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">onClick</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">() </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">mutation</span><span class=\"mtk1\">.</span><span class=\"mtk11\">mutate</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">id:</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Date</span><span class=\"mtk1\">.</span><span class=\"mtk11\">now</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">title:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Do Laundry&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        Add Todo</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">button</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">render</span><span class=\"mtk1\">(</span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">App</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">document</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getElementById</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;root&#39;</span><span class=\"mtk1\">))</span></span></span></code></pre>\n<p>ì´ë²ˆì—ëŠ” ì¡°ê¸ˆ ë” ìì„¸íˆ 3ê°€ì§€ ê°œë…ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.</p>\n<h3 id=\"1-queries\" style=\"position:relative;\"><a href=\"#1-queries\" aria-label=\"1 queries permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) Queries</h3>\n<p>QueriesëŠ” React Queryì—ì„œ ë°ì´í„°ë¥¼ <strong>ê°€ì ¸ì˜¤ëŠ”ë°</strong> ì‚¬ìš©ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ REST API í˜¸ì¶œ, GraphQL ì¿¼ë¦¬, Websocket ë“±ì„ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. QueryëŠ” <code>useQuery</code> í›…ì„ ì‚¬ìš©í•œë‹¤. useQueryëŠ” ë¹„ë™ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , ë°ì´í„°ë¥¼ ìºì‹±í•˜ì—¬ ì´í›„ì˜ ìš”ì²­ì—ì„œ ë™ì¼í•œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¤ì§€ ì•Šë„ë¡ í•œë‹¤. ë˜í•œ, Query ì»´í¬ë„ŒíŠ¸ëŠ” ë¡œë”© ì¤‘, ì—ëŸ¬ ë°œìƒ ì‹œì—ë„ ì ì ˆí•œ UIë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•œë‹¤.</p>\n<h3 id=\"2-mutations\" style=\"position:relative;\"><a href=\"#2-mutations\" aria-label=\"2 mutations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) Mutations</h3>\n<p>MutationsëŠ” React Queryì—ì„œ ë°ì´í„°ë¥¼ <strong>ìˆ˜ì •</strong>í•˜ê±°ë‚˜ <strong>ì‚­ì œ</strong>í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. REST API í˜¸ì¶œ, GraphQL Mutation ë“±ì„ í†µí•´ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ê³ , <code>useMutation</code> í›…ì„ ì‚¬ìš©í•œë‹¤. useMutationì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ê³ , ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•˜ì—¬ UIë¥¼ ë‹¤ì‹œ ë Œë”ë§í•œë‹¤.</p>\n<h3 id=\"3-query-invalidation\" style=\"position:relative;\"><a href=\"#3-query-invalidation\" aria-label=\"3 query invalidation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) Query Invalidation</h3>\n<p>Query Invalidationì€ React Queryì—ì„œ <strong>ìºì‹œëœ ë°ì´í„°ë¥¼ ë¬´íš¨í™”í•˜ëŠ”ë° ì‚¬ìš©</strong>ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ê°€ ìˆ˜ì •ë˜ê±°ë‚˜ ì‚­ì œë˜ì—ˆì„ ë•Œ, í•´ë‹¹ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì™€ì„œ ìºì‹œë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤. React QueryëŠ” Query Invalidationì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©°, useMutation í›…ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ë©´, í•´ë‹¹ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª¨ë“  Queryë¥¼ ìë™ìœ¼ë¡œ ë¬´íš¨í™”í•œë‹¤. ë˜í•œ, useQuery í›…ì—ì„œ ì œê³µí•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜ë™ìœ¼ë¡œ Query Invalidationì„ ì œì–´í•  ìˆ˜ ìˆë‹¤.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","excerpt":"Introduction ì´ ê¸€ì„ ì½ê¸°ì „ Reactì˜ ìƒíƒœê´€ë¦¬ ì¢…ë¥˜ 4ê°€ì§€ë¥¼ ë¨¼ì € ì½ìœ¼ë©´ ì´í•´ê°€ ì‰¬ìš¸ ìˆ˜ ìˆë‹¤. ì–¼ë§ˆì „ íšŒì‚¬ í”„ë¡œì íŠ¸ì— react-queryë¥¼ ë„ì…í•˜ì—¬ ì‚¬ìš©ì¤‘ì¸ë° ì •ë§ ë„ˆë¬´ë„ˆë¬´ ì¢‹ë‹¤. react-queryë¥¼ ì´ìš©í•´ì„œ server stateë¥¼ ë¶„ë¦¬í•˜ë‹¤ë³´ë‹ˆ loading ì²˜ë¦¬ë‚˜, refetch ë“± ë¶ˆí•„ìš”í•œ ì½”ë“œê°€ ë§ì´ ì¤„ì—ˆë‹¤. ë­ë“ ì§€ ì²˜ìŒì´ ì–´ë µì§€ í° ê·¸ë¦¼ì„ ì•Œê³ ìˆìœ¼ë©´ ë„ì…í•˜ì—¬ ì ìš©í•˜ëŠ”ë°ì—ëŠ” í° ë¬¸ì œê°€ ì—†ê³ , ì‚¬ìš©í•˜ë©´ì„œ ìƒí™©ì— ë§ê²Œ ì˜µì…˜ê³¼ ì•„í‚¤í…ì³ë¥¼ ë³€ê²½í•˜ë©´ ëœë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì—, ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” react-queryë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì „ë°˜ì ì¸ ê°œë…ì„ ì •ë¦¬í•´ë³´ê³ ì í•œë‹¤. ìš©ë„ react-queryëŠ” ì„œë²„ ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.  ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” API í˜¸ì¶œ, ìºì‹œ ë° ìƒíƒœ ê´€ë¦¬, ì˜¤ë¥˜ ì²˜ë¦¬ ë“±ì˜ ì‘ì—…ì„ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤. ì„œë²„ ë°ì´í„° ê´€ë¦¬ëŠ” ì¤‘ìš”í•œ ë¶€ë¶„ ì¤‘ í•˜ë‚˜ë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” ì„œë²„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì™€(Read) í™”ë©´ì— ê·¸ë ¤ì£¼ê³ â€¦","frontmatter":{"date":"February 05, 2023","title":"React Query  ì‹œì‘í•˜ê¸° (feat. Tanstack)","categories":"react react-query","author":"soobing"},"fields":{"slug":"/react/react-query-basic/"}},"next":{"id":"5c08e887-24c0-589f-963d-b2fe90612cea","html":"<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>reactì˜ ìƒíƒœê´€ë¦¬ ì¢…ë¥˜ 4ê°€ì§€ë¥¼ ì•Œì•„ë³´ê³ , ê°ê°ì˜ ì¢…ë¥˜ë³„ë¡œ ì™œ ë‹¤ë¥´ê²Œ ê´€ë¦¬í•´ì•¼í•˜ëŠ”ì§€ì™€ Reactì—ì„œ ì œê³µí•˜ëŠ” API í˜¹ì€ ì–´ë–¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ê´€ë¦¬í•˜ë©´ ì¢‹ì„ì§€ ì•Œì•„ë³´ë„ë¡ í•˜ì.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">- ğŸ¥ ë‚˜ì¤‘ì— ì‘ì€ ì£¼ì œë¡œ ë‹¤ë¤„ë³¼ê¹Œ í•˜ëŠ” í¬ì¸íŠ¸ë“¤</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">- âœ… ì²´í¬í•˜ê³  ê°€ì•¼í•  í¬ì¸íŠ¸ë“¤</span></span></code></pre>\n<h2 id=\"ìƒíƒœê´€ë¦¬-ì¢…ë¥˜\" style=\"position:relative;\"><a href=\"#%EC%83%81%ED%83%9C%EA%B4%80%EB%A6%AC-%EC%A2%85%EB%A5%98\" aria-label=\"ìƒíƒœê´€ë¦¬ ì¢…ë¥˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìƒíƒœê´€ë¦¬ ì¢…ë¥˜</h2>\n<ol>\n<li>Local state</li>\n<li>Global state\n<ul>\n<li>App ì–´ëŠê³³(ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸)ì—ì„œ stateë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•´ì„œ í•„ìš”í•¨.\n<ul>\n<li>ì˜ˆ: authenticated user state - logged in/out</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Server state\n<ul>\n<li>ì„œë²„ë¡œ ë°›ì€ ë°ì´í„°ê°€ UI ìƒíƒœì™€ í†µí•©ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° í•„ìš”í•¨.\n<ul>\n<li>ì˜ˆ: loading, errorâ€¦</li>\n<li>ëŒ€í‘œ ë¼ì´ë¸ŒëŸ¬ë¦¬: SWR, react-query</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>URL state\n<ul>\n<li>URLì— ì¡´ì¬í•˜ëŠ” ë°ì´í„°(pathname, query params..)</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3 id=\"1-local-state\" style=\"position:relative;\"><a href=\"#1-local-state\" aria-label=\"1 local state permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) Local state</h3>\n<ul>\n<li>useState</li>\n<li>useReducer\n<ul>\n<li>useReducer vs useState ì°¨ì´\n<ul>\n<li>useStateëŠ” í•˜ë‚˜ì˜ state operationë§Œ ê°€ëŠ¥í–ˆë‹¤ë©´, useReducerëŠ” ì—¬ëŸ¬ê°œì˜ state operationì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ ê°€ì¥ í° ì°¨ì´ì ì´ë‹¤.</li>\n<li>ğŸ¥Â useReducerëŠ” reduxë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ”ê±´ê°€?</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>useContext(Context API)</li>\n</ul>\n<h3 id=\"2-global-state\" style=\"position:relative;\"><a href=\"#2-global-state\" aria-label=\"2 global state permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) Global state</h3>\n<ul>\n<li>âœ…Â Context APIëŠ” state manage solutionì´ ì•„ë‹ˆë‹¤.\n<ul>\n<li>props drilling í•´ê²°ì„ ìœ„í•œ ì†”ë£¨ì…˜\n<ul>\n<li>ì»´í¬ë„ŒíŠ¸ì˜ ë¶ˆí•„ìš”í•œ propsë¥¼ ë§ì´ ë§Œë“¤ì–´ì•¼í•˜ëŠ”..? ë¬¸ì œ</li>\n<li>stateë¥¼ ì½ëŠ”ë°ì—ë§Œ ìœ ìš©í•˜ê³  update í•˜ëŠ”ê²ƒì—ëŠ” ìœ ìš©í•˜ì§„ ì•Šë‹¤. ë§ì€ ì—…ë°ì´íŠ¸ê°€ ì¼ì–´ë‚˜ëŠ” ê³³ì—ì„œëŠ” Context APIê°€ ì•„ë‹Œ ë‹¤ë¥¸ state manage solutionì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤.</li>\n<li>ğŸ¥Â Context APIì˜ ì‘ë™ì›ë¦¬</li>\n</ul>\n</li>\n<li>Global state ê´€ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ í•˜ëŠ” ì´ìœ \n<ul>\n<li>ContextëŠ” providerë¡œ ì£¼ì…ëœ í•˜ìœ„ì˜ ëª¨ë“  children componentë¥¼ re-render ì‹œí‚¨ë‹¤.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>âœ…Â Redux, Mobx, Zustand, Jotai vs Recolie\n<ul>\n<li>reduxëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë¯€ë¡œ reactì™€ ì™„ì „ ë¶„ë¦¬ë˜ì–´ ìˆì–´, React ë™ì‹œì„± ëª¨ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ ê°€ì¥ í¬ë¦¬í‹°ì»¬í•¨.\n<ul>\n<li><a href=\"https://www.reddit.com/r/reactjs/comments/pt76wt/redux_vs_recoil/\">https://www.reddit.com/r/reactjs/comments/pt76wt/redux_vs_recoil/</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=P95DuIBwnqw\">https://www.youtube.com/watch?v=P95DuIBwnqw</a></li>\n<li><a href=\"https://ui.toast.com/weekly-pick/ko_20200616\">https://ui.toast.com/weekly-pick/ko_20200616</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-server-state\" style=\"position:relative;\"><a href=\"#3-server-state\" aria-label=\"3 server state permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) Server state</h3>\n<ul>\n<li>Server stateëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ í˜ì´ì§€ì— ê·¸ë¦¬ëŠ”ê²ƒ ë¿ë§Œì•„ë‹ˆë¼, ë°ì´í„° fetching ë™ì•ˆ loading indicatorë¥¼ ë„ì›Œì•¼í•˜ê³  ì„œë²„ ì˜¤ë¥˜ê°€ ë‚œ ê²½ìš° ê·¸ì— ë§ëŠ” í™”ë©´ì„ í‘œì‹œí•´ì•¼ í•œë‹¤.</li>\n<li>SWR, React Query ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ì²œ\n<ul>\n<li>\n<p>APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ (get), ë³€ê²½í•˜ê³ (mutate), í•„ìš”í•œ ëª¨ë“  ìƒíƒœë¥¼ ì§€ì†ì ìœ¼ë¡œ ì¶”ì (tracking)í•˜ë©´ì„œ ìºì‹±(cache) í•´ì¤€ë‹¤.</p>\n</li>\n<li>\n<p>Global state ê´€ë¦¬ë¡œì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">useSWR</span><span class=\"mtk1\">, { </span><span class=\"mtk12\">SWRConfig</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;swr&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Admin</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// no need to pass in the fetcher function</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk12\">courses</span><span class=\"mtk1\"> } = </span><span class=\"mtk11\">useSWR</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/api/courses&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk12\">orders</span><span class=\"mtk1\"> } = </span><span class=\"mtk11\">useSWR</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/api/orders&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk12\">users</span><span class=\"mtk1\"> } = </span><span class=\"mtk11\">useSWR</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/api/users&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">App</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">SWRConfig</span><span class=\"mtk1\"> </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">value</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">errorRetryCount:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">2</span><span class=\"mtk1\">, </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">errorRetryInterval:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">5000</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">fetcher</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">resource</span><span class=\"mtk1\">, </span><span class=\"mtk12\">init</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk12\">resource</span><span class=\"mtk1\">, </span><span class=\"mtk12\">init</span><span class=\"mtk1\">).</span><span class=\"mtk11\">then</span><span class=\"mtk1\">(</span><span class=\"mtk12\">res</span><span class=\"mtk1\"> </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">Admin</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk10\">SWRConfig</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</li>\n<li>\n<p>ğŸ¥Â SWR vs React Query</p>\n<ul>\n<li><a href=\"https://npmtrends.com/react-query-vs-swr\">https://npmtrends.com/react-query-vs-swr</a> â†’ react-queryê°€ ì ìœ ìœ¨ì´ ë” ë†’ìŒ</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"4-url-state\" style=\"position:relative;\"><a href=\"#4-url-state\" aria-label=\"4 url state permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4) URL state</h3>\n<ul>\n<li>Next.js, React Router ìµœì‹ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ URL stateëŠ” ì´ë¯¸ ê¸°ë³¸ì ìœ¼ë¡œ ê´€ë¦¬ë˜ê³  ìˆë‹¤.</li>\n</ul>\n<hr>\n<h2 id=\"to-be-continued\" style=\"position:relative;\"><a href=\"#to-be-continued\" aria-label=\"to be continued permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TO-BE-CONTINUED</h2>\n<ul>\n<li>Global State â†’ Client State + Server State ë¡œ ë¶„ë¦¬í•´ì•¼í•˜ëŠ” ì´ìœ </li>\n<li>React Query ë„ì…ê¸°</li>\n<li>Recoil ë„ì…ê¸°</li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"February 03, 2023","title":"Reactì˜ ìƒíƒœê´€ë¦¬ ì¢…ë¥˜ 4ê°€ì§€","categories":"react","author":"soobing"},"fields":{"slug":"/react/react-state-management/"}},"prev":{"id":"a716fd7c-51d4-55b0-a131-baa77d03d0ba","html":"<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p><a href=\"https://github.com/TanStack/query/issues/1077\">#1077</a> ì´ìŠˆë¥¼ ë³´ë©´ mutateFnì˜ variableì„ í•„ìˆ˜ê°’ìœ¼ë¡œ ë³€ê²½í•œ ì´ë ¥ì„ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<p>mutationì¸ë° ì™œ variableì´ ì—†ëƒê³ ? ë‚˜ì˜ ê²½ìš°ì—ëŠ” URLì˜ ìˆëŠ” queryParamsë¥¼ ì½ì–´ì™€ì„œ ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ë©´ ë˜ê¸° ë•Œë¬¸ì— useSomething hook ì•ˆì—ì„œ ì²˜ë¦¬í•˜ê³  ì‹¶ì—ˆë‹¤.</p>\n<h2 id=\"ë¬¸ì œìƒí™©\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9\" aria-label=\"ë¬¸ì œìƒí™© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¬¸ì œìƒí™©</h2>\n<p><code>mutate()</code> ì™€ ê°™ì´ variableì— ì•„ë¬´ ê°’ë„ ë„£ì§€ ì•Šê³  mutation í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•  ìˆ˜ ì—†ë‹¤.\nTVariables íƒ€ì…ì— undefinedë„ ì¤˜ë³´ê³  ì´ë˜ì €ë˜ ë³„ì§“ì„ ë‹¤í•´ë´ë„ í•„ìˆ˜ê°’ì„ optional í•˜ê²Œ ë°”ê¿€ìˆ˜ëŠ” ì—†ì—ˆë‹¤.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ì •ì˜</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">useSomething</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> {</span><span class=\"mtk12\">name</span><span class=\"mtk1\">} = </span><span class=\"mtk11\">useQueryParams</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// custom hookì´ ìˆë‹¤ê³  ê°€ì •</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk11\">useMutation</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">mutationFn</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">axios</span><span class=\"mtk1\">.</span><span class=\"mtk11\">post</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/user&#39;</span><span class=\"mtk1\">, {</span><span class=\"mtk12\">name</span><span class=\"mtk1\">}),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ì‚¬ìš©ì²˜</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> {</span><span class=\"mtk12\">mutate</span><span class=\"mtk1\">} = </span><span class=\"mtk11\">useSomething</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">handleClick</span><span class=\"mtk1\"> = () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">mutate</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// ì—ëŸ¬ ë°œìƒ</span></span></span></code></pre>\n<p>ì—ëŸ¬ ë°œìƒ\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 501px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVklEQVQoz22Q3ZKcIBBGfZIdQFERRcD/2XEzudiqff8XOikwmSSVXJz6+mugu+mirFr65cH5+YVbIvX5jj3u1INHmw6p9UVZIaufJP/SK1aqRAhJYYKnez7p9xNjHWKwyDgivKMKI9USUeuEXCbqGFBhRM0RtUyoObzi1lrETVKkLvV+ED++o61FBk9lDOLthriJSzPiD/0P6a5UFNZ0NMuC+TixIVI5j95mlNaUqkSVJWV5femXSqWQSaW6UOoVF6MPzHFisAOdsUQf2bcD50bG0RNCwPuAMR3DMNC2Ju8q8Soo1csX2q3o6RvGbzTxgWhH3rolP973IxfrOkvfDzlOjaZpzmcpH0LMuRhjnr7ow4ZbTuLxJKwPRN1TNwZre4bBZU3FklaVzmhdZ9IKfud09kXVz6h+Q7g7ql8p3U5aw3EcbNvOum7c7+95orpu/qJp2n/8DxPS7dwODauOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"trouble.png\"\n        title=\"trouble.png\"\n        src=\"/static/7c42056008a94dcf63147142441203e5/55811/trouble.png\"\n        srcset=\"/static/7c42056008a94dcf63147142441203e5/e9ff0/trouble.png 180w,\n/static/7c42056008a94dcf63147142441203e5/f21e7/trouble.png 360w,\n/static/7c42056008a94dcf63147142441203e5/55811/trouble.png 501w\"\n        sizes=\"(max-width: 501px) 100vw, 501px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"í•´ê²°\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0\" aria-label=\"í•´ê²° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•´ê²°</h2>\n<p>ì‹¤ì§ˆì ìœ¼ë¡œëŠ” mute í•¨ìˆ˜ì—ì„œ variableì„ ì •ì˜í•´ì„œ ë„£ì–´ì£¼ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ê·¸ë ‡ê²Œ ê¼¼ìˆ˜í•´ê²°ë²•ë„ ì•„ë‹ˆë‹¤.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ì •ì˜</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">useSomething</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> {</span><span class=\"mtk12\">name</span><span class=\"mtk1\">} = </span><span class=\"mtk11\">useQueryParams</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// custom hookì´ ìˆë‹¤ê³  ê°€ì •</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">mutation</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useApiMutation</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">mutationFn</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">axios</span><span class=\"mtk1\">.</span><span class=\"mtk11\">post</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;/user&#39;</span><span class=\"mtk1\">, {</span><span class=\"mtk12\">name</span><span class=\"mtk1\">}),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">mutate</span><span class=\"mtk1\"> = (</span><span class=\"mtk12\">variables</span><span class=\"mtk1\"> = {}) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">mutation</span><span class=\"mtk1\">.</span><span class=\"mtk11\">mutate</span><span class=\"mtk1\">(</span><span class=\"mtk12\">variables</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> {...</span><span class=\"mtk12\">mutation</span><span class=\"mtk1\">, </span><span class=\"mtk12\">mutate</span><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ì‚¬ìš©ì²˜</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> {</span><span class=\"mtk12\">mutate</span><span class=\"mtk1\">} = </span><span class=\"mtk11\">useSomething</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">handleClick</span><span class=\"mtk1\"> = () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">mutate</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// ì—ëŸ¬ì•ˆë‚¨</span></span></span></code></pre>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"February 15, 2023","title":"React Query useMutationì—ì„œ variable ì˜µì…”ë„í•˜ê²Œ ì‚¬ìš©í•˜ê¸°","categories":"react react-query troubleshooting","author":"soobing"},"fields":{"slug":"/trouble-shooting/how-to-use-variable-optional-in-useMutation/"}},"site":{"siteMetadata":{"siteUrl":"https://soobing.github.io","comments":{"utterances":{"repo":"soobing/soobing.github.io"}}}}},"pageContext":{"slug":"/react/react-query-basic/","nextSlug":"/react/react-state-management/","prevSlug":"/trouble-shooting/how-to-use-variable-optional-in-useMutation/"}},
    "staticQueryHashes": ["1073350324","2938748437"]}