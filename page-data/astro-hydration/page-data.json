{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/astro-hydration/",
    "result": {"data":{"cur":{"id":"87e0c0f2-6c03-513a-99a6-ef53d6389653","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEeUlEQVQ4yx3S2VKTBwBA4TxAgeRf8xOykQgRkCKLEjAEZJd1CJvsAkpYJIBsElmkgKKgLCK4sDhUFhHUasdpLzudaWfa3rW39aIPcjr4At/NObpzrnoy3H7cideIEAvQQrIxh+ZjCy3mjN6Hy1DPOaGV84KfZLGHC2KAi1IfKYYeMq39FMYPkun0kxJRhyM0C120rZkYRzPRtjpMhlJMocVYQ0pxhFXiMjQQJ7STIHaRLAZIlQZxS8OkSSO4hSE8xkGybANcMneSpDbgMhSiM+m70cLa0UKbMRuasOubcYY2ExXSRGxYB/FhfaQId/BK82SLj8iVlsmXl8mTF8kS5/Dox0kNGyAp1E9cWCU6i9SHRe7CIrZjEVqxhjVjD2klyTRLpnWJYtsGheGPSNWG8JrH8WhBPNIk2eI8WdIMXnGcNGGQC/puzoVWozNLAcxSNxbhBhZDG065nWjZT4L9ARmup1w5u0m+bYl06zCXnRN4LGN4wyfI0x6QKU2TIY6TLgyRqg+QqG9EZxYDWKQeLKIfU0gbRd5pulvWaalYZLBjk67a5/Q37BJse8ftpndMtH0k2PieidYTyl2LeMLG8YpjZOiHSTXcOAV7v4JWoROb4Kc0a44bV9fprH9Bu+85ft8W/Vf3uFV/QFfJ90x1/ECw6YRgwzHXszbx6qfJke6SK0yRYehDFyH2YhVvYhd6cBh6cOh7OCv1k+a4w4WIIG5tCm/ELJet8+RaFiiwPqI8aoUc8SG50gIF8gKF8kOKpEVyxDunYACLGMAuBHAK/ZwRbhGrjOKJnsFfsUNn2S5dJfv0lhwyVHVMd/4+pfY1CtUVCuUVipVVypQ1fPIGxdK90ygDWKRb2MVBzogjxMhjRH4zSmHKMn/99i9//PqFXz5/4fefvvD3n//x89E/lJifUSitU6I+o1x9SZVxi3r5FdXKyuk2I9jFUZzCGC5xnBhpkjhlhlh5grNaBynWXi5abpLu6MdtC+AOH6RAWadU26bM+AqfcZda4y4t8gG18ho6qxzEIY0TJUwSI939isXJc3wr3ydRncctLeIRH5MprZItPSVP3qDIeIrtUmHco8q4T53xgHb5LfXyM3Q2ZQqHPE2U9B2x0izxyn3OGx+QHL5AmmWJrIhVcsLXyDNtcMX0khLzDmURu/hMp9ghtdoRDdoR15X3NCmb6OzqDE5llmh5jjj1PrHCPdyRj/G6VvA4l8hzPqEkaoPS6JeUR+1Q5dqlKeGQGus+PsMBdeoxjdoJ7eonGtTtU3AOhzqLU5wmK2GF6twtitzreKIX8WU8pyb9BUVRT2jx7uLPf0uZY5uBoo90pr6n/9JnWu0faFBPuKb9SK26g86uzBKp3sWhTOBSJ0myzpKX/JiitGV8mWv4UlcpT1iiMmmN3vI3+HOO6C/+SI/3EzURb6g3vaFRO6RF+0Ct9gqdTZ3CpgSxy6M4pBGcwjAudYS48BHitWESlREuKre5pE2Sa3/IFdsaFZHbVFpfU6a8plrboz58jybtmJrwLf4HT0WLM7HVHLwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Astro Framework 소개\"\n        title=\"Astro Framework 소개\"\n        src=\"/static/a755f310ab957e31b72ccc1aa26c1275/37523/astro-introduction.png\"\n        srcset=\"/static/a755f310ab957e31b72ccc1aa26c1275/e9ff0/astro-introduction.png 180w,\n/static/a755f310ab957e31b72ccc1aa26c1275/f21e7/astro-introduction.png 360w,\n/static/a755f310ab957e31b72ccc1aa26c1275/37523/astro-introduction.png 720w,\n/static/a755f310ab957e31b72ccc1aa26c1275/4c42d/astro-introduction.png 896w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><a href=\"https://astro.build/\">Astro</a>는 애플리케이션을 구축이 아닌 <a href=\"https://docs.astro.build/ko/concepts/why-astro/#%EC%BD%98%ED%85%90%EC%B8%A0-%EC%A4%91%EC%8B%AC\">콘텐츠에 중점</a>을 두고 설계된 <strong>정적 사이트 빌더</strong>입니다. 따라서 블로그, 포트폴리오, 이벤트용 마케팅 성격의 사이트 개발에 매우 적합한 프레임워크 입니다.</p>\n<p>Astro는 <code>.astro</code> 파일 확장자를 갖는 <a href=\"https://docs.astro.build/ko/basics/astro-components/\">Astro 컴포넌트</a>와 <a href=\"https://ko.react.dev/\">React</a>, <a href=\"https://preactjs.com/\">Preact</a>, <a href=\"https://svelte.dev/\">Svelte</a>, <a href=\"https://ko.vuejs.org/\">Vue</a>, <a href=\"https://www.solidjs.com/\">SolidJS</a>와 같은 여러 UI 프레임워크를 하나의 프로젝트 안에서 혼합해서 사용할 수 있는 굉장히 흥미로운 프레임워크입니다.</p>\n<p>Astro에 대해 간략히 배워보며 어떻게 여러 프레임워크를 혼합하여 사용할 수 있는 것인지 알아보는 시간을 갖도록 하겠습니다.</p>\n<h2 id=\"astro-컴포넌트\" style=\"position:relative;\"><a href=\"#astro-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8\" aria-label=\"astro 컴포넌트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Astro 컴포넌트</h2>\n<blockquote>\n<p><a href=\"https://docs.astro.build/ko/basics/astro-components/\">https://docs.astro.build/ko/basics/astro-components/</a></p>\n</blockquote>\n<p>Astro 컴포넌트는 모든 Astro 프로젝트의 기본 구성 요소입니다. 이는 클라이언트 측 런타임이 없는 HTML 전용 템플릿 컴포넌트입니다. Astro 컴포넌트는 <code>.astro</code> 파일 확장자를 사용합니다.</p>\n<p>Astro 컴포넌트에 대해 알아야 할 가장 중요한 점은 <strong>클라이언트에서 렌더링되지 않는다</strong>는 것입니다. HTML로 렌더링되며, 컴포넌트 스크립트는 브라우저로 전송되는 최종 페이지에서 모두 제거됩니다.</p>\n<p><code>.astro</code> 파일은 <strong>스크립트와 템플릿</strong>으로 구성됩니다.</p>\n<ul>\n<li>\n<p>src/components/Pokemon.astro</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">---</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 컴포넌트 스크립트 (JavaScript)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Banner</span><span class=\"mtk1\"> </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;../components/Banner.astro&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ReactPokemonComponent</span><span class=\"mtk1\"> </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;../components/ReactPokemonComponent.jsx&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">myFavoritePokemon</span><span class=\"mtk1\"> = [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">/* ... */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">title</span><span class=\"mtk1\"> } = </span><span class=\"mtk12\">Astro</span><span class=\"mtk1\">.</span><span class=\"mtk12\">props</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">---</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;!-- </span><span class=\"mtk12\">컴포넌트</span><span class=\"mtk1\"> </span><span class=\"mtk11\">템플릿</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">HTML</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">JS</span><span class=\"mtk1\"> </span><span class=\"mtk12\">표현식</span><span class=\"mtk1\">) --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;!-- </span><span class=\"mtk12\">HTML</span><span class=\"mtk1\"> </span><span class=\"mtk12\">주석</span><span class=\"mtk1\"> </span><span class=\"mtk12\">지원</span><span class=\"mtk1\"> --&gt;{</span><span class=\"mtk3\">/* JS 주석 또한 지원 */</span><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">Banner</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">안녕하세요!</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;!-- </span><span class=\"mtk12\">컴포넌트</span><span class=\"mtk1\"> </span><span class=\"mtk12\">스크립트의</span><span class=\"mtk1\"> </span><span class=\"mtk12\">props</span><span class=\"mtk1\"> </span><span class=\"mtk12\">및</span><span class=\"mtk1\"> </span><span class=\"mtk12\">기타</span><span class=\"mtk1\"> </span><span class=\"mtk12\">변수를</span><span class=\"mtk1\"> </span><span class=\"mtk12\">사용합니다</span><span class=\"mtk1\">. --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">p</span><span class=\"mtk17\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk12\">title</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">p</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;!-- </span><span class=\"mtk8\">`client:`</span><span class=\"mtk1\"> </span><span class=\"mtk12\">지시어를</span><span class=\"mtk1\"> </span><span class=\"mtk12\">사용하여</span><span class=\"mtk1\"> </span><span class=\"mtk12\">다른</span><span class=\"mtk1\"> </span><span class=\"mtk12\">UI</span><span class=\"mtk1\"> </span><span class=\"mtk12\">프레임워크</span><span class=\"mtk1\"> </span><span class=\"mtk12\">컴포넌트</span><span class=\"mtk1\"> </span><span class=\"mtk12\">렌더링</span><span class=\"mtk1\"> --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">ReactPokemonComponent</span><span class=\"mtk1\"> </span><span class=\"mtk12\">client</span><span class=\"mtk1\">:</span><span class=\"mtk12\">visible</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;!-- </span><span class=\"mtk12\">JSX와</span><span class=\"mtk1\"> </span><span class=\"mtk12\">유사하게</span><span class=\"mtk1\"> </span><span class=\"mtk12\">HTML과</span><span class=\"mtk1\"> </span><span class=\"mtk12\">JavaScript</span><span class=\"mtk1\"> </span><span class=\"mtk12\">표현식을</span><span class=\"mtk1\"> </span><span class=\"mtk12\">혼합</span><span class=\"mtk1\"> --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">{</span><span class=\"mtk12\">myFavoritePokemon</span><span class=\"mtk1\">.</span><span class=\"mtk11\">map</span><span class=\"mtk1\">((</span><span class=\"mtk12\">data</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span><span class=\"mtk4\">{</span><span class=\"mtk12\">data</span><span class=\"mtk1\">.</span><span class=\"mtk12\">name</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">li</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">)</span><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">ul</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;!-- </span><span class=\"mtk12\">템플릿</span><span class=\"mtk1\"> </span><span class=\"mtk12\">지시어를</span><span class=\"mtk1\"> </span><span class=\"mtk12\">사용하여</span><span class=\"mtk1\"> </span><span class=\"mtk12\">여러</span><span class=\"mtk1\"> </span><span class=\"mtk12\">문자열이나</span><span class=\"mtk1\"> </span><span class=\"mtk12\">객체로부터</span><span class=\"mtk1\"> </span><span class=\"mtk12\">클래스</span><span class=\"mtk1\"> </span><span class=\"mtk12\">이름을</span><span class=\"mtk1\"> </span><span class=\"mtk12\">만들기</span><span class=\"mtk1\"> --&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">p</span><span class=\"mtk1\"> </span><span class=\"mtk12\">class</span><span class=\"mtk1\">:</span><span class=\"mtk12\">list</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk1\">[</span><span class=\"mtk8\">&#39;add&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;dynamic&#39;</span><span class=\"mtk1\">, { </span><span class=\"mtk12\">classNames:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\"> }]</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">p</span><span class=\"mtk17\">&gt;</span></span></span></code></pre>\n</li>\n</ul>\n<h2 id=\"서버-우선-렌더링\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EC%9A%B0%EC%84%A0-%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"서버 우선 렌더링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버 우선 렌더링</h2>\n<p>Astro는 <strong>클라이언트 측 렌더링보다 <a href=\"https://docs.astro.build/ko/basics/rendering-modes/\">서버 렌더링</a>을 최대한 활용</strong>합니다. 기본값인 <a href=\"https://docs.astro.build/ko/basics/rendering-modes/#%EC%82%AC%EC%A0%84-%EB%A0%8C%EB%8D%94%EB%A7%81\">정적 사이트 생성(SSG)</a>방식을 통해 빌드 시 HTML을 생성하며, <a href=\"https://docs.astro.build/ko/guides/server-side-rendering/\">서버 사이드 렌더링(SSR)</a>을 사용하는 경우에도 사용자 요청마다 서버에서 HTML을 동적으로 생성합니다.</p>\n<p>서버 렌더링을 최대한 활용한다면, 클릭 이벤트 핸들러 연결 등 <strong>interactive한 기능</strong>은 사용하지 못하는 것일까요? 그렇지 않습니다. 이러한 기능은 HTML의 <strong><code>&#x3C;script></code></strong> 태그 내부에 포함되기 때문에 렌더링 이후 클라이언트 측에서 실행되어 hydration 됩니다.</p>\n<blockquote>\n<p><a href=\"https://astro.build/blog/hybrid-rendering/\">https://astro.build/blog/hybrid-rendering/</a></p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.55555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACmUlEQVQoz1WS224bNxRF9Q9FLuJlOOQMh5qrqJFG0micxEbqpn7xg5zEQBAUvQRokNh12wcDLpoEbYHC7YckyKfxJ7iLkRKleVg4BySwuM8BB6E00CaFjCPcZgyEKVAegXK1hSkQKj8jCBOEarQlSnc1kAYDwgSkWuGevcJ+8R04j0H4BylT4EIj1BlEnG7o+/6M8v8/HO36AWES8/k/eHz/PS4O3+FutsYNQsEDjSERUGaCycNLtD++Qnf5Bsvff4M0JQgJPwnZB3rhkIaYNdc4uf8eZ4dvcSdb4yahYDxGf6eSMcZHLzA9vUDz7Gc0L84hkwKUSrBdsgg02NbNyEG4QGsvscq/AWWfxiB0m7A+fYU7P/2Ne6+v0f75B4Qp8MWQ4hYTIESA3OYY3uQgQ4EB680sgIwUWChAA7l7lfQJdYmqW6M6OIH9+iHs8QlGSYU2XCAXFsxYyLqDavcgyjEGQkQo8gpFOYG1U5g0RaxTpLlFrHMkpsC4qrFcrDCfLZFVFY6rFd7tX+F8/AP0wVN0L6+x99e/SB89wqDfAw8+ojYwvoWycCO19RK2XsBOF7CzBYzOMFMlRiKFnB0hP/4e5bfPEO0f9DtU27/HPorkRtonDwIFnfTCFs3yLuqm20hNNoYaZZCRhulOUT+5xOzXK8QPjjCgTHnKlWdceh4oH4jIh2HsI6V9pCKfjgo/azrfzDvfLDs/b1c+zSufpYXXsfFmb+3Lx2fenl34+PArP9glCySCIIIMY0QqhtEaWRKjyAuM6xXsdIXJbIVJ0yIvKuR5jkQbmPYE5foc9vkviL98sEnoGFeOB8oJETmlYpfEscuNdjbTri5Hblplblqlm96WI5ePEqcj5aRUTgTSMSYcJcIRKt1/lwdtg0liJTEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Astro 하이브리드 렌더링\"\n        title=\"Astro 하이브리드 렌더링\"\n        src=\"/static/55c0090855b97cfdb97bd1315e7615ff/37523/astro-hybrid-rendering.png\"\n        srcset=\"/static/55c0090855b97cfdb97bd1315e7615ff/e9ff0/astro-hybrid-rendering.png 180w,\n/static/55c0090855b97cfdb97bd1315e7615ff/f21e7/astro-hybrid-rendering.png 360w,\n/static/55c0090855b97cfdb97bd1315e7615ff/37523/astro-hybrid-rendering.png 720w,\n/static/55c0090855b97cfdb97bd1315e7615ff/302a4/astro-hybrid-rendering.png 1080w,\n/static/55c0090855b97cfdb97bd1315e7615ff/07a9c/astro-hybrid-rendering.png 1440w,\n/static/55c0090855b97cfdb97bd1315e7615ff/71c1d/astro-hybrid-rendering.png 1536w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><em>Astro 2.0 하이브리드 렌더링의 작동 방식</em></p>\n<p>위의 그림은 Astro 2.0 하이브리드 렌더링의 작동 방식에 관한 도식으로, 정적 분석을 통해 페이지를 사전 렌더링과 서버 렌더링 청크로 분리하여 각각 최적화된 방식으로 처리하는 기술을 설명하고 있습니다.</p>\n<p><a href=\"https://docs.astro.build/ko/reference/configuration-reference/#adapter\">어댑터(adapter)</a>는 server.js를 Netlify, Vercel과 같은 특정 호스팅 제공업체와 연결하여 SSR을 처리할 수 있게 합니다. 사전 렌더링을 위한 결과물로는 HTML이 생성되며, interactive 하게 하기 위한 JS 또는 CSR용 컴포넌트 관련 JS들은 따로 번들화되어 브라우저로 전송됩니다.</p>\n<p>이러한 하이브리드 렌더링 방식은 SSG와 SSR의 유연성을 모두 활용할 수 있게 해줍니다.</p>\n<p>Astro에서는 위와 같이 서버 우선 접근 방식을 사용하면서 <strong>필요한 경우에 클라이언트 사이드 렌더링(CSR)을 선택할 수 있습니다.</strong> 이는 Astro 아일랜드에서 더 자세히 알아보도록 하겠습니다.</p>\n<h3 id=\"uncanny-valley\" style=\"position:relative;\"><a href=\"#uncanny-valley\" aria-label=\"uncanny valley permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Uncanny Valley</h3>\n<blockquote>\n<p><em>서버 렌더링, 정말 모든 문제를 해결해주는 최고의 솔루션일까?   - Nope!</em></p>\n</blockquote>\n<p>서버 렌더링은 더 빠른 First Contentful Paint를 제공하지만 항상 더 빠른 Time To Interactive를 제공하지는 않습니다. <strong>웹사이트와 상호 작용하기 위해 필요한 JavaScript 번들이 로드되고 처리된 후에야</strong> 핸들러가 연결 됩니다. 버튼은 상호 작용이 가능해 보일 수 있지만 hydration 전까진 상호 작용이 불가능합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVQoz3WSW25cMQiGz/5X1FX0LY9t2vSiVJkkM8bG3Oy/sn3OTBOllhBYwAcGb2bW3R1Dmxl2+yrH3c2gZqi6xHef+7JXvGPbE/ty+hXy/h7uqOr4kQzfk+MiDhpwc9gRbzaBPSLQe++ttQ+Bqooww6UannjBiygeiyPLaEjfdjiA4/Tep2OAh30UyDlDuOBUFL+5Ab2hiuIhB14zg0sGVwH/Dzj0OAewigAt8MyOn2XFNgDfcuDCMru3CGS1G/Dfjt48eepAj8C5Bv5woEVAPPCrDIgjYsXoPkN8LHrTWhFWUUTwmAWnUvHMFS8sING5dd1/wvb+m4wFHKAZpAX29Bl0/wnycgenewR9QdDXKSY0lzHyBmurtYJSgoggpYRMBGa+PrlkgpQzlF9RmVDLZRURAp1PyJRWXCmTsanIBIwKlGhulMsNSEQQMUTrEHVQLnNeY6spEVTXzEfu4PwFIbcNTf5awnIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Uncanny Valley\"\n        title=\"Uncanny Valley\"\n        src=\"/static/c1b37271ee729da8820d056b69a83209/37523/uncanny-valley.png\"\n        srcset=\"/static/c1b37271ee729da8820d056b69a83209/e9ff0/uncanny-valley.png 180w,\n/static/c1b37271ee729da8820d056b69a83209/f21e7/uncanny-valley.png 360w,\n/static/c1b37271ee729da8820d056b69a83209/37523/uncanny-valley.png 720w,\n/static/c1b37271ee729da8820d056b69a83209/302a4/uncanny-valley.png 1080w,\n/static/c1b37271ee729da8820d056b69a83209/07a9c/uncanny-valley.png 1440w,\n/static/c1b37271ee729da8820d056b69a83209/4a10c/uncanny-valley.png 2219w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>Hydration 작동 방식</em></p>\n<p>사용자가 화면에서 non-interactive UI를 보는 시간을  <strong>Uncanny Valley(불편한 골짜기)</strong> 라고 합니다. UI가 화면에 보이기에, 사용자는 웹사이트와 상호 작용할 수 있다고 생각하지만 아직 구성 요소에 핸들러가 연결되어 있지 않아 정지된 것처럼 보일 수 있어 실망스러운 경험이 될 수 있습니다.</p>\n<p>Uncanny Valley 문제를 해결하기위해 Partial Hydration, Progressive Hydration 개념이 등장하게 되었습니다.</p>\n<h3 id=\"selectivepartial-hydration\" style=\"position:relative;\"><a href=\"#selectivepartial-hydration\" aria-label=\"selectivepartial hydration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Selective(**Partial) Hydration</h3>\n<p>Selective Hydration은 페이지의 <strong>특정 부분만</strong> 하이드레이션하는 기술입니다.</p>\n<ul>\n<li><strong>무엇(WHAT)을 하이드레이션 할 것인가</strong>에 초점을 맞춥니다.</li>\n<li>개발자나 컴파일러가 애플리케이션의 구조를 분석하여 JavaScript가 필요한 부분만 선별적으로 하이드레이션합니다.</li>\n<li>정적인 부분과 동적인 부분을 구분하여 필요한 부분(동적인 부분)만 하이드레이션함으로써 전체적인 JavaScript 사용량을 줄일 수 있습니다.</li>\n</ul>\n<p>Astro에서는 컴포넌트 수준에서 Partial Hydration을 구현합니다. <code>client:*</code> 지시어를 사용하여 특정 컴포넌트만 클라이언트 사이드에서 하이드레이션 되도록 지정할 수 있습니다.</p>\n<h3 id=\"progressive-hydration\" style=\"position:relative;\"><a href=\"#progressive-hydration\" aria-label=\"progressive hydration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Progressive Hydration</h3>\n<p>Progressive Hydration은 페이지의 하이드레이션을 <strong>점진적으로 수행</strong>하는 기술입니다.</p>\n<ul>\n<li><strong>언제(WHEN) 하이드레이션을 수행할 것인가</strong>에 초점을 맞춥니다.</li>\n<li>애플리케이션을 한 번에 완전히 하이드레이션하지 않고, 데이터의 일부분씩 클라이언트로 전송하여 부분적으로 하이드레이션합니다.</li>\n<li>특정 이벤트(예: 버튼 클릭)나 컴포넌트가 뷰포트에 들어올 때 등 특정 조건에 따라 하이드레이션이 진행됩니다.</li>\n</ul>\n<p>Astro에서는 <code>client:visible</code>이나 <code>client:idle</code> 등의 지시어를 사용하여 Progressive Hydration을 구현합니다. 이를 통해 컴포넌트가 화면에 표시될 때나 브라우저가 유휴 상태일 때 하이드레이션을 수행할 수 있습니다.</p>\n<p>Astro는 <a href=\"https://twitter.com/ksylor\">Katie Sylor-Miller</a>가 처음 만든 <a href=\"https://docs.astro.build/ko/concepts/islands/\">**컴포넌트 아일랜드</a>** 아키텍처 패턴을 사용하여 Selective Hydration 기능이 내장된 최초의 주류 JavaScript 웹 프레임워크로 인기를 얻었습니다.</p>\n<p>Selective Hydration과 Progressive Hydration을 제어할 수 있는 기본 단위인 <a href=\"https://docs.astro.build/ko/concepts/islands/\">Astro 아일랜드</a>의 개념을 살펴보면서 어떠한 Hydration 제어기능이 있는지 살펴보도록 합시다.</p>\n<h2 id=\"astro-아일랜드\" style=\"position:relative;\"><a href=\"#astro-%EC%95%84%EC%9D%BC%EB%9E%9C%EB%93%9C\" aria-label=\"astro 아일랜드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Astro 아일랜드</h2>\n<p>Astro 아일랜드는 <code>서버 측에서 렌더링된 static HTML</code> 바다 위에 떠있는 <code>대화형 UI 컴포넌트 섬(island)</code>으로 생각하면 됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABnElEQVQY002R3UtTcRjH9x/FAm8kvCwQJbrQXm688KKF4EVeSSQIp6QwBdFQiHKWc+mWB3WzcE6X+QYLdeDLNpzsiDPP0m1sc+d4dn4fOVtIX3h4vnzh8zw8PDZTCEwB2WIOTS/xvwzNpP/rADMbPkCgljLogoq3yuLUnMlNIgQ2qAZjC6N8Dk5VfLqgVHsyxuy8myM1zWrCyWzsG3kTDPMfJQQffljcK3TtvMLY9rJXyH/KjAf8zMleesJ+ns8/pGs9zPDSGu5IlL59g57FNwyuyPTulun+rSBtpejdSSJ9akP66CCkRCtLbEPxAnXBNA3+OA+8Ue553tHivE+Tt5OW0ClPl1I4Qme8Dq7zNrSBYzlB/fsXNLr7aFpI0OZZ4dn0L+7+vMCjXFonw86FzpPNHDWBHM1f5miXBmmdcHHHd4rdFeO264BbE4fYJxUavyfpcI7x2CVjn1GoXSzyaLPIyGGBeN6oDrRUNEwi2SsCioq8m2b5OIMvpTF1ouM+1pk+0ZhMXvJyO0PXlooUOWMgnif8t4RmlG8eeQ20RJG9tSbGxwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Astro 아일랜드\"\n        title=\"Astro 아일랜드\"\n        src=\"/static/c4e6302b667d6ce0631c217cc3098fb5/37523/astro-island-1.png\"\n        srcset=\"/static/c4e6302b667d6ce0631c217cc3098fb5/e9ff0/astro-island-1.png 180w,\n/static/c4e6302b667d6ce0631c217cc3098fb5/f21e7/astro-island-1.png 360w,\n/static/c4e6302b667d6ce0631c217cc3098fb5/37523/astro-island-1.png 720w,\n/static/c4e6302b667d6ce0631c217cc3098fb5/302a4/astro-island-1.png 1080w,\n/static/c4e6302b667d6ce0631c217cc3098fb5/07a9c/astro-island-1.png 1440w,\n/static/c4e6302b667d6ce0631c217cc3098fb5/d38ac/astro-island-1.png 1744w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>다양한 프레임워크 컴포넌트가 존재하는 Astro 아일랜드</em></p>\n<p>아일랜드는 항상 페이지의 다른 아일랜드와 별개로 실행됩니다.위에서 설명한 <strong>Selective(Partial) Hydration</strong> 덕분에 페이지에 여러 아일랜드가 존재할 수 있습니다. 각 아일랜드는 독립적이기 때문에 <a href=\"https://ko.react.dev/\">React</a>, <a href=\"https://preactjs.com/\">Preact</a>, <a href=\"https://svelte.dev/\">Svelte</a>, <a href=\"https://ko.vuejs.org/\">Vue</a>, <a href=\"https://www.solidjs.com/\">SolidJS</a>와 같은 여러 UI 프레임워크를 혼합하여 사용할 수 있습니다.</p>\n<h3 id=\"astro에서-selective-hydration\" style=\"position:relative;\"><a href=\"#astro%EC%97%90%EC%84%9C-selective-hydration\" aria-label=\"astro에서 selective hydration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Astro에서 Selective Hydration</h3>\n<p>기본적으로 Astro는 서버 우선 렌더링을 하기 때문에, 컴포넌트의 <strong>모든 클라이언트 측 JS를 제거하고</strong> HTML 및 CSS로 렌더링 합니다. 그러나 Selective Hydration을 통해 CSR이 필요한 기존 SPA 프레임워크 또한 선택적으로 클라이언트 렌더링이 가능하도록 지원하고 있습니다.</p>\n<ul>\n<li>\n<p>src/pages/index.astro</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"tsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk17\">&lt;</span><span class=\"mtk10\">MyReactComponent</span><span class=\"mtk1\"> </span><span class=\"mtk12\">client</span><span class=\"mtk1\">:</span><span class=\"mtk12\">load</span><span class=\"mtk1\"> </span><span class=\"mtk17\">/&gt;</span></span></span></code></pre>\n</li>\n</ul>\n<p>즉, Astro에서 선택적 하이드레이션은 CSR을 지원하는데 초점을 맞추고 있다고 이해하면 됩니다. 따라서 대화형 아일랜드로 바꾸려면 <code>client:*</code> 지시어를 사용하여 클라이언트 측에서 렌더링 및 hydration 되도록 수 있도록 표시가 필요합니다. 만약 표시하지 않는다면, <a href=\"https://docs.astro.build/ko/guides/framework-components/\">UI 프레임워크 컴포넌트</a>는 <strong>클라이언트에서 수화되지 않으며,</strong> HTML이 JavaScript 없이 페이지에 렌더링됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABsklEQVQY0z2Q3UtTAQDF/V96sh5EEzYSqTT7EoxZk6WuNFCbezBxmoMe6qEPqEEmPmRvJtNoX7o2b6W36V4aXqamOac3t+uSPQSVmmtf+Ys53Hk4D+fAD84pAogoCnaXg4nJCXZ2djlSJvmPQdsQI8Ion2ameet2IG9GCn00GsXm8iII71le+XqYFeVMWQtR36qhob0JUZzB/1lkZTVMXF7lg+hkLijRadbR3NOIf365AAwuLFLXokFzq4p3bnseuJ6AATGI3tCO0XCbS91tqG4Uc9FkZlCYxhZWuO+LUNtxmWvGFtqGPZi8Ev1CkM7hcWobVJyvL+OFdSQPHJL3qRRinLFKnHu9SFmfEfX1E6i7tOg/Khj8P7g5GUL34CnNjwc4a7ZQfLWa4/o6yk3PuHDvOVV9Tyh/5cMZz+YmH7D0K02TtEeFbx9170NUNVeoMHZxyqVQOrbBSesapWMyKlcctcVJpVZLiU7PsUd2TvtTNAb2eLmZYGM3k/8wpz/pLF9+p/CEtxgNyEyFYni2E9i2U4zHUji+J3mzlaR/9ht33AHuegNY5qNIP9P8zWQLv/4HLqBph4IzrWUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Astro 아일랜드 내의 UI 프레임워크\"\n        title=\"Astro 아일랜드 내의 UI 프레임워크\"\n        src=\"/static/735baf9bb577d08778b09cfe8bc0f4cd/37523/astro-island-2.png\"\n        srcset=\"/static/735baf9bb577d08778b09cfe8bc0f4cd/e9ff0/astro-island-2.png 180w,\n/static/735baf9bb577d08778b09cfe8bc0f4cd/f21e7/astro-island-2.png 360w,\n/static/735baf9bb577d08778b09cfe8bc0f4cd/37523/astro-island-2.png 720w,\n/static/735baf9bb577d08778b09cfe8bc0f4cd/302a4/astro-island-2.png 1080w,\n/static/735baf9bb577d08778b09cfe8bc0f4cd/07a9c/astro-island-2.png 1440w,\n/static/735baf9bb577d08778b09cfe8bc0f4cd/d38ac/astro-island-2.png 1744w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><em>클라이언트에서 렌더링 되는 아일랜드들</em></p>\n<h3 id=\"템플릿-지시어\" style=\"position:relative;\"><a href=\"#%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%A7%80%EC%8B%9C%EC%96%B4\" aria-label=\"템플릿 지시어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>템플릿 지시어</h3>\n<p>위에서 소개한 <code>client:*</code> 지시어는 Astro의 <a href=\"https://docs.astro.build/ko/reference/directives-reference/\">템플릿 지시어</a> 중 하나로, 요소나 컴포넌트의 동작을 제어하는 데 사용 됩니다. 기타 지시어에 대한 내용은 생략하고, <a href=\"https://docs.astro.build/ko/reference/directives-reference/#%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EC%A7%80%EC%8B%9C%EC%96%B4\">클라이언트 지시어</a>만 중점적으로 살펴 보도록 하겠습니다.</p>\n<p><a href=\"https://docs.astro.build/ko/reference/directives-reference/#%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EC%A7%80%EC%8B%9C%EC%96%B4\">클라이언트 지시어</a>는 컴포넌트가 페이지에서 hydration되는 방식을 제어합니다. 위에서 Selective 하이드레이션의 케이스만 이야기했는데, <code>client:visible</code>이나 <code>client:idle</code>를 통해 Progressive 하이드레이션을 제어 할 수 있습니다.</p>\n<table>\n<thead>\n<tr>\n<th>지시어</th>\n<th>우선순위</th>\n<th>로드 시점</th>\n<th>사용 상황</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>client:load</code></td>\n<td>높음</td>\n<td>페이지 로드 시 즉시</td>\n<td>즉시 표시되는 대화형 UI 요소</td>\n</tr>\n<tr>\n<td><code>client:media</code></td>\n<td>낮음</td>\n<td>특정 CSS 미디어 쿼리 충족 시</td>\n<td>특정 화면 크기에서만 표시되는 요소</td>\n</tr>\n<tr>\n<td><code>client:only</code></td>\n<td>-</td>\n<td>클라이언트에서만 렌더링</td>\n<td>서버 렌더링을 건너뛰어야 하는 컴포넌트</td>\n</tr>\n<tr>\n<td><code>client:visible</code></td>\n<td>낮음</td>\n<td>컴포넌트가 뷰포트에 들어갈 때</td>\n<td>페이지 하단의 리소스 집약적 요소</td>\n</tr>\n<tr>\n<td><code>client:idle</code></td>\n<td>중간</td>\n<td>페이지 초기 로드 완료 후</td>\n<td>즉시 상호작용이 불필요한 낮은 우선순위 UI</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"summary\" style=\"position:relative;\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>Astro는 콘텐츠 중심의 정적 사이트 빌더로, 여러 UI 프레임워크를 혼합하여 사용할 수 있는 유연성을 제공합니다. 서버 우선 렌더링을 통해 SSG와 SSR의 장점을 결합하며, Selective 및 Progressive Hydration을 통해 효율적인 클라이언트 렌더링을 지원합니다. 이러한 기능들은 개발자가 대화형 UI 컴포넌트를 효과적으로 관리할 수 있도록 하고, 웹사이트의 성능을 향상시켜 빠른 로딩 시간과 우수한 사용자 경험을 제공합니다.</p>\n<p>이 글이 Astro와 그 기반 기술을 이해하는데 도움이 되었길 바랍니다.</p>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<ul>\n<li><a href=\"https://www.patterns.dev/react/progressive-hydration\">https://www.patterns.dev/react/progressive-hydration</a></li>\n<li><a href=\"https://www.patterns.dev/react/react-selective-hydration\">https://www.patterns.dev/react/react-selective-hydration</a></li>\n<li><a href=\"https://ajcwebdev.com/what-is-partial-hydration/\">https://ajcwebdev.com/what-is-partial-hydration/</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","excerpt":"Astro는 애플리케이션을 구축이 아닌 콘텐츠에 중점을 두고 설계된 정적 사이트 빌더입니다. 따라서 블로그, 포트폴리오, 이벤트용 마케팅 성격의 사이트 개발에 매우 적합한 프레임워크 입니다. Astro는 .astro 파일 확장자를 갖는 Astro 컴포넌트와 React, Preact, Svelte, Vue, SolidJS와 같은 여러 UI 프레임워크를 하나의 프로젝트 안에서 혼합해서 사용할 수 있는 굉장히 흥미로운 프레임워크입니다. Astro에 대해 간략히 배워보며 어떻게 여러 프레임워크를 혼합하여 사용할 수 있는 것인지 알아보는 시간을 갖도록 하겠습니다. Astro 컴포넌트 https://docs.astro.build/ko/basics/astro-components/ Astro 컴포넌트는 모든 Astro 프로젝트의 기본 구성 요소입니다. 이는 클라이언트 측 런타임이 없는 HTML 전용 템플릿 컴포넌트입니다. Astro 컴포넌트는 .astro 파일 확장자를 사용합니다. Astro 컴…","frontmatter":{"date":"October 13, 2024","title":"Astro로 알아보는 Selective & Progressive Hydration","categories":"framework","author":"soobing"},"fields":{"slug":"/astro-hydration/"}},"next":{"id":"909b8521-890b-5dc7-9c04-3289e2502910","html":"<p>process.env 값을 구조 분해 할당 하셨나요? 우리가 환경변수를 접근할 때 객체의 속성값에 접근할 때 사용하는 점 표기법을 사용하기 때문에 구조 분해 할당을 자연스럽게 사용해도 될 것 같은데요. 이런 경우, 왜 에러가 발생하는지 이번 글을 통해 알아보겠습니다.</p>\n<h2 id=\"문제-상황\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9\" aria-label=\"문제 상황 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 상황</h2>\n<p>다음과 같은 코드가 있다고 가정해 봅시다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">API_KEY</span><span class=\"mtk1\">, </span><span class=\"mtk12\">NEXT_PUBLIC_ANALYTICS_ID</span><span class=\"mtk1\"> } = </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">;</span></span></span></code></pre>\n<p>위 코드는 process.env 객체에서 <code>API_KEY</code>와 <code>NEXT_PUBLIC_ANALYTICS_ID</code> 변수를 구조 분해 할당하여 사용하려고 합니다. 그러나 Next.js에서는 이 코드가 제대로 작동하지 않을 수 있고, 오류가 발생할 수 있습니다.</p>\n<h2 id=\"왜-이런-문제가-발생할까요\" style=\"position:relative;\"><a href=\"#%EC%99%9C-%EC%9D%B4%EB%9F%B0-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%ED%95%A0%EA%B9%8C%EC%9A%94\" aria-label=\"왜 이런 문제가 발생할까요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 이런 문제가 발생할까요?</h2>\n<p><code>process.env</code>는 일반적인 자바스크립트 객체와는 다르기 때문입니다. 이는 Node.js 환경에서 환경 변수를 담고 있는 특수한 객체로, 모든 속성이 문자열 형태로 저장됩니다. Next.js는 빌드 타임과 런타임에서 환경 변수에 접근하는 방식이 다르므로, 이로 인해 구조 분해 할당을 사용할 때 예기치 않은 동작이나 오류가 발생할 수 있습니다.</p>\n<p>클라이언트 사이드에서 환경 변수 사용시 <code>NEXT_PUBLIC_</code>라는 prefix를 붙여야 한다고 <a href=\"https://nextjs.org/docs/app/building-your-application/configuring/environment-variables#bundling-environment-variables-for-the-browser\">공식문서에서 가이드</a> 하고 있습니다.</p>\n<p><em>(공식문서 인용)</em></p>\n<blockquote>\n<p>Non-<code>NEXT_PUBLIC_</code> environment variables are only available in the Node.js environment, meaning they aren’t accessible to the browser (the client runs in a different environment).</p>\n</blockquote>\n<blockquote>\n<p>In order to make the value of an environment variable accessible in the browser, Next.js can “inline” a value, at build time, into the js bundle that is delivered to the client, replacing all references to <code>process.env.[variable]</code> with a hard-coded value. To tell it to do this, you just have to prefix the variable with <code>NEXT_PUBLIC_</code>. For example:</p>\n</blockquote>\n<p>정리하면, <code>NEXT_PUBLIC_</code>이 붙지 않은 코드 <code>process.env.API_KEY</code>는 Node.js에서만 사용 가능한 환경 변수이고, 브라우저에서는 접근할 수 없습니다.</p>\n<p>환경 변수 값을 브라우저에서 접근 가능하도록 하려면, <code>process.env.NEXT_PUBLIC_ANALYTICS_ID</code>와 같이 <code>NEXT_PUBLIC_</code> 접두사를 붙여야 하고, 이런 환경 변수들을 클라이언트 코드 내에서 참조하고 있는 경우, 빌드 시점에 환경 변수 “값”으로 대체(인라인)한다는 것입니다.</p>\n<h2 id=\"해결-방법\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"해결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 방법</h2>\n<blockquote>\n<p>구조 분해 할당을 피하고, 개별적으로 환경 변수에 접근합니다.</p>\n</blockquote>\n<pre class=\"grvsc-container default-dark\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">apiKey</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">API_KEY</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">analyticsId</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NEXT_PUBLIC_ANALYTICS_ID</span><span class=\"mtk1\">;</span></span></span></code></pre>\n<p>이와 같이 환경 변수를 개별적으로 할당하면, Next.js에서 올바르게 환경 변수에 접근할 수 있습니다. 이는 Next.js의 빌드 타임과 런타임 환경 모두에서 안전하게 작동합니다.</p>\n<h2 id=\"예제-코드\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C-%EC%BD%94%EB%93%9C\" aria-label=\"예제 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제 코드</h2>\n<p>다음은 환경 변수를 안전하게 사용하는 예제 코드입니다:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"javascript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app/api/kakaoMap/route.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">GET</span><span class=\"mtk1\">(</span><span class=\"mtk12\">request</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Request</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">apiKey</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">API_KEY</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">apiKey</span><span class=\"mtk1\"> });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// components/AnalyticsComponent.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">useEffect</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;react&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">AnalyticsComponent</span><span class=\"mtk1\"> = () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">useEffect</span><span class=\"mtk1\">(() </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">analyticsId</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NEXT_PUBLIC_ANALYTICS_ID</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">analyticsId</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk11\">initializeAnalytics</span><span class=\"mtk1\">(</span><span class=\"mtk12\">analyticsId</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }, []);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">initializeAnalytics</span><span class=\"mtk1\"> = (</span><span class=\"mtk12\">id</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// do something</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">Analytics Component</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">h1</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15\">default</span><span class=\"mtk1\"> </span><span class=\"mtk12\">AnalyticsComponent</span><span class=\"mtk1\">;</span></span></span></code></pre>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>Next.js에서 process.env 값을 구조 분해 할당할 때 발생하는 오류는 process.env 객체의 특수한 성질과 빌드 타임 및 런타임의 차이로 인해 발생합니다. 이러한 문제를 피하기 위해서는 구조 분해 할당 대신 개별적으로 환경 변수에 접근하는 것이 좋습니다. 이를 통해 안정적이고 예측 가능한 방식으로 환경 변수를 사용할 수 있습니다.</p>\n<p>Next.js를 사용하면서 환경 변수와 관련된 문제를 겪고 계셨다면, 이번 글이 도움이 되셨기를 바랍니다. Happy Coding!</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk17 { color: #808080; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"June 26, 2024","title":"환경 변수(process.env)를 구조 분해 할당하면 안되는 이유","categories":"react next","author":"soobing"},"fields":{"slug":"/react/process-env-destructuring-error.md/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://soobing.github.io","comments":{"utterances":{"repo":"soobing/soobing.github.io"}}}}},"pageContext":{"slug":"/astro-hydration/","nextSlug":"/react/process-env-destructuring-error.md/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","2938748437"]}