{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/cs/6-caching-strategies/",
    "result": {"data":{"cur":{"id":"872218ff-8507-5910-8001-bc52d72fca27","html":"<blockquote>\n<p>원글: <a href=\"https://javascript.plainenglish.io/6-caching-strategies-to-remember-while-designing-cache-system-da058a3757cf\">https://javascript.plainenglish.io/6-caching-strategies-to-remember-while-designing-cache-system-da058a3757cf</a></p>\n</blockquote>\n<p>캐시 시스템 관련 용어, 읽기 vs 쓰기 중심의 애플리케이션에서 캐싱 전략, 캐시를 무효화하는 방법 등에 대해서 알려드리겠습니다.</p>\n<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>캐싱의 목표는 원본 소스에서 데이터를 가져오는 횟수를 줄여 처리 속도를 높이고 대기 시간을 감소시키는 것입니다.</p>\n<p>캐싱은 인메모리 캐싱, 디스크 캐싱, 데이터베이스 캐싱, CDN 캐싱과 같은 다양한 수준의 아키텍처에서 구현될 수 있습니다.</p>\n<p>데이터는 각각 고유한 이점이 있는 다양한 기술을 사용하여 캐싱할 수 있습니다. 인메모리 캐싱은 컴퓨터의 주 메모리에 데이터를 저장하여 디스크 저장소 보다 빠른 액세스를 제공합니다.</p>\n<p>반면 디스크 캐싱은 하드 디스크에 데이터를 저장하므로 주 메모리보다는 느리지만 원격 소스에서 데이터를 가져오는 것보다 빠릅니다.</p>\n<p>데이터베이스 캐싱은 자주 액세스되는 데이터를 데이터베이스 내에 저장하여 외부 저장소에서 데이터를 검색하는 필요성을 줄입니다.</p>\n<p>마지막으로, CDN 캐싱은 데이터를 분산된 서버 네트워크에 저장하여 원격 위치에서 데이터에 액세스할 때 대기 시간을 줄입니다.</p>\n<h3 id=\"목차\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%EC%B0%A8\" aria-label=\"목차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목차</h3>\n<ol>\n<li>캐시 시스템의 주요 성능 측정 지표</li>\n<li>읽기 중심의 애플리케이션 캐싱</li>\n<li>쓰기 중심의 애플리케이션 캐싱</li>\n<li>캐시 무효화(Invalidation) 방법</li>\n<li>결론</li>\n</ol>\n<hr>\n<h2 id=\"캐시-시스템의-주요-성능-측정-지표\" style=\"position:relative;\"><a href=\"#%EC%BA%90%EC%8B%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%98-%EC%A3%BC%EC%9A%94-%EC%84%B1%EB%8A%A5-%EC%B8%A1%EC%A0%95-%EC%A7%80%ED%91%9C\" aria-label=\"캐시 시스템의 주요 성능 측정 지표 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>캐시 시스템의 주요 성능 측정 지표</h2>\n<p>캐싱 시스템의 효율성과 성능을 향상시키기 위해서는 다양한 지표를 모니터링하는 것이 매우 중요합니다. 이를 통해 캐싱 시스템에 관한 중요한 비즈니스 결정을 내릴 수 있습니다.</p>\n<p>고려해야 할 다양한 변수는 아래와 같습니다.</p>\n<ol>\n<li><strong>캐시 적중률(hit ratio)</strong>: 이 지표는 요청된 항목이 캐시에서 사용된 비율을 측정합니다. 캐시 적중률이 높을수록 캐시에서 더 많은 데이터가 제공되어, 외부 저장소에 액세스 할 필요성을 줄어들고 성능이 향상됩니다.</li>\n<li><strong>지연 시간(latency)</strong>: 지연 시간은 데이터에 액세스하는 데 걸리는 시간을 의미합니다. 캐싱 시스템에서 낮은 대기 시간은 데이터가 더 빠르게 제공되는 것을 의미하여 전반적인 성능을 향상시킵니다.</li>\n<li><strong>처리량(throughput)</strong>: 처리량은 주어진 시간 동안 처리할 수 있는 데이터의 양을 측정합니다. 처리량이 높은 캐싱 시스템은 더 많은 요청을 처리하고 더 많은 데이터를 제공할 수 있어 전반적인 성능을 향상시킵니다.</li>\n<li><strong>캐시 크기(size)</strong>: 캐시 크기는 캐시에 할당된 메모리 또는 저장소의 크기를 나타냅니다. 캐시 크기는 캐시 적중률과 미스율에 영향을 줄 수 있습니다. 캐시 크기가 크면 적중률이 높을 수 있지만, 캐싱 솔루션의 비용과 복잡성을 증가시킬 수도 있습니다.</li>\n<li><strong>캐시 미스율(miss rate)</strong>: 이 지표는 요청된 항목이 캐시에서 찾을 수 없어 외부 저장소에서 가져와야 하는 비율을 측정합니다. 미스율이 높을수록 캐시가 아닌 외부 저장소에서 더 많은 데이터를 가져오기 때문에 성능이 저하됩니다.</li>\n</ol>\n<p>이러한 성능 지표를 모니터링한다면, 우리는 캐싱 시스템을 최적화하여 더 높은 처리량과 낮은 대기 시간을 달성할 수 있습니다.</p>\n<hr>\n<h2 id=\"읽기-중심의-애플리케이션-캐싱\" style=\"position:relative;\"><a href=\"#%EC%9D%BD%EA%B8%B0-%EC%A4%91%EC%8B%AC%EC%9D%98-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%BA%90%EC%8B%B1\" aria-label=\"읽기 중심의 애플리케이션 캐싱 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>읽기 중심의 애플리케이션 캐싱</h2>\n<p>WordPress, 정적 이미지 웹사이트, 데이터 분석 서비스 등과 같은 읽기 중심의 애플리케이션은 읽기 캐시를 더 많이 지원하는 방식으로 캐싱 시스템을 설계해야 합니다.</p>\n<p>다음은 이를 돕기 위한 몇 가지 방법입니다.</p>\n<ul>\n<li><strong>캐시 별도 관리(Cache-Aside)</strong></li>\n<li><strong>캐시 통해서 읽기(Read-Through)</strong></li>\n<li><strong>캐시 미리 갱신(Refresh-Ahead)</strong></li>\n</ul>\n<h3 id=\"1-캐시-별도-관리cache-aside\" style=\"position:relative;\"><a href=\"#1-%EC%BA%90%EC%8B%9C-%EB%B3%84%EB%8F%84-%EA%B4%80%EB%A6%ACcache-aside\" aria-label=\"1 캐시 별도 관리cache aside permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 캐시 별도 관리(Cache-Aside)</h3>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QoT8CiVRtBjF8euba_FF7w.png\" alt=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QoT8CiVRtBjF8euba_FF7w.png\"></p>\n<p>캐시 별도 관리(Cache-Aside) 방법은 가장 일반적으로 사용되는 캐싱 전략 중 하나입니다.</p>\n<p><strong>처리 과정</strong></p>\n<ol>\n<li>어플리케이션에 요청이 들어올 때마다 먼저 캐시에서 요청된 데이터를 확인합니다.</li>\n<li>캐시에 데이터가 있으면, 데이터를 반환합니다.</li>\n<li>캐시에 데이터가 없으면, 어플리케이션은 데이터베이스에서 데이터를 쿼리한 후, 캐시를 업데이트한 다음 데이터를 반환합니다.</li>\n</ol>\n<p><strong>장점/단점</strong></p>\n<ul>\n<li>한번의 캐시 미스는 세 번의 처리 과정을 거치므로, 이로 인해 눈에 띄는 지연이 발생할 수 있습니다.</li>\n<li>누군가 캐시 갱신 없이, 데이터베이스를 업데이트를 한다면 데이터가 무효화(stale)된 상태가 될 수 있습니다. (따라서, 캐시 별도 관리(Cache-Aside)는 일반적으로 다른 전략과 함께 사용됩니다).</li>\n</ul>\n<h3 id=\"2-캐시-통해서-읽기read-through\" style=\"position:relative;\"><a href=\"#2-%EC%BA%90%EC%8B%9C-%ED%86%B5%ED%95%B4%EC%84%9C-%EC%9D%BD%EA%B8%B0read-through\" aria-label=\"2 캐시 통해서 읽기read through permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 캐시 통해서 읽기(Read-Through)</h3>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b2t2aF7ODiI-DovHGUc7Kw.png\" alt=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b2t2aF7ODiI-DovHGUc7Kw.png\"></p>\n<p><em>저작자: Umer Mansoor</em></p>\n<p>캐시 통해서 읽기(Read-Through) 방법에서는, 캐시가 데이터베이스에 요청/쿼리를 수행한 후에 자신을 업데이트하고 최종 사용자에게 요청된 데이터를 반환합니다.</p>\n<p><strong>처리 과정</strong></p>\n<ol>\n<li>쿼리가 발생하면, 애플리케이션은 캐시에서 데이터를 쿼리합니다.</li>\n<li>만약 캐시에 데이터가 없다면, <strong>캐시</strong>는 데이터베이스에서 데이터를 쿼리하고 자신을 업데이트합니다.</li>\n<li>캐시는 최종 사용자에게 데이터를 반환합니다.</li>\n</ol>\n<p><strong>장점/단점</strong></p>\n<ul>\n<li>애플리케이션 수준의 코드 간소화: 캐시 통해서 읽기(Read-Through) 방법은 데이터 요청 로직을 캐시로 이동시킴으로써 애플리케이션 코드를 단순화합니다.</li>\n<li>읽기 처리 능력 향상: 캐시 별도 관리(Cache-Aside)에서 키가 만료되었을때, 동시 요청은 데이터베이스에서 동일한 데이터를 여러 번 쿼리할 수 있습니다. 캐시 통해서 읽기(Read-Through)에서는 캐시가 데이터베이스로 하나의 쿼리만 보내도록 보장합니다.</li>\n</ul>\n<h3 id=\"3-캐시-미리-갱신refresh-ahead\" style=\"position:relative;\"><a href=\"#3-%EC%BA%90%EC%8B%9C-%EB%AF%B8%EB%A6%AC-%EA%B0%B1%EC%8B%A0refresh-ahead\" aria-label=\"3 캐시 미리 갱신refresh ahead permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 캐시 미리 갱신(Refresh-Ahead)</h3>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1144/format:webp/0*jBUIAcYcQdTa-bnA.png\" alt=\"https://miro.medium.com/v2/resize:fit:1144/format:webp/0*jBUIAcYcQdTa-bnA.png\"></p>\n<p><em>저작자: <a href=\"https://medium.com/@nganjason007?source=user_profile-------------------------------------\">Jason Ngan</a></em></p>\n<p>캐시 미리 갱신(Refresh-Ahead)은 캐시 데이터의 만료 시간 이전에 데이터를 갱신하는 방법으로, 곧 요청될 것으로 예상되는 핫 데이터를 대상으로 수행됩니다.</p>\n<p><em>* [역주] 핫 데이터(Hot-data): 주로 액세스되는 데이터 또는 가장 빈번한 요청을 받을 것으로 예상되는 데이터를 의미</em></p>\n<p><strong>처리 과정</strong></p>\n<ol>\n<li>예를 들어, 캐시된 데이터의 만료 시간이 60초이고 refresh-ahead 요소가 0.5 라고 가정해보겠습니다.</li>\n<li>캐시된 객체가 60초 후에 액세스되면, Coherence는 캐시 스토어(데이터베이스)에서 <strong>동기</strong>적으로 읽기 작업을 수행하여 해당 값을 갱신합니다.</li>\n<li>만약 캐시된 데이터가 30초 이후인 35초 후에 액세스되면, 캐시는 데이터를 반환하고 <strong>비동기</strong>적으로 데이터를 갱신합니다.</li>\n</ol>\n<p><em>* [역주] Coherence: 오라클에서 개발한 분산 캐시 및 데이터 그리드 솔루션</em></p>\n<p><strong>장점/단점</strong></p>\n<p>캐시 미리 갱신(Refresh-Ahead)은 설정된 간격으로 캐시를 갱신하여 다음 캐시 액세스 가능성이 있기 직전에 캐시를 갱신합니다. 그러나 데이터를 갱신하는 데는 네트워크 지연으로 인해 일정 시간이 소요될 수 있으며, 이 동안에는 읽기 부하가 매우 높은 시스템에서 몇 천 개의 읽기 작업이 이미 몇 밀리초 동안 수행되었을 수 있습니다.*</p>\n<p><em>* [역주] 저자는 refresh-ahead 캐싱 전략이 동작하는 동안에도 시스템에서 읽기 작업이 많이 발생할 수 있다는 것을 언급하고 있습니다. refresh-ahead 캐싱 전략이 동작하는 동안에도 시스템의 읽기 작업량을 고려해야 한다는 점을 강조하고 있습니다.</em></p>\n<h2 id=\"쓰기-중심의-애플리케이션-캐싱\" style=\"position:relative;\"><a href=\"#%EC%93%B0%EA%B8%B0-%EC%A4%91%EC%8B%AC%EC%9D%98-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%BA%90%EC%8B%B1\" aria-label=\"쓰기 중심의 애플리케이션 캐싱 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쓰기 중심의 애플리케이션 캐싱</h2>\n<p>쓰기 중심의 애플리케이션은 다음과 같은 캐싱 전략을 필요로 합니다.</p>\n<ul>\n<li><strong>캐시 통해서 쓰기(Write-Through)</strong></li>\n<li><strong>쓰고 나서 캐시(Write-behind)</strong></li>\n<li><strong>캐시 나중에 쓰기(Write-Around)</strong></li>\n</ul>\n<p><em>* [역주] 쓰기 중심의 애플리케이션 예시로는 소셜 미디어 플랫폼, 온라인 쇼핑 애플리케이션, 로그 및 이벤트 추적 시스템,  게임 서버와 같은 것들이 있을 수 있습니다.</em></p>\n<h3 id=\"1-캐시-통해서-쓰기write-through\" style=\"position:relative;\"><a href=\"#1-%EC%BA%90%EC%8B%9C-%ED%86%B5%ED%95%B4%EC%84%9C-%EC%93%B0%EA%B8%B0write-through\" aria-label=\"1 캐시 통해서 쓰기write through permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 캐시 통해서 쓰기(Write-Through)</h3>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6b7N9Rzogo6c2Ju1pqrkgQ.png\" alt=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6b7N9Rzogo6c2Ju1pqrkgQ.png\"></p>\n<p><em>저작자: Umer Mansoor</em></p>\n<p>캐시 통해서 쓰기(Write-Through)는 캐시를 주 데이터 저장소로 취급합니다. 즉, 데이터는 먼저 캐시에 업데이트되고 그 다음에 데이터베이스에 업데이트됩니다.</p>\n<p>다음은 애플리케이션이 데이터를 쓰거나 값을 업데이트할 때의 동작 과정입니다.</p>\n<p><strong>처리 과정</strong></p>\n<ol>\n<li>애플리케이션은 캐시에 데이터를 직접 씁니다.</li>\n<li>캐시는 데이터를 주 데이터베이스에 업데이트합니다. 쓰기 작업이 완료되면 캐시와 데이터베이스는 동일한 값을 갖게 되며 캐시는 항상 일관성을 유지합니다.</li>\n</ol>\n<p><strong>장점/단점</strong></p>\n<p>캐시 통해서 읽기(Read-Through)와 함께 사용되면 네트워크 호출에서 매우 효과적이며, 캐시에 데이터가 먼저 읽혀지거나 쓰여지기 때문에 캐시 무효화(invalidation)가 거의 발생하지 않습니다. 모든 데이터가 새로운 데이터여야 하며, 자주 액세스되는 데이터일 경우에 이 전략이 유리합니다. 또한 데이터베이스로의 모든 쓰기 작업이 캐시를 통해 이루어지므로 데이터베이스와 캐시는 거의 일관성을 유지합니다.</p>\n<h3 id=\"2-쓰고-나서-캐시write-behind\" style=\"position:relative;\"><a href=\"#2-%EC%93%B0%EA%B3%A0-%EB%82%98%EC%84%9C-%EC%BA%90%EC%8B%9Cwrite-behind\" aria-label=\"2 쓰고 나서 캐시write behind permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 쓰고 나서 캐시(Write-behind)</h3>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qqrzzrLW9zmsjeUJ3q-sxw.png\" alt=\"https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qqrzzrLW9zmsjeUJ3q-sxw.png\"></p>\n<p><em>저작자: Umer Mansoor</em></p>\n<p>쓰고 나서 캐시(Write-behind) 방법은 캐시 통해서 쓰기(Write-Through)와 매우 유사하지만, 데이터베이스 쓰기가 비동기적으로 이루어진다는 차이가 있습니다.</p>\n<p><strong>장점/단점</strong></p>\n<ol>\n<li><strong>쓰고 나서 캐시(Write-behind)는 쓰기 성능을 향상시킬 수 있습니다.</strong> 대량의 쓰기 작업이 있는 워크로드에서 가장 이상적인 방법 입니다. 캐시 통해서 읽기(Read-Through) 전략은 가장 최근에 업데이트된 데이터가 항상 캐시에서 사용 가능하도록 보장되므로, 캐시 통해서 읽기(Read-Through)와 쓰고 나서 캐시(Write-behind)를 **함께 사용하는 혼합 워크로드에서 적합한 캐시 전략 입니다.</li>\n<li><strong>네트워크 비용 감소</strong>: 배치 호출(batch calls)을 사용한다면, 데이터베이스로의 전체 쓰기 작업을 줄여 부하를 감소시키고 비용을 절감할 수 있습니다. 특히 DynamoDB와 같이 요청 횟수에 따라 요금을 부과하는 데이터베이스의 경우 이점이 있습니다.</li>\n<li><strong>캐시의 비효율적 사용:</strong> 드물게 요청되는 데이터도 캐시에 저장될 수 있습니다. 이는 TTL을 통해 최소화할 수 있습니다.</li>\n</ol>\n<h3 id=\"3캐시-나중에-쓰기write-around\" style=\"position:relative;\"><a href=\"#3%EC%BA%90%EC%8B%9C-%EB%82%98%EC%A4%91%EC%97%90-%EC%93%B0%EA%B8%B0write-around\" aria-label=\"3캐시 나중에 쓰기write around permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 캐시 나중에 쓰기(Write-Around)</h3>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1144/format:webp/0*z03ANph_QMEWxqX_.png\" alt=\"https://miro.medium.com/v2/resize:fit:1144/format:webp/0*z03ANph_QMEWxqX_.png\"></p>\n<p><em>저작자: <a href=\"https://medium.com/@nganjason007?source=user_profile-------------------------------------\">Jason Ngan</a></em></p>\n<p>캐시 나중에 쓰기(Write-Around)에서는 데이터베이스에 먼저 데이터의 DML 명령을 업데이트한 후, 데이터베이스가 캐시에 대한 비동기 호출을 통해 키를 업데이트합니다.</p>\n<p><strong>처리 과정</strong></p>\n<ol>\n<li>쓰기 요청이 오면, 애플리케이션은 데이터베이스에서 레코드를 업데이트합니다.</li>\n<li>데이터베이스는 캐시에서 키를 비동기적으로 업데이트하거나 삭제합니다.</li>\n</ol>\n<p><strong>장점/단점</strong></p>\n<p>캐시 나중에 쓰기(Write-Around) 전략은 캐시 통해서 읽기(Read-Through)와 결합하여 데이터가 한 번 쓰여지고 자주 또는 전혀 읽히지 않는 상황에서 좋은 성능을 제공합니다. 예를 들어, 실시간 로그 또는 채팅룸 메시지와 같은 경우입니다. 마찬가지로, 이 패턴은 캐시 별도 관리(Cache-Aside)와도 결합할 수 있습니다.</p>\n<h2 id=\"캐시-무효화invalidation-방법\" style=\"position:relative;\"><a href=\"#%EC%BA%90%EC%8B%9C-%EB%AC%B4%ED%9A%A8%ED%99%94invalidation-%EB%B0%A9%EB%B2%95\" aria-label=\"캐시 무효화invalidation 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>캐시 무효화(Invalidation) 방법</h2>\n<p>캐시 무효화(Invalidation)는 캐시에서 무효(stale)하거나 오래된 데이터를 제거하여 가장 최신의 데이터만 사용할 수 있도록 하는 과정입니다. 일부 캐시 무효화 전략은 아래와 같습니다.</p>\n<ol>\n<li><strong>시간 기반(TTL) 무효화</strong>: 이 전략에서는 캐시의 데이터가 일정 시간이 경과한 후에 무효화됩니다. 이는 구현하기 쉽고 효과적인 간단한 전략입니다. 그러나 모든 사용 사례에 적합하지 않을 수 있으며, 일부 데이터가 다른 데이터보다 더 빠르게 무효한(stale) 상태가 될 수 있습니다.</li>\n<li><strong>이벤트 기반 무효화</strong>: 이 전략에서는 데이터 소스의 변경 또는 관련된 다른 이벤트와 같은 특정 이벤트 발생에 따라 캐시의 데이터가 무효화됩니다. 이는 필요할 때만 데이터가 무효화되도록 하는 더 정밀한 무효화 접근 방식입니다. 그러나 응용 프로그램 및 기본 데이터 소스와의 더 심화된 통합이 필요합니다.</li>\n<li><strong>버전 기반 무효화</strong>: 이 전략에서는 캐시의 각 데이터에 버전 번호가 할당되며, 데이터가 변경될 때마다 버전 번호가 증가합니다. 데이터가 무효화되면 버전 번호가 캐시에서 업데이트되어 가장 최신 버전의 데이터만 사용되도록 합니다. 이 전략은 자주 변경되는 데이터에 효과적일 수 있지만, 버전 번호를 관리하기 위한 추가 오버헤드가 필요합니다.</li>\n<li><strong>최근에 사용되지 않은 데이터(LRU) 무효화</strong>: 이 전략에서는 캐시가 용량 제한에 도달하면 가장 최근에 사용되지 않은 데이터가 무효화됩니다. 이를 통해 가장 자주 사용되는 데이터가 캐시에 유지되고 오래된 데이터를 저장하는 위험을 줄일 수 있습니다. 그러나 일부 데이터는 드물게 액세스되지만 여전히 캐시되어야 할 수 있으므로 모든 사용 사례에 적합하지 않을 수 있습니다.</li>\n<li><strong>수동 무효화</strong>: 이 전략에서는 응용 프로그램이나 관리자에 의해 수동으로 무효화가 진행됩니다. 이는 캐시에 대해 가장 많은 선택(유연성)과 맞춤 설정(제어권)을 제공하지만, 무효화 프로세스를 관리하기 위해 추가적인 오버헤드가 필요합니다. 이 전략은 Purge, Ban, Refresh와 같은 여러 가지 방법을 포함합니다.</li>\n</ol>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>결론적으로, 위에서 언급한 전략들은 절대로 단독으로 동작하지 않습니다. 항상 조합하여 사용됩니다. 예를 들어, 캐시 나중에 쓰기(Write-Around) 전략은 캐시 별도 관리(Cache-Aside) 전략과 함께 구현될 수 있어 데이터 일관성을 보장할 수 있습니다. 더 중요한 것은 애플리케이션의 읽기/쓰기 액세스 패턴을 이해하는 것입니다. 잘못된 조합을 선택하면 최상의 결과를 얻지 못할 수 있기 때문입니다.</p>\n<p>예를 들어, 만약 당신이 실제로는 <em>캐시 통해서 쓰기(Write-Through)/캐시 통해서 읽기(Read-Through)</em> 전략을 사용해야 하는데 <em>캐시 나중에 쓰기(Write-Around)/캐시 통해서 읽기(Read-Through)</em> 전략을 선택한다면 (쓴 데이터가 덜 자주 액세스되는 경우), 캐시에 쓸모 없는 쓰레기 데이터가 남을 수 있습니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>","excerpt":"원글: https://javascript.plainenglish.io/6-caching-strategies-to-remember-while-designing-cache-system-da058a3757cf 캐시 시스템 관련 용어, 읽기 vs 쓰기 중심의 애플리케이션에서 캐싱 전략, 캐시를 무효화하는 방법 등에 대해서 알려드리겠습니다. 개요 캐싱의 목표는 원본 소스에서 데이터를 가져오는 횟수를 줄여 처리 속도를 높이고 대기 시간을 감소시키는 것입니다. 캐싱은 인메모리 캐싱, 디스크 캐싱, 데이터베이스 캐싱, CDN 캐싱과 같은 다양한 수준의 아키텍처에서 구현될 수 있습니다. 데이터는 각각 고유한 이점이 있는 다양한 기술을 사용하여 캐싱할 수 있습니다. 인메모리 캐싱은 컴퓨터의 주 메모리에 데이터를 저장하여 디스크 저장소 보다 빠른 액세스를 제공합니다. 반면 디스크 캐싱은 하드 디스크에 데이터를 저장하므로 주 메모리보다는 느리지만 원격 소스에서 데이터를 가져오는 것보다 빠릅니다. 데이터…","frontmatter":{"date":"June 13, 2023","title":"(번역) 캐시 시스템 설계할 때 기억해야 할 6가지 캐싱 전략","categories":"cs","author":"soobing"},"fields":{"slug":"/cs/6-caching-strategies/"}},"next":{"id":"7268c9ab-b8e9-5638-aa7a-c6c2e2d4f1a8","html":"<p>ES6에서는 Proxy, Reflect 객체를 통해 메타프로그래밍을 할 수 있습니다. 메타프로그래밍이 무엇인지? 그리고 Proxy와 Reflect에 대해서 알아보도록 하겠습니다.</p>\n<h2 id=\"metaprogramming\" style=\"position:relative;\"><a href=\"#metaprogramming\" aria-label=\"metaprogramming permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Metaprogramming</h2>\n<p>메타프로그래밍은 프로그램이 자기 자신을 조작할 수 있는 능력을 말합니다. 이를 통해 프로그램은 동적으로 자기 자신을 변화시키거나, 다른 프로그램을 분석하거나, 새로운 코드를 생성할 수 있습니다. 메타프로그래밍을 통해 코드의 유연성과 재사용성을 높일 수 있으며, 런타임에서 객체의 동작을 수정할 수 있어서 더욱 강력한 코드를 작성할 수 있습니다.</p>\n<h3 id=\"메타프로그래밍에서-가장-중요한-세-가지-개념\" style=\"position:relative;\"><a href=\"#%EB%A9%94%ED%83%80%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%97%90%EC%84%9C-%EA%B0%80%EC%9E%A5-%EC%A4%91%EC%9A%94%ED%95%9C-%EC%84%B8-%EA%B0%80%EC%A7%80-%EA%B0%9C%EB%85%90\" aria-label=\"메타프로그래밍에서 가장 중요한 세 가지 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메타프로그래밍에서 가장 중요한 세 가지 개념</h3>\n<ol>\n<li>\n<p><strong>Introspection</strong></p>\n<p>Introspection은 코드가 자기 자신을 검사할 수 있는 능력을 의미합니다. 이를 통해 코드의 내부 구조와 데이터를 검사하거나, 코드의 실행 시점에서 객체의 메소드나 프로퍼티에 접근할 수 있습니다. 자바스크립트에서는 ES6부터 Reflect 객체를 제공하여 Introspection을 지원하고 있습니다.</p>\n<ul>\n<li>\n<p>ES6 이전(<code>Object.getOwnPropertyDescriptor</code>)</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">myObject</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">myProperty:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Hello, World!&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// myObject의 myProperty 프로퍼티 값에 접근하기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Object</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getOwnPropertyDescriptor</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;myProperty&#39;</span><span class=\"mtk1\">).</span><span class=\"mtk12\">value</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// &#39;Hello, World!&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// myObject의 프로퍼티를 추가하기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Object</span><span class=\"mtk1\">.</span><span class=\"mtk11\">defineProperty</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;myNewProperty&#39;</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">value:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Goodbye, World!&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">writable:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">configurable:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">enumerable:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">.</span><span class=\"mtk12\">myNewProperty</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// &#39;Goodbye, World!&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// myObject의 프로퍼티를 제거하기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">delete</span><span class=\"mtk1\"> </span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">.</span><span class=\"mtk12\">myNewProperty</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// { myProperty: &#39;Hello, World!&#39; }</span></span></span></code></pre>\n</li>\n<li>\n<p>ES6 이후(<code>Reflect</code>)</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">myObject</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">myProperty:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Hello, World!&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// myObject의 myProperty 프로퍼티 값에 접근하기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;myProperty&#39;</span><span class=\"mtk1\">)); </span><span class=\"mtk3\">// &#39;Hello, World!&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// myObject의 프로퍼티를 추가하기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">set</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;myNewProperty&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;Goodbye, World!&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">.</span><span class=\"mtk12\">myNewProperty</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// &#39;Goodbye, World!&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// myObject의 프로퍼티를 제거하기</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">deleteProperty</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;myNewProperty&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObject</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// { myProperty: &#39;Hello, World!&#39; }</span></span></span></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p>Self-Modification</p>\n<p>Self-Modification은 코드가 자기 자신을 수정할 수 있는 능력을 의미합니다. 이를 통해 코드를 동적으로 생성하거나, 객체의 동작을 수정할 수 있습니다. 자바스크립트에서는 이러한 Self-Modification이 보안상 문제가 될 수 있으므로, 보안성을 고려한 코드 작성이 필요합니다.</p>\n<ul>\n<li>보안상의 이슈로 인해 <strong><code>eval()</code>, <code>Function 생성자</code></strong> 함수의 사용은 권장되지 않으며, 다른 방법을 사용 권장</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// eval</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">x</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">eval</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;x = 2&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">x</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 출력값: 2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Function 생성자</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">myFunction</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Function</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;a&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;b&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;return a * b&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk11\">myFunction</span><span class=\"mtk1\">(</span><span class=\"mtk7\">3</span><span class=\"mtk1\">, </span><span class=\"mtk7\">4</span><span class=\"mtk1\">)); </span><span class=\"mtk3\">// 출력: 12</span></span></span></code></pre>\n</li>\n<li>\n<p><strong>Intercession</strong>: “대신 해 주기”를 의미. 메타프로그래밍에서 Intercession은 wrapping, trapping, intercepting과 같은 기법을 사용하여 다른 객체나 코드의 동작을 대신해서 제어하거나 수정할 수 있습니다.</p>\n<ul>\n<li>\n<p>ES6 이전 (<code>Object.defineProperty()</code>, <code>Object get(), set()</code>)</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Object.defineProperty() 사용</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">sun</span><span class=\"mtk1\"> = {};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Object</span><span class=\"mtk1\">.</span><span class=\"mtk11\">defineProperty</span><span class=\"mtk1\">(</span><span class=\"mtk12\">sun</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;rises&#39;</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">value:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">configurable:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">false</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">writable:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">false</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">enumerable:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">false</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;sun rises&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">sun</span><span class=\"mtk1\">.</span><span class=\"mtk12\">rises</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">sun</span><span class=\"mtk1\">.</span><span class=\"mtk12\">rises</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">false</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;sun rises&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">sun</span><span class=\"mtk1\">.</span><span class=\"mtk12\">rises</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 객체의 get, set 메소드 사용</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">myObj</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Alice&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">20</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">get</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\">(</span><span class=\"mtk12\">prop</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`getting </span><span class=\"mtk4\">${</span><span class=\"mtk12\">prop</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">[</span><span class=\"mtk12\">prop</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">set</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\">(</span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">value</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`setting </span><span class=\"mtk4\">${</span><span class=\"mtk12\">prop</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> to </span><span class=\"mtk4\">${</span><span class=\"mtk12\">value</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">this</span><span class=\"mtk1\">[</span><span class=\"mtk12\">prop</span><span class=\"mtk1\">] = </span><span class=\"mtk12\">value</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">myObj</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;name&#39;</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// &quot;getting name&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                   </span><span class=\"mtk3\">// &quot;Alice&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">myObj</span><span class=\"mtk1\">.</span><span class=\"mtk11\">set</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;age&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk7\">30</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// &quot;setting age to 30&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObj</span><span class=\"mtk1\">.</span><span class=\"mtk12\">age</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 30</span></span></span></code></pre>\n</li>\n<li>\n<p>ES6 이후 (Proxy)</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">myObj</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;Alice&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">20</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">handler</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">get</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`getting </span><span class=\"mtk4\">${</span><span class=\"mtk12\">prop</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">target</span><span class=\"mtk1\">[</span><span class=\"mtk12\">prop</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">set</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">value</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`setting </span><span class=\"mtk4\">${</span><span class=\"mtk12\">prop</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> to </span><span class=\"mtk4\">${</span><span class=\"mtk12\">value</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">target</span><span class=\"mtk1\">[</span><span class=\"mtk12\">prop</span><span class=\"mtk1\">] = </span><span class=\"mtk12\">value</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">proxyObj</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Proxy</span><span class=\"mtk1\">(</span><span class=\"mtk12\">myObj</span><span class=\"mtk1\">, </span><span class=\"mtk12\">handler</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">proxyObj</span><span class=\"mtk1\">.</span><span class=\"mtk12\">name</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// &quot;getting name&quot; -&gt; &quot;Alice&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">proxyObj</span><span class=\"mtk1\">.</span><span class=\"mtk12\">age</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">30</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// &quot;setting age to 30&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">proxyObj</span><span class=\"mtk1\">.</span><span class=\"mtk12\">age</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 30</span></span></span></code></pre>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"proxy\" style=\"position:relative;\"><a href=\"#proxy\" aria-label=\"proxy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Proxy</h2>\n<p>Proxy 라는 단어는 대리인, 대행자, 대리인 역할을 하는 사람 또는 것을 의미합니다. 컴퓨터 과학에서 Proxy 는 다른 객체에 대한 접근을 제어하거나 중개하는 데 사용되는 객체를 가리킵니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">proxy</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Proxy</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">handler</span><span class=\"mtk1\">);</span></span></span></code></pre>\n<p>ES6에서는 Proxy 객체를 통해 메타프로그래밍을 할 수 있습니다. Proxy는 대상 객체를 감싸고 대상 객체의 동작을 가로채서 다양한 작업을 수행할 수 있습니다. 예를 들어, 객체의 프로퍼티에 접근하거나 값을 변경하기 전에 검증을 수행할 수 있습니다.</p>\n<h3 id=\"api\" style=\"position:relative;\"><a href=\"#api\" aria-label=\"api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API</h3>\n<pre class=\"grvsc-container default-dark\" data-language=\"\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.apply()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.construct()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.get()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.has()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.ownKeys()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.set()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.setPrototypeOf()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.getPrototypeOf()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.defineProperty()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.deleteProperty()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.getOwnPropertyDescriptor()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.preventExtensions()</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">handler.isExtensible()</span></span></code></pre>\n<h3 id=\"예시\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C\" aria-label=\"예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시</h3>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">target</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;John&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">30</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">proxy</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Proxy</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">key</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`Accessing </span><span class=\"mtk4\">${</span><span class=\"mtk12\">key</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> property`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">target</span><span class=\"mtk1\">[</span><span class=\"mtk12\">key</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">set</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">key</span><span class=\"mtk1\">, </span><span class=\"mtk12\">value</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`Setting </span><span class=\"mtk4\">${</span><span class=\"mtk12\">key</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> property to </span><span class=\"mtk4\">${</span><span class=\"mtk12\">value</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">target</span><span class=\"mtk1\">[</span><span class=\"mtk12\">key</span><span class=\"mtk1\">] = </span><span class=\"mtk12\">value</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">proxy</span><span class=\"mtk1\">.</span><span class=\"mtk12\">name</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// &quot;Accessing name property&quot; 출력 후 &quot;John&quot; 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">proxy</span><span class=\"mtk1\">.</span><span class=\"mtk12\">age</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">35</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// &quot;Setting age property to 35&quot; 출력</span></span></span></code></pre>\n<p>위 코드에서는 Proxy 객체를 생성하여 **<code>get</code>**과 <strong><code>set</code></strong> 메소드를 정의하였습니다. <strong><code>get</code></strong> 메소드는 프로퍼티에 접근할 때 호출되며, <strong><code>set</code></strong> 메소드는 프로퍼티 값을 변경할 때 호출됩니다. 이를 이용하여 프로퍼티에 접근하거나 값을 변경할 때 로그를 출력하는 작업을 추가하였습니다.</p>\n<h2 id=\"reflect\" style=\"position:relative;\"><a href=\"#reflect\" aria-label=\"reflect permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reflect</h2>\n<p>ES6에서는 Reflect 객체를 통해 Introspection을 할 수 있습니다. Reflect는 자바스크립트의 내장 객체로, 객체와 관련된 메소드를 제공합니다. 예를 들어, <strong><code>Reflect.get</code></strong> 메소드를 사용하여 객체의 프로퍼티 값을 가져올 수 있습니다.</p>\n<h3 id=\"api-1\" style=\"position:relative;\"><a href=\"#api-1\" aria-label=\"api 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API</h3>\n<ul>\n<li>Proxy에 의해 추적 가능한 모든 내부 메서드에는 해당하는 메서드가 Reflect에 있으며, 프록시 트랩과 동일한 이름과 인수를 갖습니다.</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Reflect object methods</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">apply</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">construct</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">has</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">ownKeys</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">set</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">setPrototypeOf</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">defineProperty</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">deleteProperty</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getOwnPropertyDescriptor</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getPrototypeOf</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">isExtensible</span><span class=\"mtk1\">()</span></span></span></code></pre>\n<h3 id=\"예시-1\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%8B%9C-1\" aria-label=\"예시 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예시</h3>\n<ul>\n<li>예제1 - Reflect를 통해, 연산자(new, delete 등)를 함수(Reflect.construct, Reflect.deleteProperty 등) 처럼 호출</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">obj</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;John&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">age:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">30</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">obj</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;name&quot;</span><span class=\"mtk1\">)); </span><span class=\"mtk3\">// &quot;John&quot; 출력</span></span></span></code></pre>\n<ul>\n<li>예제2 - get과 set 트랩. 객체로의 읽기/쓰기 작업을 메시지로 보여주며 투명하게(forward) 전달</li>\n</ul>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">user</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;John&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">user</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Proxy</span><span class=\"mtk1\">(</span><span class=\"mtk12\">user</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">receiver</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">alert</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`GET </span><span class=\"mtk4\">${</span><span class=\"mtk12\">prop</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">receiver</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// (1)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">set</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">val</span><span class=\"mtk1\">, </span><span class=\"mtk12\">receiver</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">alert</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`SET </span><span class=\"mtk4\">${</span><span class=\"mtk12\">prop</span><span class=\"mtk4\">}</span><span class=\"mtk8\">=</span><span class=\"mtk4\">${</span><span class=\"mtk12\">val</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">set</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">val</span><span class=\"mtk1\">, </span><span class=\"mtk12\">receiver</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// (2)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">user</span><span class=\"mtk1\">.</span><span class=\"mtk12\">name</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// shows &quot;GET name&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">user</span><span class=\"mtk1\">.</span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;Pete&quot;</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// shows &quot;SET name=Pete&quot;</span></span></span></code></pre>\n<h3 id=\"reflect를-사용해야-하는-이유\" style=\"position:relative;\"><a href=\"#reflect%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"reflect를 사용해야 하는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reflect를 사용해야 하는 이유</h3>\n<p>대부분의 경우에는 Reflect 없이도 동일한 작업을 수행할 수 있습니다. 예를 들어, 속성을 읽는 Reflect.get(target, prop, receiver)은 target[prop]로 대체될 수 있습니다.</p>\n<p>하지만 아래의 3가지 이유로 인해서 Reflect를 사용해야 하고, Proxy와 함께 사용할때 Reflect를 사용하지 않는다면 어떤일이 벌어지는지는 아래 예시 코드로 넣어 두겠습니다. 이는 3번 확장성과 관련있습니다.</p>\n<ol>\n<li>표준화된 방식의 코드 작성: Reflect는 ECMAScript 표준의 일부입니다. 따라서 Reflect.get()를 사용하여 코드를 작성하면 코드를 이해하기 쉬우며 유지 보수 및 업그레이드 작업이 용이해집니다.</li>\n<li>객체 reflection 관련 기능 지원: Reflect는 객체 리플렉션 관련 기능을 제공하는 유용한 메서드들을 모아 놓은 객체입니다. 따라서 객체의 속성을 접근할 때 Reflect.get()을 사용하면 다른 리플렉션 관련 메서드들과의 일관성을 유지할 수 있습니다.</li>\n<li>확장성: Reflect.get()는 프로퍼티에 대한 접근을 가로챌 수 있는 Proxy 객체에서도 사용할 수 있습니다. <strong>Proxy 객체를 사용하여 객체에 대한 커스텀 로직을 추가할 때, Reflect.get()을 사용하면 기존 동작을 유지하면서 커스텀 로직을 추가할 수 있습니다.</strong></li>\n</ol>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">user</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">_name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;Guest&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">get</span><span class=\"mtk1\"> </span><span class=\"mtk11\">name</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">_name</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">userProxy</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Proxy</span><span class=\"mtk1\">(</span><span class=\"mtk12\">user</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">receiver</span><span class=\"mtk1\">) { </span><span class=\"mtk3\">// receiver = admin</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// return target[prop]; // (*) target = user</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Reflect</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">target</span><span class=\"mtk1\">, </span><span class=\"mtk12\">prop</span><span class=\"mtk1\">, </span><span class=\"mtk12\">receiver</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// (*)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">admin</span><span class=\"mtk1\"> = {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">__proto__:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">userProxy</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">_name:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;Admin&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">alert</span><span class=\"mtk1\">(</span><span class=\"mtk12\">admin</span><span class=\"mtk1\">.</span><span class=\"mtk12\">name</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// Admin</span></span></span></code></pre>\n<p>출처:  <strong><a href=\"https://ko.javascript.info/proxy#ref-652\">Proxying a getter</a></strong></p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>메타프로그래밍은 프로그램의 유지보수성과 재사용성을 향상시키는 중요한 기술입니다. ES6에서는 Proxy와 Reflect 객체를 통해 메타프로그래밍을 할 수 있습니다. 이를 이용하여 코드의 동작을 수정하거나 객체의 내부 정보에 접근할 수 있습니다. 이를 이용하여 코드를 더욱 유연하고 강력하게 만들 수 있습니다.</p>\n<p>하지만, Self-Modification(자기 자신을 수정하는 것)은 코드의 복잡도를 높이고 디버깅을 어렵게 만드는 등 위험성이 높기 때문에 최대한 피하는 것이 좋습니다. 이에 대한 대안으로는 Proxy와 Reflect 객체를 이용하여 동적으로 객체를 생성하고 조작할 수 있습니다.</p>\n<p>이상으로 메타프로그래밍, Proxy, Reflect에 대해 간단히 살펴보았습니다. 이를 이용하여 좀 더 유연하고 강력한 코드를 작성할 수 있습니다.</p>\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<ul>\n<li><a href=\"https://ko.javascript.info/proxy\">https://ko.javascript.info/proxy</a></li>\n<li><a href=\"https://www.freecodecamp.org/news/what-is-metaprogramming-in-javascript-in-english-please/\">https://www.freecodecamp.org/news/what-is-metaprogramming-in-javascript-in-english-please/</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"May 07, 2023","title":"Proxy, Reflect와 메타프로그래밍","categories":"javascript","author":"soobing"},"fields":{"slug":"/javascript/metaprogramming/"}},"prev":{"id":"1a5d4b16-06aa-572e-802e-98a3de358758","html":"<blockquote>\n<p>원문: <a href=\"https://www.tecforfun.com/frameworks/how-to-manage-server-state-with-react-query/\">https://www.tecforfun.com/frameworks/how-to-manage-server-state-with-react-query/</a></p>\n</blockquote>\n<p>React Query는 React 애플리케이션에서 데이터 페칭과 캐싱 프로세스를 간소화하는 라이브러리입니다. 이 라이브러리는 API와 기타 데이터 소스로부터 데이터를 페칭하고 업데이트하는 데 필요한 도구와 유틸리티를 제공하며 데이터 페칭의 상태와 캐싱을 자동으로 관리합니다. 이 라이브러리는 React 컴포넌트에서 데이터를 더 쉽게 다룰 수 있도록 다양한 훅과 유틸리티를 제공합니다.</p>\n<p>이 포스트에서는 React Query의 주요 기능에 대해 이야기하겠습니다. 여기서 제 목적은 가능한 한 빨리 React Query를 사용하여 작업을 시작할 수 있는 출발점을 제공하는 것입니다.</p>\n<p>React 앱 개발에 경험이 있다면, 클라이언트 상태 관리를 위해 Redux와 같은 라이브러리를 사용한 적이 있을 수 있습니다. 반면에, React Query는 서버 상태를 관리하기 위한 라이브러리입니다. 그러므로 React Query에 대해 이야기하기 전에 클라이언트 상태와 서버 상태의 차이에 대해 알아보도록 하겠습니다.</p>\n<h2 id=\"클라이언트-상태-vs-서버-상태\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EC%83%81%ED%83%9C-vs-%EC%84%9C%EB%B2%84-%EC%83%81%ED%83%9C\" aria-label=\"클라이언트 상태 vs 서버 상태 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클라이언트 상태 vs 서버 상태</h2>\n<p>클라이언트 상태와 서버 상태의 차이점을 살펴보겠습니다. 이는 React Query가 어떤 역할을 하는지와 서버 상태 관리를 위해 다른 라이브러리가 왜 필요한지를 이해하는 데 도움이 됩니다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>클라이언트 상태</th>\n<th>서버 상태</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>위치</td>\n<td>클라이언트(브라우저 또는 기기)에 저장된 데이터</td>\n<td>서버나 외부 데이터 소스에 저장된 데이터</td>\n</tr>\n<tr>\n<td>접근성</td>\n<td>저장한 클라이언트만 접근 가능</td>\n<td>접근 권한이 있는 모든 클라이언트 접근 가능</td>\n</tr>\n<tr>\n<td>데이터 관리</td>\n<td>클라이언트에서 관리(예: Redux와 같은 상태 관리 라이브러리 사용)</td>\n<td>서버에서 관리(예: 데이터베이스 사용)</td>\n</tr>\n<tr>\n<td>지속성</td>\n<td>세션 간에 지속성이 유지되거나 유지되지 않을 수 있음</td>\n<td>일반적으로 세션 간에 지속성 유지</td>\n</tr>\n<tr>\n<td>네트워크 요청</td>\n<td>데이터를 가져오거나 업데이트하려면 네트워크 요청이 필요할 수 있음</td>\n<td>데이터 접근 또는 업데이트를 위해 네트워크 요청이 필요할 수 있음</td>\n</tr>\n<tr>\n<td>보안</td>\n<td>클라이언트가 액세스할 수 있고 변조 또는 가로채기의 대상이 될 수 있으므로 보안 수준이 낮을 수 있음</td>\n<td>인증 및 암호화로 보호할 수 있으므로 더 안전할 수 있음</td>\n</tr>\n<tr>\n<td>성능</td>\n<td>네트워크 요청이 필요하지 않기 때문에 서버 상태에 비해 접근하고 업데이트하는 속도가 빠를 수 있음</td>\n<td>네트워크 요청이 필요할 수 있으므로 클라이언트 상태에 비해 접근하고 업데이트하는 속도가 느릴 수 있음</td>\n</tr>\n<tr>\n<td>확장성</td>\n<td>클라이언트 기기의 용량에 제한을 받을 수 있기 때문에 서버 상태보다 확장성이 떨어질 수 있음</td>\n<td>전용 서버나 고용량의 데이터 소스로 관리되기 때문에 클라이언트 상태보다 확장성이 더 높을 수 있음</td>\n</tr>\n<tr>\n<td>예시</td>\n<td>컴포넌트 상태, Redux 상태, 브라우저 쿠키</td>\n<td>데이터베이스 레코드, API 응답, 서버 세션 데이터</td>\n</tr>\n</tbody>\n</table>\n<p>표: 클라이언트 상태 vs 서버 상태</p>\n<p>기존에는 React 개발자들은 클라이언트 상태 관리를 위해 Redux나 React Context API를 사용해왔습니다. API 데이터와 상호작용할 때에는 주로 <a href=\"https://www.tecforfun.com/frameworks/how-to-create-a-dynamic-table-in-react-with-api-data/\"><code>useState</code> 훅과 <code>useEffect</code> 훅의 조합</a>을 통해 fetch API 데이터를 가져와 클라이언트 상태에 반영합니다.</p>\n<p>React Query는 API 데이터를 캐싱하고 관리하기 위한 훅과 유틸리티를 제공함으로써, 원격 데이터 소스로부터 데이터 페칭을 위해 사용하는 <code>useState</code>와 <code>useEffect</code> 훅을 대체할 수 있는 라이브러리입니다. 이 라이브러리는 API 데이터를 가져오는 과정을 간소화하고, 캐시를 처리하며, API 요청의 로딩 및 오류 상태를 관리합니다.</p>\n<h2 id=\"react-query에서의-네-가지-기본-개념\" style=\"position:relative;\"><a href=\"#react-query%EC%97%90%EC%84%9C%EC%9D%98-%EB%84%A4-%EA%B0%80%EC%A7%80-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90\" aria-label=\"react query에서의 네 가지 기본 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Query에서의 네 가지 기본 개념</h2>\n<p>React Query를 사용하기 위해 반드시 이해해야 할 네 가지 기본 개념이 있습니다.</p>\n<ol>\n<li>쿼리(Queries):\n<ol>\n<li>API 엔드포인트나 데이터베이스와 같은 원격 데이터 소스로부터 데이터를 요청</li>\n<li><code>useQuery</code> 훅을 사용하여 관리됨</li>\n</ol>\n</li>\n<li>뮤테이션(Mutations)\n<ol>\n<li>서버에 새로운 데이터를 추가하거나 기존 데이터를 수정하는 요청</li>\n<li><code>useMutation</code> 훅을 사용하여 관리됨</li>\n</ol>\n</li>\n<li>쿼리 캐싱(Query Caching): 쿼리 캐싱은 React Query의 내장 기능으로, 쿼리 결과를 메모리에 저장</li>\n<li>쿼리 무효화(Query Invalidation): 쿼리를 무효하거나 오래된 상태로 표시하는 과정</li>\n</ol>\n<h2 id=\"usequery-훅으로-데이터-페칭\" style=\"position:relative;\"><a href=\"#usequery-%ED%9B%85%EC%9C%BC%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8E%98%EC%B9%AD\" aria-label=\"usequery 훅으로 데이터 페칭 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useQuery 훅으로 데이터 페칭</h2>\n<p>공식 문서에서 “쿼리는 고유 키에 연결된 데이터의 비동기 소스에 대한 선언적 종속성(declarative dependency)입니다.”라고 나와 있습니다.</p>\n<p>정말 복잡한 설명이네요 !!!!</p>\n<p>여기에서 <strong>선언적 종속성</strong>은 코드(useQuery훅 사용)에서 선언한 쿼리를 나타냅니다. 이 쿼리는 API 데이터 포인트 또는 데이터베이스에서 <strong>비동기적으로</strong> 데이터를 가져오도록 서버에 요청하는 것입니다.</p>\n<p>이제 <code>useQuery</code> 훅으로 어떻게 이 작업을 수행하는 방법을 살펴보겠습니다.</p>\n<p>useQuery 훅은 두 가지 필수 옵션(프로퍼티)을 사용합니다.</p>\n<ol>\n<li><strong>고유한 키</strong></li>\n<li><strong>promise를 반환하는 함수</strong></li>\n</ol>\n<p>코드 구문:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">query</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useQuery</span><span class=\"mtk1\">( { </span><span class=\"mtk12\">queryKey:</span><span class=\"mtk1\"> [ ‘</span><span class=\"mtk12\">key</span><span class=\"mtk1\">’ ],   </span><span class=\"mtk12\">queryFn:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">callback</span><span class=\"mtk1\"> })</span></span></span></code></pre>\n<p><code>querykey</code> 는 고유한 키 입니다. React Query의 최신 안정 버전에서는 이 키를 지정하기 위해 배열 표기법을 사용해야 합니다.</p>\n<p><code>queryFn</code> 은 useQuery 훅이 호출될 때 React Query에 의해 실행되는 콜백 함수입니다. 이 함수는 <code>useQuery</code> 훅의 실행 중에 특정 시점에서 명세한 작업(데이터 페칭)을 수행합니다.</p>\n<p><a href=\"https://www.tecforfun.com/ezoic/video/embed.go?contentId=56315d685adc63fc646ee2880771f3badc50210195c93583c60972921a420f7a\">https://www.tecforfun.com/ezoic/video/embed.go?contentId=56315d685adc63fc646ee2880771f3badc50210195c93583c60972921a420f7a</a></p>\n<p><a href=\"https://humix.com/redirect?url=https%3A%2F%2Fwebninjadeveloper.com%2Fhumix%2Fvideo%2F56315d685adc63fc646ee2880771f3badc50210195c93583c60972921a420f7a\">자바스크립트 페치 API 예제 - A Real World App</a></p>\n<p>이 두 가지 옵션 외에 선택적 프로퍼티를 가질 수도 있습니다. 다음 섹션에서 중요한 몇 가지를 다룰 예정 입니다.</p>\n<p>예시:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getProducts</span><span class=\"mtk1\"> = () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">( </span><span class=\"mtk8\">&#39;https://jsonplaceholder.typicode.com/users&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                          .</span><span class=\"mtk11\">then</span><span class=\"mtk1\">( </span><span class=\"mtk12\">res</span><span class=\"mtk1\">  </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">() )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">query</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useQuery</span><span class=\"mtk1\">( { </span><span class=\"mtk12\">queryKey:</span><span class=\"mtk1\"> [‘</span><span class=\"mtk12\">users</span><span class=\"mtk1\">’],   </span><span class=\"mtk12\">queryFn:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">getTodos</span><span class=\"mtk1\"> })</span></span></span></code></pre>\n<h2 id=\"무엇을-반환하는가\" style=\"position:relative;\"><a href=\"#%EB%AC%B4%EC%97%87%EC%9D%84-%EB%B0%98%ED%99%98%ED%95%98%EB%8A%94%EA%B0%80\" aria-label=\"무엇을 반환하는가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>무엇을 반환하는가</h2>\n<p><code>useQuery</code> 훅은 객체를 반환합니다. 이 객체는 쿼리의 상태에 대한 정보가 포함되어 있습니다. 중요한 프로퍼티 및 메서드 중 일부는 아래와 같습니다.</p>\n<p><strong>프로퍼티</strong></p>\n<ol>\n<li><code>data</code>: 성공적으로 페칭된 경우 쿼리로부터 반환된 데이터</li>\n<li><code>error</code>: (에러가 발생했다면) 쿼리 도중 발생한 모든 에러</li>\n<li><code>isLoading</code>: 쿼리가 현재 로딩 중인지 여부를 나타내는 불리언 값</li>\n<li><code>isError</code>: 쿼리 결과가 오류인지 여부를 나타내는 불리언 값</li>\n</ol>\n<p><strong>메서드</strong></p>\n<ul>\n<li><code>refetch</code>: 쿼리 데이터를 수동으로 리페치 하도록 트리거하는 함수</li>\n<li><code>remove</code>: 캐시에서 특정 쿼리를 제거할 수 있는 함수</li>\n</ul>\n<p>따라서, 이러한 프로퍼티들의 값에 접근하기 위해 자바스크립트 구조 분해 할당을 사용할 수 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">isLoading</span><span class=\"mtk1\">, </span><span class=\"mtk12\">isError</span><span class=\"mtk1\">, </span><span class=\"mtk12\">data</span><span class=\"mtk1\">, </span><span class=\"mtk12\">error</span><span class=\"mtk1\"> } = </span><span class=\"mtk11\">useQuery</span><span class=\"mtk1\">( { </span><span class=\"mtk12\">queryKey:</span><span class=\"mtk1\"> [‘</span><span class=\"mtk12\">todos</span><span class=\"mtk1\">’], </span><span class=\"mtk12\">queryFn:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">getTodos</span><span class=\"mtk1\"> });</span></span></span></code></pre>\n<p><a href=\"https://tanstack.com/query/v4/docs/react/reference/useQuery\">공식 문서에서 <code>useQuery</code>의 모든 레퍼런스</a>를 확인할 수 있습니다.</p>\n<h2 id=\"usequery와-데이터-리페칭-api\" style=\"position:relative;\"><a href=\"#usequery%EC%99%80-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A6%AC%ED%8E%98%EC%B9%AD-api\" aria-label=\"usequery와 데이터 리페칭 api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useQuery와 데이터 리페칭 API</h2>\n<p>기본적으로, <code>useQuery</code>는 컴포넌트가 처음으로 마운트될 때 API에서 데이터를 자동으로 페칭합니다. 그러나 데이터의 이후 업데이트는 자동으로 가져오지 않습니다. 다시 말해, API 엔드포인트나 서버에서 업데이트가 발생한 후에도 <code>useQuery</code>는 데이터를 다시 가져오지 않습니다.</p>\n<p>기본적으로, <code>useQuery</code>의 옵션인 <code>refetchOnMount</code>, <code>refetchOnReconnect</code>, <code>refetchOnWindowFocus</code>와 같은 값들은 true로 설정됩니다.</p>\n<p>다음 표를 살펴보세요.</p>\n<table>\n<thead>\n<tr>\n<th>useQuery 옵션</th>\n<th>역할</th>\n<th>기본값</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>refetchOnWindowFocus</td>\n<td>데이터가 오래된(stale) 경우 브라우저 창이 포커스 되면 리페치</td>\n<td>true</td>\n</tr>\n<tr>\n<td>refetchOnMount</td>\n<td>데이터가 오래된 경우 마운트 시 리페치</td>\n<td>true</td>\n</tr>\n<tr>\n<td>refetchOnReconnect</td>\n<td>데이터가 오래된 경우 재연결 시 리페치</td>\n<td>true</td>\n</tr>\n</tbody>\n</table>\n<p>브라우저를 백그라운드에서 유휴(idle) 상태로 유지하는 상황을 가정해 보겠습니다. 누군가는 API 데이터/서버를 업데이트하기 위해 요청을 보내고 데이터가 업데이트됩니다. 그러나 브라우저는 백그라운드에 있기 때문에 UI가 업데이트되지 않습니다. useQuery에는 API 엔드포인트/서버에서 업데이트된 데이터를 다시 가져올 트리거가 없습니다. 이러한 상황에서는 <code>refetchInterval</code> 옵션을 사용할 수 있습니다. 이 옵션을 사용하면 지정된 밀리초 단위의 주기로 useQuery를 실행하여 데이터를 다시 가져올 수 있습니다. 이렇게 하면 브라우저 창이 유휴(idle) 상태일 때에도 데이터를 다시 가져올 수 있습니다.</p>\n<h2 id=\"usemutation-훅을-사용하여-데이터를-생성-업데이트-및-삭제\" style=\"position:relative;\"><a href=\"#usemutation-%ED%9B%85%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EC%83%9D%EC%84%B1-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%EB%B0%8F-%EC%82%AD%EC%A0%9C\" aria-label=\"usemutation 훅을 사용하여 데이터를 생성 업데이트 및 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>useMutation 훅을 사용하여 데이터를 생성, 업데이트 및 삭제</h2>\n<p>이제 <code>useMutation</code> 훅을 살펴보겠습니다. 이 훅을 사용하여 API 엔드포인트나 서버에서 데이터를 생성, 업데이트 또는 삭제할 수 있습니다.</p>\n<p><code>useMutation</code> 훅은 적어도 하나의 옵션을 필요로 하며, 다른 옵션은 모두 선택적입니다.</p>\n<p>코드 구문:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">mutation</span><span class=\"mtk1\"> =  </span><span class=\"mtk11\">useMutation</span><span class=\"mtk1\">({  </span><span class=\"mtk12\">mutationFn:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">mutationFunction</span><span class=\"mtk1\"> })</span></span></span></code></pre>\n<p>예시:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">AddUser</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useMutation</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk11\">mutationFn</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> ( </span><span class=\"mtk12\">user</span><span class=\"mtk1\"> ) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">       </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk11\">fetch</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;https://jsonplaceholder.typicode.com/users&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">method:</span><span class=\"mtk8\">&#39;post&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">headers:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">             </span><span class=\"mtk8\">&quot;Content-Type&quot;</span><span class=\"mtk12\">:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;application/json&quot;</span><span class=\"mtk1\">,          </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">body:</span><span class=\"mtk10\">JSON</span><span class=\"mtk1\">.</span><span class=\"mtk11\">stringify</span><span class=\"mtk1\">( </span><span class=\"mtk12\">user</span><span class=\"mtk1\"> )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }).</span><span class=\"mtk11\">then</span><span class=\"mtk1\">( </span><span class=\"mtk12\">res</span><span class=\"mtk1\"> </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\">  </span><span class=\"mtk12\">res</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">() )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span></code></pre>\n<h2 id=\"무엇을-반환하는가-1\" style=\"position:relative;\"><a href=\"#%EB%AC%B4%EC%97%87%EC%9D%84-%EB%B0%98%ED%99%98%ED%95%98%EB%8A%94%EA%B0%80-1\" aria-label=\"무엇을 반환하는가 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>무엇을 반환하는가</h2>\n<p><code>useMutation</code> 훅은 객체를 반환합니다. 이 객체에는 뮤테이션과 상호 작용하고 결과를 처리하는 데 사용할 수 있는 여러 프로퍼티와 메서드가 포함되어 있습니다. 그 중 일부는 다음과 같습니다.</p>\n<p><strong>프로퍼티</strong></p>\n<ul>\n<li><code>isLoading</code>: 현재 뮤테이션이 진행 중인지 여부를 나타내는 불리언 값</li>\n<li><code>isSuccess</code>: 뮤테이션이 성공적으로 완료되었는지 여부를 나타내는 불리언 값</li>\n<li><code>isError</code>: 뮤테이션 중에 오류가 발생했는지 여부를 나타내는 불리언 값</li>\n<li><code>data</code>: (데이터가 있다면) 뮤테이션에 의해 반환된 데이터</li>\n</ul>\n<p><strong>메서드</strong></p>\n<ul>\n<li><code>mutate</code>: 이 뮤테이션을 실행하기 위해 호출할 수 있는 함수. 첫 번째 인자로 필요한 변수를 가진 객체를 전달 가능</li>\n<li><code>reset</code>: 뮤테이션을 초기 상태로 리셋하는 함수</li>\n<li><code>onSuccess</code>: 뮤테이션이 성공적으로 완료되었을 때 호출될 콜백을 정의할 수 있는 함수</li>\n<li><code>onError</code>: 뮤테이션 중 오류가 발생했을 때 호출될 콜백을 정의할 수 있는 함수</li>\n</ul>\n<p><code>[useMutation</code> 훅에 대한 모든 레퍼런스는 공식문서](<a href=\"https://tanstack.com/query/v4/docs/react/reference/useMutation)%EC%97%90%EC%84%9C\">https://tanstack.com/query/v4/docs/react/reference/useMutation)에서</a> 확인할 수 있습니다.</p>\n<h2 id=\"react-query에서의-쿼리-캐싱\" style=\"position:relative;\"><a href=\"#react-query%EC%97%90%EC%84%9C%EC%9D%98-%EC%BF%BC%EB%A6%AC-%EC%BA%90%EC%8B%B1\" aria-label=\"react query에서의 쿼리 캐싱 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Query에서의 쿼리 캐싱</h2>\n<p>useQuery 훅을 사용하여 원격 서버에서 일부 사용자 데이터를 가져오는 경우가 있다고 가정해 봅시다. 데이터를 받는 동안 시간이 걸릴 수 있습니다. React Query는 이 사용자 데이터를 캐시에 저장하여 이후 동일한 요청 시 더 빠르게 찾을 수 있도록 합니다. 이를 통해 데이터 로드하는 데 걸리는 시간을 줄일 수 있습니다.</p>\n<p>앞서 언급한 대로, useQuery 훅은 고유한 키를 사용합니다. 서버에서 반환된 데이터는 이 키 아래에 캐시됩니다. 예를 들어, <code>[‘users’]</code>를 키로 사용한다면, 이 키는 캐시에서 동일한 API 엔드포인트에 대한 후속 요청 데이터를 추출하는 데 사용될 것입니다.</p>\n<p>기본적으로, useQuery는 이 캐시 데이터를 오래된(stale) 상태로 표시합니다. React Query 캐싱과 관련된 두 가지 옵션을 알아야 합니다. 바로 <code>staleTime</code>과 <code>cacheTime</code>입니다.</p>\n<p><code>staleTime</code>: 쿼리 결과가 오래된 것으로 간주되는 데 걸리는 시간을 결정합니다. 시간은 밀리초로 지정됩니다.</p>\n<p>예: <code>staleTime: 5000</code> // 데이터는 최대 5초 동안 stale 상태로 유지됨</p>\n<p>이는 데이터가 5초가 지난 후에 stale 상태가 됨을 의미합니다.</p>\n<p>반면에, <code>cacheTime</code> 옵션은 쿼리 결과가 캐시에 유지되는 시간을 지정합니다.</p>\n<p>예: <code>cacheTime: 60000</code> // 데이터가 1분 동안 캐시에 유지됨</p>\n<p>이는 쿼리 결과가 1분 동안 캐시에 유지되며 그 이후에는 데이터가 가비지 컬렉션됨을 의미합니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">query</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useQuery</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">queryKey:</span><span class=\"mtk1\"> [‘</span><span class=\"mtk12\">users</span><span class=\"mtk1\">’],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">queryFn:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">getUsers</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">staleTime:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">5000</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">cacheTime:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">60000</span><span class=\"mtk1\"> </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    })</span></span></span></code></pre>\n<h2 id=\"react-query에서의-쿼리-무효화invalidation\" style=\"position:relative;\"><a href=\"#react-query%EC%97%90%EC%84%9C%EC%9D%98-%EC%BF%BC%EB%A6%AC-%EB%AC%B4%ED%9A%A8%ED%99%94invalidation\" aria-label=\"react query에서의 쿼리 무효화invalidation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React Query에서의 쿼리 무효화(Invalidation)</h2>\n<p>이전에 설명한 대로, 캐시에 저장된 데이터는 staleTime 옵션에 따라 오래된 데이터로 처리될 수 있습니다. 그러나 특정 상황에서는 <code>staleTime</code>을 무시하고 데이터를 무효화시키거나 오래되었다고 표시해야 하는 상황이 발생할 수 있습니다. 예를 들어, API에 POST 요청을 보낼 때는 API 엔드포인트의 데이터가 최신 데이터이므로 수동으로 캐시에 있는 데이터를 유효하지 않은 것으로 표시해야 합니다. 결과적으로, POST 요청 후에는 즉시 캐시의 데이터가 오래되었다고 간주됩니다.</p>\n<p>이를 해결하기 위해, React Query의 <code>QueryClient</code> 객체는 <code>invalidateQueries</code> 메서드를 제공합니다. 이 메서드는 모든 쿼리 또는 특정 쿼리를 오래된(stale) 상태로 표시할 수 있습니다. 또한 고유한 키를 사용하여 특정 쿼리를 오래된 상태로 표시할 수도 있습니다.</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"jsx\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">useQueryClient</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;@tanstack/react-query&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// useQueryClient 훅을 사용하여 queryClient 객체 생성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">queryClient</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useQueryClient</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 캐시의 모든 쿼리 무효화</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">queryClient</span><span class=\"mtk1\">.</span><span class=\"mtk11\">invalidateQueries</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// &#39;users&#39;로 시작하는 키가 있는 모든 쿼리 무효화</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">queryClient</span><span class=\"mtk1\">.</span><span class=\"mtk11\">invalidateQueries</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">queryKey:</span><span class=\"mtk1\"> [</span><span class=\"mtk8\">&#39;users&#39;</span><span class=\"mtk1\">] })</span></span></span></code></pre>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>이 글에서는 React Query가 무엇인지와 그 필요성에 대해 다뤘습니다. React Query는 서버 상태를 관리하기 위한 강력한 라이브러리입니다. 이는 <code>useQuery</code>와 같은 React 훅을 활용하여 API 엔드포인트나 서버에서 데이터를 가져오고 <code>useMutation</code>을 사용하여 원격 데이터를 조작합니다. React Query는 메모리 내 캐시를 관리하는 스마트 캐싱 메커니즘을 갖추고 있습니다. 이를 통해 캐시가 원격 데이터 소스와 동기화되도록 보장합니다. React Query를 사용하면, 코드를 간소화하고 React 애플리케이션의 성능을 최적화할 수 있습니다.</p>\n<h2 id=\"resources\" style=\"position:relative;\"><a href=\"#resources\" aria-label=\"resources permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resources</h2>\n<p><a href=\"https://github.com/dineshigdd/react-query-js\">전체 코드 다운로드</a></p>\n<p>참고: 데모 프로젝트에서는 <a href=\"https://mockapi.io/\">mockapi.io</a>로 생성한 모의 API를 활용합니다. 그러나 mockapi.io를 사용하여 직접 자신만의 API 엔드포인트를 생성하는 것을 강력히 추천합니다. 이는 배우는 동안 실험을 하는 것이 더 쉬울 수 있기 때문입니다.</p>\n<p><a href=\"https://www.tecforfun.com/misc/how-to-set-up-mock-api-at-mockapi-io/\">mockapi.io에서 모의 API를 만드는 방법</a> 알아보기</p>\n<p><a href=\"https://tanstack.com/query/v4/docs/react/installation\">React Query 설치</a></p>\n<p><a href=\"https://tanstack.com/query/v4/docs/react/guides/queries\">React Query에서 쿼리들</a></p>\n<p><a href=\"https://tanstack.com/query/v4/docs/react/guides/mutations\">React Query 에서 뮤테이션들</a></p>\n<p><a href=\"https://tanstack.com/query/v4/docs/react/guides/query-invalidation\">React Query에서 쿼리 무효화</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"June 21, 2023","title":"(번역) React Query를 사용하여 서버 상태를 관리하는 방법","categories":"react","author":"soobing"},"fields":{"slug":"/react/How-to-manage-server-state-with-React-Query/"}},"site":{"siteMetadata":{"siteUrl":"https://soobing.github.io","comments":{"utterances":{"repo":"soobing/soobing.github.io"}}}}},"pageContext":{"slug":"/cs/6-caching-strategies/","nextSlug":"/javascript/metaprogramming/","prevSlug":"/react/How-to-manage-server-state-with-React-Query/"}},
    "staticQueryHashes": ["1073350324","2938748437"]}